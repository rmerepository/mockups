!function(a,b,c){function C(){}function H(a,b){if(b)return"'"+a.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var c=a.charAt(0),d=a.substring(1);return"="===c?"+("+d+")+":":"===c?"+e("+d+")+":";"+a+";o+="}function P(a,b,c){return a+="",b=b||2,c=b-a.length,c?O[b].substring(0,c)+a:a}function Q(b,c){var f,e=m.browser,g="rtl"==b.css("direction");if(b.parent().hasClass("k-animation-container")){var v=b.parent(".k-animation-container"),w=v[0].style;v.is(":hidden")&&v.show(),f=n.test(w.width)||n.test(w.height),f||v.css({width:b.outerWidth(),height:b.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}else{var h=b.css(d.support.transitions.css+"box-shadow")||b.css("box-shadow"),i=h?h.match(p)||[0,0,0,0,0]:[0,0,0,0,0],k=j.max(+i[3],+(i[4]||0)),l=-i[1]+k,o=+i[1]+k,q=+i[2]+k,r=b[0].style.width,s=b[0].style.height,t=n.test(r),u=n.test(s);e.opera&&(l=o=q=5),f=t||u,!t&&(!c||c&&r)&&(r=b.outerWidth()),!u&&(!c||c&&s)&&(s=b.outerHeight()),b.wrap(a("<div/>").addClass("k-animation-container").css({width:r,height:s,marginLeft:l*(g?1:-1),paddingLeft:l,paddingRight:o,paddingBottom:q})),f&&b.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}return e.msie&&j.floor(e.version)<=7&&(b.css({zoom:1}),b.children(".k-menu").width(b.width())),b.parent()}function R(a){var b=1,c=arguments.length;for(b=1;c>b;b++)S(a,arguments[b]);return a}function S(a,b){var f,g,h,i,c=d.data.ObservableArray,e=d.data.DataSource;for(f in b)g=b[f],h=typeof g,h===u&&null!==g&&g.constructor!==Array&&g.constructor!==c&&g.constructor!==e?g instanceof Date?a[f]=new Date(g.getTime()):(i=a[f],a[f]=typeof i===u?i||{}:{},S(a[f],g)):h!==x&&(a[f]=g);return a}function T(a,b,d){for(var e in b)if(b.hasOwnProperty(e)&&b[e].test(a))return e;return d!==c?d:a}function U(a){return a.replace(/([a-z][A-Z])/g,function(a){return a.charAt(0)+"-"+a.charAt(1).toLowerCase()})}function V(a){return a.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()})}function W(b,c){var f,e={};return document.defaultView&&document.defaultView.getComputedStyle?(f=document.defaultView.getComputedStyle(b,""),c&&a.each(c,function(a,b){e[b]=f.getPropertyValue(b)})):(f=b.currentStyle,c&&a.each(c,function(a,b){e[b]=f[V(b)]})),d.size(e)||(e=f),e}function X(a){var c,b=0;for(c in a)a.hasOwnProperty(c)&&"toJSON"!=c&&b++;return b}function Y(a,b,c){b||(b="offset");var e=a[b](),f=m.mobileOS;if(m.touch&&f.ios&&f.flatVersion<410){var g="offset"==b?e:a.offset(),h=e.left==g.left&&e.top==g.top;if(h)return{top:e.top-window.scrollY,left:e.left-window.scrollX}}return!d.support.pointers&&!d.support.msPointers||c||(e.top-=window.pageYOffset-document.documentElement.scrollTop,e.left-=window.pageXOffset-document.documentElement.scrollLeft),e}function $(a){var b={};return f("string"==typeof a?a.split(" "):a,function(a){b[a]=this}),b}function _(a){return new d.effects.Element(a)}function bb(a,b,c,d){return typeof a===s&&(D(b)&&(d=b,b=400,c=!1),D(c)&&(d=c,c=!1),typeof b===w&&(c=b,b=400),a={effects:a,duration:b,reverse:c,complete:d}),e({effects:{},duration:400,reverse:!1,init:i,teardown:i,hide:!1},a,{completeCallback:a.complete,complete:i})}function cb(b,c,d,e,f){for(var i,g=0,h=b.length;h>g;g++)i=a(b[g]),i.queue(function(){ab.promise(i,bb(c,d,e,f))});return b}function db(a,b,c,d,e,f){return ab.transitionPromise(a,b,bb(c,d,e,f))}function eb(a,b,c,d){return b&&(b=b.split(" "),f(b,function(b,c){a.toggleClass(c,d)})),a}function ib(a){return(""+a).replace(fb,"&amp;").replace(gb,"&lt;").replace(hb,"&gt;")}function rb(a,e){var f;return 0===e.indexOf("data")&&(e=e.substring(4),e=e.charAt(0).toLowerCase()+e.substring(1)),e=e.replace(qb,"-$1"),f=a.getAttribute("data-"+d.ns+e),null===f?f=c:"null"===f?f=null:"true"===f?f=!0:"false"===f?f=!1:q.test(f)?f=parseFloat(f):ob.test(f)&&!pb.test(f)&&(f=b("("+f+")")),f}function sb(b,e){var g,h,f={};for(g in e)h=rb(b,g),h!==c&&(nb.test(g)&&(h=d.template(a("#"+h).html())),f[g]=h);return f}function vb(a,b){var c=a.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(c)?!a.disabled:"a"===c?a.href||b:b)&&wb(a)}function wb(b){return!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")||a.expr.filters.hidden(this)}).length}function Eb(a,b){return new Eb.fn.init(a,b)}var k,d=window.kendo=window.kendo||{cultures:{}},e=a.extend,f=a.each,g=a.isArray,h=a.proxy,i=a.noop,j=Math,l=window.JSON||{},m={},n=/%/,o=/\{(\d+)(:[^\}]+)?\}/g,p=/(\d+?)px\s*(\d+?)px\s*(\d+?)px\s*(\d+?)?/i,q=/^(\+|-?)\d+(\.?)\d*$/,r="function",s="string",t="number",u="object",v="null",w="boolean",x="undefined",y={},z={},A=[].slice,B=window.Globalize;d.version="2013.3.1119",C.extend=function(a){var c,g,b=function(){},d=this,f=a&&a.init?a.init:function(){d.apply(this,arguments)};b.prototype=d.prototype,g=f.fn=f.prototype=new b;for(c in a)g[c]=typeof a[c]!==u||a[c]instanceof Array||null===a[c]?a[c]:e(!0,{},b.prototype[c],a[c]);return g.constructor=f,f.extend=d.extend,f},C.prototype._initOptions=function(a){this.options=R({},this.options,a)};var D=d.isFunction=function(a){return"function"==typeof a},E=function(){this._defaultPrevented=!0},F=function(){return this._defaultPrevented===!0},G=C.extend({init:function(){this._events={}},bind:function(a,b,d){var f,h,i,j,l,e=this,g=typeof a===s?[a]:a,k=typeof b===r;if(b===c){for(f in a)e.bind(f,a[f]);return e}for(f=0,h=g.length;h>f;f++)a=g[f],j=k?b:b[a],j&&(d&&(i=j,j=function(){e.unbind(a,j),i.apply(e,arguments)}),l=e._events[a]=e._events[a]||[],l.push(j));return e},one:function(a,b){return this.bind(a,b,!0)},first:function(a,b){var d,f,g,i,c=this,e=typeof a===s?[a]:a,h=typeof b===r;for(d=0,f=e.length;f>d;d++)a=e[d],g=h?b:b[a],g&&(i=c._events[a]=c._events[a]||[],i.unshift(g));return c},trigger:function(a,b){var e,f,c=this,d=c._events[a];if(d){for(b=b||{},b.sender=c,b._defaultPrevented=!1,b.preventDefault=E,b.isDefaultPrevented=F,d=d.slice(),e=0,f=d.length;f>e;e++)d[e].call(c,b);return b._defaultPrevented===!0}return!1},unbind:function(a,b){var f,d=this,e=d._events[a];if(a===c)d._events={};else if(e)if(b)for(f=e.length-1;f>=0;f--)e[f]===b&&e.splice(f,1);else d._events[a]=[];return d}}),I=/^\w+/,J=/\$\{([^}]*)\}/g,K=/\\\}/g,L=/__CURLY__/g,M=/\\#/g,N=/__SHARP__/g,O=["","0","00","000","0000"];k={paramName:"data",useWithBlock:!0,render:function(a,b){var c,d,e="";for(c=0,d=b.length;d>c;c++)e+=a(b[c]);return e},compile:function(b,c){var k,l,m,f=e({},this,c),g=f.paramName,h=g.match(I)[0],i=f.useWithBlock,j="var o,e=kendo.htmlEncode;";if(D(b))return 2===b.length?function(c){return b(a,{data:c}).join("")}:b;for(j+=i?"with("+g+"){":"",j+="o=",l=b.replace(K,"__CURLY__").replace(J,"#=e($1)#").replace(L,"}").replace(M,"__SHARP__").split("#"),m=0;m<l.length;m++)j+=H(l[m],0===m%2);j+=i?";}":";",j+="return o;",j=j.replace(N,"#");try{return k=new Function(h,j),k._slotCount=Math.floor(l.length/2),k}catch(n){throw new Error(d.format("Invalid template:'{0}' Generated code:'{1}'",b,j))}}},function(){function g(b){return a.lastIndex=0,a.test(b)?'"'+b.replace(a,function(a){var b=d[a];return typeof b===s?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function h(a,d){var i,j,k,l,n,p,m=b,o=d[a];if(o&&typeof o===u&&typeof o.toJSON===r&&(o=o.toJSON(a)),typeof e===r&&(o=e.call(d,a,o)),p=typeof o,p===s)return g(o);if(p===t)return isFinite(o)?String(o):v;if(p===w||p===v)return String(o);if(p===u){if(!o)return v;if(b+=c,n=[],"[object Array]"===f.apply(o)){for(l=o.length,i=0;l>i;i++)n[i]=h(i,o)||v;return k=0===n.length?"[]":b?"[\n"+b+n.join(",\n"+b)+"\n"+m+"]":"["+n.join(",")+"]",b=m,k}if(e&&typeof e===u)for(l=e.length,i=0;l>i;i++)typeof e[i]===s&&(j=e[i],k=h(j,o),k&&n.push(g(j)+(b?": ":":")+k));else for(j in o)Object.hasOwnProperty.call(o,j)&&(k=h(j,o),k&&n.push(g(j)+(b?": ":":")+k));return k=0===n.length?"{}":b?"{\n"+b+n.join(",\n"+b)+"\n"+m+"}":"{"+n.join(",")+"}",b=m,k}}var b,c,e,a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},f={}.toString;typeof Date.prototype.toJSON!==r&&(Date.prototype.toJSON=function(){var a=this;return isFinite(a.valueOf())?P(a.getUTCFullYear(),4)+"-"+P(a.getUTCMonth()+1)+"-"+P(a.getUTCDate())+"T"+P(a.getUTCHours())+":"+P(a.getUTCMinutes())+":"+P(a.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof l.stringify!==r&&(l.stringify=function(a,d,f){var g;if(b="",c="",typeof f===t)for(g=0;f>g;g+=1)c+=" ";else typeof f===s&&(c=f);if(e=d,d&&typeof d!==r&&(typeof d!==u||typeof d.length!==t))throw new Error("JSON.stringify");return h("",{"":a})})}(),function(){function r(a){if(a){if(a.numberFormat)return a;if(typeof a===s){var b=d.cultures;return b[a]||b[a.split("-")[0]]||null}return null}return null}function u(a){return a&&(a=r(a)),a||d.cultures.current}function v(a){a.groupSizes=a.groupSize,a.percent.groupSizes=a.percent.groupSize,a.currency.groupSizes=a.currency.groupSize}function w(b,d,e){e=u(e);var f=e.calendars.standard,g=f.days,h=f.months;return d=f.patterns[d]||d,d.replace(a,function(a){var d;return"d"===a?d=b.getDate():"dd"===a?d=P(b.getDate()):"ddd"===a?d=g.namesAbbr[b.getDay()]:"dddd"===a?d=g.names[b.getDay()]:"M"===a?d=b.getMonth()+1:"MM"===a?d=P(b.getMonth()+1):"MMM"===a?d=h.namesAbbr[b.getMonth()]:"MMMM"===a?d=h.names[b.getMonth()]:"yy"===a?d=P(b.getFullYear()%100):"yyyy"===a?d=P(b.getFullYear(),4):"h"===a?d=b.getHours()%12||12:"hh"===a?d=P(b.getHours()%12||12):"H"===a?d=b.getHours():"HH"===a?d=P(b.getHours()):"m"===a?d=b.getMinutes():"mm"===a?d=P(b.getMinutes()):"s"===a?d=b.getSeconds():"ss"===a?d=P(b.getSeconds()):"f"===a?d=j.floor(b.getMilliseconds()/100):"ff"===a?d=j.floor(b.getMilliseconds()/10):"fff"===a?d=b.getMilliseconds():"tt"===a&&(d=b.getHours()<12?f.AM[0]:f.PM[0]),d!==c?d:a.slice(1,a.length-1)})}function x(a,d,h){h=u(h);var v,w,x,z,A,C,D,E,F,I,J,K,L,M,N,O,P,Q,R,S,T,U,W,j=h.numberFormat,o=j.groupSize[0],p=j[k],q=j[i],r=j.decimals,s=j.pattern[0],t=[],B=0>a,G=g,H=g,V=-1;if(a===c)return g;if(!isFinite(a))return a;if(!d)return h.name.length?a.toLocaleString():a.toString();if(A=b.exec(d)){if(d=A[1].toLowerCase(),w="c"===d,x="p"===d,(w||x)&&(j=w?j.currency:j.percent,o=j.groupSize[0],p=j[k],q=j[i],r=j.decimals,v=j.symbol,s=j.pattern[B?0:1]),z=A[2],z&&(r=+z),"e"===d)return z?a.toExponential(r):a.toExponential();if(x&&(a*=100),a=y(a,r),a=a.split(i),C=a[0],D=a[1],B&&(C=C.substring(1)),H=C,E=C.length,E>=o)for(H=g,I=0;E>I;I++)I>0&&0===(E-I)%o&&(H+=p),H+=C.charAt(I);if(D&&(H+=q+D),"n"===d&&!B)return H;for(a=g,I=0,J=s.length;J>I;I++)K=s.charAt(I),a+="n"===K?H:"$"===K||"%"===K?v:K;return a}if(B&&(a=-a),(d.indexOf("'")>-1||d.indexOf('"')>-1||d.indexOf("\\")>-1)&&(d=d.replace(e,function(a){var b=a.charAt(0).replace("\\",""),c=a.slice(1).replace(b,"");return t.push(c),n})),d=d.split(";"),B&&d[1])d=d[1],M=!0;else if(0===a){if(d=d[2]||d[0],-1==d.indexOf(l)&&-1==d.indexOf(m))return d}else d=d[0];if(S=d.indexOf("%"),T=d.indexOf("$"),x=-1!=S,w=-1!=T,x&&(a*=100),w&&"\\"===d[T-1]&&(d=d.split("\\").join(""),w=!1),(w||x)&&(j=w?j.currency:j.percent,o=j.groupSize[0],p=j[k],q=j[i],r=j.decimals,v=j.symbol),L=d.indexOf(k)>-1,L&&(d=d.replace(f,g)),N=d.indexOf(i),J=d.length,-1!=N?(D=a.toString().split("e"),D=D[1]?y(a,Math.abs(D[1])):D[0],D=D.split(i)[1]||g,P=d.lastIndexOf(m)-N,O=d.lastIndexOf(l)-N,Q=P>-1,R=O>-1,I=D.length,Q||R||(d=d.substring(0,N)+d.substring(N+1),J=d.length,N=-1,I=0),Q&&P>O?I=P:O>P&&(R&&I>O?I=O:Q&&P>I&&(I=P)),I>-1&&(a=y(a,I))):a=y(a),O=d.indexOf(l),U=P=d.indexOf(m),V=-1==O&&-1!=P?P:-1!=O&&-1==P?O:O>P?P:O,O=d.lastIndexOf(l),P=d.lastIndexOf(m),W=-1==O&&-1!=P?P:-1!=O&&-1==P?O:O>P?O:P,V==J&&(W=V),-1!=V){if(H=a.toString().split(i),C=H[0],D=H[1]||g,E=C.length,F=D.length,L)if(E===o&&N-U>E)C=p+C;else if(E>o){for(H=g,I=0;E>I;I++)I>0&&0===(E-I)%o&&(H+=p),H+=C.charAt(I);C=H}for(a=d.substring(0,V),B&&!M&&(a+="-"),I=V;J>I;I++){if(K=d.charAt(I),-1==N){if(E>W-I){a+=C;break}}else if(-1!=P&&I>P&&(G=g),E>=N-I&&N-I>-1&&(a+=C,I=N),N===I){a+=(D?q:g)+D,I+=W-N+1;continue}K===m?(a+=K,G=K):K===l&&(a+=G)}if(W>=V&&(a+=d.substring(W+1)),w||x){for(H=g,I=0,J=a.length;J>I;I++)K=a.charAt(I),H+="$"===K||"%"===K?v:K;a=H}if(J=t.length)for(I=0;J>I;I++)a=a.replace(n,t[I])}return a}var a=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|"[^"]*"|'[^']*'/g,b=/^(n|c|p|e)(\d*)$/i,e=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,f=/\,/g,g="",i=".",k=",",l="#",m="0",n="??",p="en-US",q={}.toString;d.cultures["en-US"]={name:p,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},d.culture=function(a){var e,b=d.cultures;return a===c?b.current:(e=r(a)||b[p],e.calendar=e.calendars.standard,b.current=e,B&&v(e.numberFormat),void 0)},d.findCulture=r,d.getCulture=u,d.culture(p);var y=function(a,b){var c=Math.pow(10,b||0);return(Math.round(a*c)/c).toFixed(b)},z=function(a,b,d){if(b){if("[object Date]"===q.call(a))return w(a,b,d);if(typeof a===t)return x(a,b,d)}return a!==c?a:""};B&&(z=h(B.format,B)),d.format=function(a){var b=arguments;return a.replace(o,function(a,c,d){var e=b[parseInt(c,10)+1];return z(e,d?d.substring(1):"")})},d._extractFormat=function(a){return"{0:"===a.slice(0,3)&&(a=a.slice(3,a.length-1)),a},d._activeElement=function(){try{return document.activeElement}catch(a){return document.documentElement.activeElement}},d._round=y,d.toString=z}(),function(){function m(a,b,c){return!(a>=b&&c>=a)}function n(a){return a.charAt(0)}function o(b){return a.map(b,n)}function p(a,b){b||23!==a.getHours()||a.setHours(a.getHours()+2)}function q(a){for(var b=0,c=a.length,d=[];c>b;b++)d[b]=(a[b]+"").toLowerCase();return d}function r(a){var c,b={};for(c in a)b[c]=q(a[c]);return b}function s(a,b,d){if(!a)return null;var D,E,F,G,H,I,J,K,L,M,N,O,P,e=function(a){for(var c=0;b[x]===a;)c++,x++;return c>0&&(x-=1),c},g=function(b){var c=k[b]||new RegExp("^\\d{1,"+b+"}"),d=a.substr(y,b).match(c);return d?(d=d[0],y+=d.length,parseInt(d,10)):null},i=function(b,c){for(var f,g,h,d=0,e=b.length;e>d;d++)if(f=b[d],g=f.length,h=a.substr(y,g),c&&(h=h.toLowerCase()),h==f)return y+=g,d+1;return null},j=function(){var c=!1;return a.charAt(y)===b[x]&&(y++,c=!0),c},l=d.calendars.standard,n=null,q=null,s=null,t=null,u=null,v=null,w=null,x=0,y=0,z=!1,A=new Date,B=l.twoDigitYearMax||2029,C=A.getFullYear();for(b||(b="d"),G=l.patterns[b],G&&(b=G),b=b.split(""),F=b.length;F>x;x++)if(D=b[x],z)"'"===D?z=!1:j();else if("d"===D){if(E=e("d"),l._lowerDays||(l._lowerDays=r(l.days)),s=3>E?g(2):i(l._lowerDays[3==E?"namesAbbr":"names"],!0),null===s||m(s,1,31))return null}else if("M"===D){if(E=e("M"),l._lowerMonths||(l._lowerMonths=r(l.months)),q=3>E?g(2):i(l._lowerMonths[3==E?"namesAbbr":"names"],!0),null===q||m(q,1,12))return null;q-=1}else if("y"===D){if(E=e("y"),n=g(E),null===n)return null;2==E&&("string"==typeof B&&(B=C+parseInt(B,10)),n=C-C%100+n,n>B&&(n-=100))}else if("h"===D){if(e("h"),t=g(2),12==t&&(t=0),null===t||m(t,0,11))return null}else if("H"===D){if(e("H"),t=g(2),null===t||m(t,0,23))return null}else if("m"===D){if(e("m"),u=g(2),null===u||m(u,0,59))return null}else if("s"===D){if(e("s"),v=g(2),null===v||m(v,0,59))return null}else if("f"===D){if(E=e("f"),w=g(E),null!==w&&E>3&&(w=parseInt(w.toString().substring(0,3),10)),null===w||m(w,0,999))return null}else if("t"===D){if(E=e("t"),L=l.AM,M=l.PM,1===E&&(L=o(L),M=o(M)),H=i(M),!H&&!i(L))return null}else if("z"===D){if(I=!0,E=e("z"),"Z"===a.substr(y,1)){if(!J)return null;j();continue}if(K=a.substr(y,6).match(E>2?h:f),!K)return null;if(K=K[0],y=K.length,K=K.split(":"),N=parseInt(K[0],10),m(N,-12,13))return null;if(E>2&&(O=parseInt(K[1],10),isNaN(O)||m(O,0,59)))return null}else if("T"===D)J=j();else if("'"===D)z=!0,j();else if(!j())return null;return P=null!==t||null!==u||v||null,null===n&&null===q&&null===s&&P?(n=C,q=A.getMonth(),s=A.getDate()):(null===n&&(n=C),null===s&&(s=1)),H&&12>t&&(t+=12),I?(N&&(t+=-N),O&&(u+=-O),a=new Date(Date.UTC(n,q,s,t,u,v,w))):(a=new Date(n,q,s,t,u,v,w),p(a,t)),100>n&&a.setFullYear(n),a.getDate()!==s&&I===c?null:a}var b=/\u00A0/g,e=/[eE][\-+]?[0-9]+/,f=/[+|\-]\d{1,2}/,h=/[+|\-]\d{1,2}:\d{2}/,i=/^\/Date\((.*?)\)\/$/,j=["G","g","d","F","D","y","m","T","t"],k={2:/^\d{1,2}/,4:/^\d{4}/},l={}.toString;d.parseDate=function(a,b,c){if("[object Date]"===l.call(a))return a;var h,k,e=0,f=null;if(a&&0===a.indexOf("/D")&&(f=i.exec(a)))return new Date(parseInt(f[1],10));if(c=d.getCulture(c),!b){for(b=[],k=c.calendar.patterns,h=j.length;h>e;e++)b[e]=k[j[e]];e=0,b.push("yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd")}for(b=g(b)?b:[b],h=b.length;h>e;e++)if(f=s(a,b[e],c))return f;return f},d.parseInt=function(a,b){var c=d.parseFloat(a,b);return c&&(c=0|c),c},d.parseFloat=function(a,c,f){if(!a&&0!==a)return null;if(typeof a===t)return a;a=a.toString(),c=d.getCulture(c);var m,n,g=c.numberFormat,h=g.percent,i=g.currency,j=i.symbol,k=h.symbol,l=a.indexOf("-");return e.test(a)?(a=parseFloat(a.replace(g["."],".")),isNaN(a)&&(a=null),a):l>0?null:(l=l>-1,a.indexOf(j)>-1||f&&f.toLowerCase().indexOf("c")>-1?(g=i,m=g.pattern[0].replace("$",j).split("n"),a.indexOf(m[0])>-1&&a.indexOf(m[1])>-1&&(a=a.replace(m[0],"").replace(m[1],""),l=!0)):a.indexOf(k)>-1&&(n=!0,g=h,j=k),a=a.replace("-","").replace(j,"").replace(b," ").split(g[","].replace(b," ")).join("").replace(g["."],"."),a=parseFloat(a),isNaN(a)?a=null:l&&(a*=-1),a&&n&&(a/=100),a)},B&&(d.parseDate=function(a,b,c){return"[object Date]"===l.call(a)?a:B.parseDate(a,b,c)},d.parseFloat=function(a,b){return typeof a===t?a:a===c||null===a?null:(a=B.parseFloat(a,b),isNaN(a)?null:a)})}(),function(){m.scrollbar=function(){var b,a=document.createElement("div");return a.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",a.innerHTML="&nbsp;",document.body.appendChild(a),b=a.offsetWidth-a.scrollWidth,document.body.removeChild(a),b},m.isRtl=function(b){return a(b).closest(".k-rtl").length>0};var b=document.createElement("table");try{b.innerHTML="<tr><td></td></tr>",m.tbodyInnerHtml=!0}catch(d){m.tbodyInnerHtml=!1}m.touch="ontouchstart"in window,m.msPointers=navigator.msPointerEnabled,m.pointers=navigator.pointerEnabled;var e=m.transitions=!1,g=m.transforms=!1,h="HTMLElement"in window?HTMLElement.prototype:[];m.hasHW3D="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style,f(["Moz","webkit","O","ms"],function(){var a=this.toString(),c=typeof b.style[a+"Transition"]===s;if(c||typeof b.style[a+"Transform"]===s){var d=a.toLowerCase();return g={css:"ms"!=d?"-"+d+"-":"",prefix:a,event:"o"===d||"webkit"===d?d:""},c&&(e=g,e.event=e.event?e.event+"TransitionEnd":"transitionend"),!1}}),m.transforms=g,m.transitions=e,m.devicePixelRatio=window.devicePixelRatio===c?1:window.devicePixelRatio;try{m.screenWidth=window.outerWidth||window.screen?window.screen.availWidth:window.innerWidth,m.screenHeight=window.outerHeight||window.screen?window.screen.availHeight:window.innerHeight}catch(d){m.screenWidth=window.screen.availWidth,m.screenHeight=window.screen.availHeight}m.detectOS=function(a){var c,b=!1,d=[],e=!/mobile safari/i.test(a),f={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},g={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,meego:/meego|ffos/},h={tablet:/playbook|ipad|fire/i},i={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,chrome:/chrome/i,webkit:/webkit/i,ie:/MSIE|Windows\sPhone/i};for(var j in f)if(f.hasOwnProperty(j)&&(d=a.match(f[j]))){if("windows"==j&&"plugins"in navigator)return!1;b={},b.device=j,b.tablet=T(j,h,!1),b.browser=T(a,i,"default"),b.name=T(j,g),b[b.name]=!0,b.majorVersion=d[2],b.minorVersion=d[3].replace("_","."),c=b.minorVersion.replace(".","").substr(0,2),b.flatVersion=b.majorVersion+c+new Array(3-(c.length<3?c.length:2)).join("0"),b.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||typeof window.PhoneGap!==x||typeof window.cordova!==x,b.android&&(m.devicePixelRatio<1.5&&b.flatVersion<400||e)&&(m.screenWidth>800||m.screenHeight>800)&&(b.tablet=j);break}return b};var i=m.mobileOS=m.detectOS(navigator.userAgent);m.wpDevicePixelRatio=i.wp?screen.width/320:0,m.kineticScrollNeeded=i&&(m.touch||m.msPointers||m.pointers),m.hasNativeScrolling=!1,(i.ios&&i.majorVersion>4||i.android&&i.majorVersion>2||i.wp)&&(m.hasNativeScrolling=i),m.mouseAndTouchPresent=m.touch&&!(m.mobileOS.ios||m.mobileOS.android),m.detectBrowser=function(a){var b=!1,c=[],d={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var e in d)if(d.hasOwnProperty(e)&&(c=a.match(d[e]))){b={},b[e]=!0,b[c[1].toLowerCase()]=!0,b.version=parseInt(document.documentMode||c[2],10);break}return b},m.browser=m.detectBrowser(navigator.userAgent),m.zoomLevel=function(){try{return m.touch?document.documentElement.clientWidth/window.innerWidth:m.browser.msie&&m.browser.version>=10?(top||window).outerWidth/(top||window).innerWidth:1}catch(a){return 1}},m.cssBorderSpacing="undefined"!=typeof document.documentElement.style.borderSpacing&&!(m.browser.msie&&m.browser.version<8),function(b){var c,d=parseInt(b.version,10);b.msie?c="ie":b.mozilla?c="ff":b.safari?c="safari":b.webkit?c="webkit":b.opera&&(c="opera"),c&&a(document.documentElement).addClass("k-"+c+" k-"+c+d)}(m.browser),m.eventCapture=document.documentElement.addEventListener;var j=document.createElement("input");m.placeholder="placeholder"in j,m.input=function(){for(var f,a=["number","date","time","month","week","datetime","datetime-local"],b=a.length,c="test",d={},e=0;b>e;e++)f=a[e],j.setAttribute("type",f),j.value=c,d[f.replace("-","")]="text"!==j.type&&j.value!==c;return d}(),m.stableSort=function(){var a=[0,1,2,3,4,5,6,7,8,9,10,11,12].sort(function(){return 0});return 0===a[0]&&1===a[1]&&2===a[2]&&3===a[3]&&4===a[4]&&5===a[5]&&6===a[6]&&7===a[7]&&8===a[8]&&9===a[9]&&10===a[10]&&11===a[11]&&12===a[12]}(),m.matchesSelector=h.webkitMatchesSelector||h.mozMatchesSelector||h.msMatchesSelector||h.oMatchesSelector||h.matchesSelector||function(b){for(var c=document.querySelectorAll?(this.parentNode||document).querySelectorAll(b)||[]:a(b),d=c.length;d--;)if(c[d]==this)return!0;return!1},m.pushState=window.history&&window.history.pushState;var k=document.documentMode;m.hashChange="onhashchange"in window&&!(m.browser.msie&&(!k||8>=k))}();var Z={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},ab={};a.extend(ab,{Element:function(b){this.element=a(b)},promise:function(a,b){a.is(":visible")||a.css({display:a.data("olddisplay")||"block"}).css("display"),b.hide&&a.data("olddisplay",a.css("display")).hide(),b.init&&b.init(),b.completeCallback&&b.completeCallback(a),a.dequeue()},transitionPromise:function(a,b,c){var e=d.wrap(a);return e.append(b),a.hide(),b.show(),c.completeCallback&&c.completeCallback(a),a}}),"kendoAnimate"in a.fn||e(a.fn,{kendoStop:function(a,b){return this.stop(a,b)},kendoAnimate:function(a,b,c,d){return cb(this,a,b,c,d)},kendoAnimateTo:function(a,b,c,d,e){return db(this,a,b,c,d,e)},kendoAddClass:function(a,b){return d.toggleClass(this,a,b,!0)},kendoRemoveClass:function(a,b){return d.toggleClass(this,a,b,!1)},kendoToggleClass:function(a,b,c){return d.toggleClass(this,a,b,c)}});var fb=/&/g,gb=/</g,hb=/>/g,jb=function(a){return a.target};m.touch&&(jb=function(a){var b="originalEvent"in a?a.originalEvent.changedTouches:"changedTouches"in a?a.changedTouches:null;return b?document.elementFromPoint(b[0].clientX,b[0].clientY):a.target},f(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(b,c){a.fn[c]=function(a){return this.bind(c,a)}})),m.touch?m.mobileOS?(m.mousedown="touchstart",m.mouseup="touchend",m.mousemove="touchmove",m.mousecancel="touchcancel",m.click="touchend",m.resize="orientationchange"):(m.mousedown="mousedown touchstart",m.mouseup="mouseup touchend",m.mousemove="mousemove touchmove",m.mousecancel="mouseleave touchcancel",m.click="click",m.resize="resize"):m.pointers?(m.mousemove="pointermove",m.mousedown="pointerdown",m.mouseup="pointerup",m.mousecancel="pointercancel",m.click="pointerup",m.resize="orientationchange resize"):m.msPointers?(m.mousemove="MSPointerMove",m.mousedown="MSPointerDown",m.mouseup="MSPointerUp",m.mousecancel="MSPointerCancel",m.click="MSPointerUp",m.resize="orientationchange resize"):(m.mousemove="mousemove",m.mousedown="mousedown",m.mouseup="mouseup",m.mousecancel="mouseleave",m.click="click",m.resize="resize");var kb=function(a,b){var d,e,f,g,c=b||"d",h=1;for(e=0,f=a.length;f>e;e++)g=a[e],""!==g&&(d=g.indexOf("["),0!==d&&(-1==d?g="."+g:(h++,g="."+g.substring(0,d)+" || {})"+g.substring(d))),h++,c+=g+(f-1>e?" || {})":")"));return new Array(h).join("(")+c},lb=/^([a-z]+:)?\/\//i;e(d,{ui:d.ui||{},fx:d.fx||_,effects:d.effects||ab,mobile:d.mobile||{},data:d.data||{},dataviz:d.dataviz||{ui:{roles:{}}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123},support:d.support||m,animate:d.animate||cb,ns:"",attr:function(a){return"data-"+d.ns+a},wrap:Q,deepExtend:R,getComputedStyles:W,size:X,toCamelCase:V,toHyphens:U,getOffset:d.getOffset||Y,parseEffects:d.parseEffects||$,toggleClass:d.toggleClass||eb,directions:d.directions||Z,Observable:G,Class:C,Template:k,template:h(k.compile,k),render:h(k.render,k),stringify:h(l.stringify,l),eventTarget:jb,htmlEncode:ib,isLocalUrl:function(a){return a&&!lb.test(a)},expr:function(a,b,c){return a=a||"",typeof b==s&&(c=b,b=!1),c=c||"d",a&&"["!==a.charAt(0)&&(a="."+a),a=b?kb(a.split("."),c):c+a},getter:function(a,b){return y[a]=y[a]||new Function("d","return "+d.expr(a,b))},setter:function(a){return z[a]=z[a]||new Function("d,value",d.expr(a)+"=value")},accessor:function(a){return{get:d.getter(a),set:d.setter(a)}},guid:function(){var b,c,a="";for(b=0;32>b;b++)c=0|16*j.random(),(8==b||12==b||16==b||20==b)&&(a+="-"),a+=(12==b?4:16==b?8|3&c:c).toString(16);return a},roleSelector:function(a){return a.replace(/(\S+)/g,"["+d.attr("role")+"=$1],").slice(0,-1)},triggeredByInput:function(a){return/^(label|input|textarea|select)$/i.test(a.target.tagName)},logToConsole:function(a){var b=window.console;"undefined"!=typeof b&&b.log&&b.log(a)}});var mb=G.extend({init:function(a,b){var c=this;c.element=d.jQuery(a).handler(c),G.fn.init.call(c),b=c.options=e(!0,{},c.options,b),c.element.attr(d.attr("role"))||c.element.attr(d.attr("role"),(b.name||"").toLowerCase()),c.element.data("kendo"+b.prefix+b.name,c),c.bind(c.events,b)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(a){a=a||this.wrapper;var b=this.element,c="tabindex",d=a.attr(c)||b.attr(c);b.removeAttr(c),a.attr(c,isNaN(d)?0:d)},setOptions:function(b){for(var f,c=this,d=0,e=c.events.length;e>d;d++)f=c.events[d],c.options[f]&&b[f]&&c.unbind(f,c.options[f]);a.extend(c.options,b),c.bind(c.events,b)},resize:function(a){var b=this.getSize(),c=this._size;(a||!c||b.width!==c.width||b.height!==c.height)&&(this._resize(b),this.trigger("resize",b),this._size=b)},getSize:function(){return d.dimensions(this.element)},size:function(a){return a?(this.setSize(a),void 0):this.getSize()},setSize:a.noop,_resize:a.noop,destroy:function(){var a=this;a.element.removeData("kendo"+a.options.prefix+a.options.name),a.element.removeData("handler"),a.unbind()}});d.dimensions=function(a,b){var c=a[0];return b&&a.css(b),{width:c.offsetWidth,height:c.offsetHeight}},d.notify=i;var nb=/template$/i,ob=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,pb=/^\{(\d+)(:[^\}]+)?\}/,qb=/([A-Z])/g;d.initWidget=function(b,e,f){var g,h,i,j,k,l,m,n;if(f?f.roles&&(f=f.roles):f=d.ui.roles,b=b.nodeType?b:b[0],l=b.getAttribute("data-"+d.ns+"role"),l&&(i=-1===l.indexOf(".")?f[l]:d.getter(l)(window))){for(n=rb(b,"dataSource"),e=a.extend({},sb(b,i.fn.options),e),n&&(e.dataSource=typeof n===s?d.getter(n)(window):n),j=0,k=i.fn.events.length;k>j;j++)h=i.fn.events[j],m=rb(b,h),m!==c&&(e[h]=d.getter(m)(window));return g=a(b).data("kendo"+i.fn.options.prefix+i.fn.options.name),g?g.setOptions(e):g=new i(b,e),g}},d.rolesFromNamespaces=function(a){var c,f,b=[];for(a[0]||(a=[d.ui,d.dataviz.ui]),c=0,f=a.length;f>c;c++)b[c]=a[c].roles;return e.apply(null,[{}].concat(b.reverse()))},d.init=function(b){var c=d.rolesFromNamespaces(A.call(arguments,1));a(b).find("[data-"+d.ns+"role]").addBack().each(function(){d.initWidget(this,{},c)})},d.destroy=function(b){a(b).find("[data-"+d.ns+"role]").addBack().each(function(){var b=d.widgetInstance(a(this));b&&b.destroy()})},d.resize=function(b){a(b).each(function(){var c,b=a(this);(b.is(":visible")||-1!==a.inArray(b.attr("data-role"),["slider","rangeslider"]))&&(b.is("[data-"+d.ns+"role]")&&(c=d.widgetInstance(b),c&&c.resize()),d.resize(b.children()))})},d.parseOptions=sb,e(d.ui,{Widget:mb,roles:{},progress:function(b,c){var h,i,j,k,e=b.find(".k-loading-mask"),f=d.support,g=f.browser;c?e.length||(h=f.isRtl(b),i=h?"right":"left",k=b.scrollLeft(),j=g.webkit?h?b[0].scrollWidth-b.width()-2*k:0:0,e=a("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",b.scrollTop()).css(i,Math.abs(k)+j).prependTo(b)):e&&e.remove()},plugin:function(b,e,f){var h,g=b.fn.options.name;e=e||d.ui,f=f||"",e[g]=b,e.roles[g.toLowerCase()]=b,h="getKendo"+f+g,g="kendo"+f+g,a.fn[g]=function(e){var h,f=this;return typeof e===s?(h=A.call(arguments,1),this.each(function(){var i,j,b=a.data(this,g);if(!b)throw new Error(d.format("Cannot call method '{0}' of {1} before it is initialized",e,g));if(i=b[e],typeof i!==r)throw new Error(d.format("Cannot find method '{0}' of {1}",e,g));return j=i.apply(b,h),j!==c?(f=j,!1):void 0})):this.each(function(){new b(this,e)}),f},a.fn[h]=function(){return this.data(g)}}});var tb={bind:function(){return this}},ub=mb.extend({init:function(a,b){mb.fn.init.call(this,a,b),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")
},destroy:function(){mb.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var a=this.element.closest(d.roleSelector("view splitview modalview drawer"));return d.widgetInstance(a,d.mobile.ui)},container:function(){var a=this.element.closest(d.roleSelector("view layout modalview drawer"));return d.widgetInstance(a,d.mobile.ui)||tb}});e(d.mobile,{init:function(a){d.init(a,d.mobile.ui,d.ui,d.dataviz.ui)},ui:{Widget:ub,roles:{},plugin:function(a){d.ui.plugin(a,d.mobile.ui,"Mobile")}}}),d.touchScroller=function(b,c){return a(b).map(function(b,e){return e=a(e),m.kineticScrollNeeded&&d.mobile.ui.Scroller&&!e.data("kendoMobileScroller")?(e.kendoMobileScroller(c),e.data("kendoMobileScroller")):!1})[0]},d.preventDefault=function(a){a.preventDefault()},d.widgetInstance=function(b,c){var e=b.data(d.ns+"role");"content"===e&&(e="scroller"),c||(c={roles:a.extend({},d.mobile.ui.roles,d.dataviz.ui.roles,d.ui.roles)});var f=c.roles[e];return f?b.data("kendo"+f.fn.options.prefix+f.fn.options.name):void 0},d.onResize=function(b){var c=b;return m.mobileOS.android&&(c=function(){setTimeout(b,600)}),a(window).on(m.resize,c),c},d.unbindResize=function(b){a(window).off(m.resize,b)},d.attrValue=function(a,b){return a.data(d.ns+b)},d.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},a.extend(a.expr[":"],{kendoFocusable:function(b){var c=a.attr(b,"tabindex");return vb(b,!isNaN(c)&&c>-1)}});var xb=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],yb="label, input, [data-rel=external]",zb={setupMouseMute:function(){var b=0,c=xb.length,d=document.documentElement;if(!zb.mouseTrap&&m.eventCapture){zb.mouseTrap=!0,zb.bustClick=!1,zb.captureMouse=!1;for(var e=function(b){zb.captureMouse&&("click"===b.type?zb.bustClick&&!a(b.target).is(yb)&&(b.preventDefault(),b.stopPropagation()):b.stopPropagation())};c>b;b++)d.addEventListener(xb[b],e,!0)}},muteMouse:function(a){zb.captureMouse=!0,a.data.bustClick&&(zb.bustClick=!0),clearTimeout(zb.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(zb.mouseTrapTimeoutID),zb.mouseTrapTimeoutID=setTimeout(function(){zb.captureMouse=!1,zb.bustClick=!1},400)}},Ab={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};m.touch&&(m.mobileOS.ios||m.mobileOS.android)?Ab={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:m.pointers?Ab={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:m.msPointers&&(Ab={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!m.msPointers||"onmspointerenter"in window||a.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(b,c){a.event.special[b]={delegateType:c,bindType:c,handle:function(b){var d,e=this,f=b.relatedTarget,g=b.handleObj;return(!f||f!==e&&!a.contains(e,f))&&(b.type=g.origType,d=g.handler.apply(this,arguments),b.type=c),d}}});var Bb=function(a){return Ab[a]||a},Cb=/([^ ]+)/g;d.applyEventMap=function(a,b){return a=a.replace(Cb,Bb),b&&(a=a.replace(Cb,"$1."+b)),a};var Db=a.fn.on;e(!0,Eb,a),Eb.fn=Eb.prototype=new a,Eb.fn.constructor=Eb,Eb.fn.init=function(b,c){return c&&c instanceof a&&!(c instanceof Eb)&&(c=Eb(c)),a.fn.init.call(this,b,c,Fb)},Eb.fn.init.prototype=Eb.fn;var Fb=Eb(document);e(Eb.fn,{handler:function(a){return this.data("handler",a),this},autoApplyNS:function(a){return this.data("kendoNS",a||d.guid()),this},on:function(){var a=this,b=a.data("kendoNS");if(1===arguments.length)return Db.call(a,arguments[0]);var c=a,e=A.call(arguments);typeof e[e.length-1]===x&&e.pop();var f=e[e.length-1],g=d.applyEventMap(e[0],b);if(m.mouseAndTouchPresent&&g.search(/mouse|click/)>-1&&this[0]!==document.documentElement){zb.setupMouseMute();var h=2===e.length?null:e[1],i=g.indexOf("click")>-1&&g.indexOf("touchend")>-1;Db.call(this,{touchstart:zb.muteMouse,touchend:zb.unMuteMouse},h,{bustClick:i})}return typeof f===s&&(c=a.data("handler"),f=c[f],e[e.length-1]=function(a){f.call(c,a)}),e[0]=g,Db.apply(a,e),a},kendoDestroy:function(a){return a=a||this.data("kendoNS"),a&&this.off("."+a),this}}),d.jQuery=Eb,d.eventMap=Ab,d.timezone=function(){function c(c,d){var e,f,g,h=d[3],i=d[4],j=d[5],k=d[8];return k||(d[8]=k={}),k[c]?k[c]:(isNaN(i)?0===i.indexOf("last")?(e=new Date(Date.UTC(c,a[h]+1,1,j[0]-24,j[1],j[2],0)),f=b[i.substr(4,3)],g=e.getUTCDay(),e.setUTCDate(e.getUTCDate()+f-g-(f>g?7:0))):i.indexOf(">=")>=0&&(e=new Date(Date.UTC(c,a[h],i.substr(5),j[0],j[1],j[2],0)),f=b[i.substr(0,3)],g=e.getUTCDay(),e.setUTCDate(e.getUTCDate()+f-g+(g>f?7:0))):e=new Date(Date.UTC(c,a[h],i,j[0],j[1],j[2],0)),k[c]=e)}function d(a,b,d){if(b=b[d],!b){var e=d.split(":"),f=0;return e.length>1&&(f=60*e[0]+Number(e[1])),[-1e6,"max","-","Jan",1,[0,0,0],f,"-"]}var g=new Date(a).getUTCFullYear();return b=jQuery.grep(b,function(a){var b=a[0],c=a[1];return g>=b&&(c>=g||b==g&&"only"==c||"max"==c)}),b.push(a),b.sort(function(a,b){return"number"!=typeof a&&(a=Number(c(g,a))),"number"!=typeof b&&(b=Number(c(g,b))),a-b}),b[jQuery.inArray(a,b)-1]}function e(a,b,c){var d=b[c];if("string"==typeof d&&(d=b[d]),!d)throw new Error('Timezone "'+c+'" is either incorrect, or kendo.timezones.min.js is not included.');for(var e=d.length-1;e>=0;e--){var f=d[e][3];if(f&&a>f)break}var g=d[e+1];if(!g)throw new Error('Timezone "'+c+'" not found on '+a+".");return g}function f(a,b,c,f){typeof a!=t&&(a=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));var g=e(a,b,f);return{zone:g,rule:d(a,c,g[1])}}function g(a,b){if("Etc/UTC"==b||"Etc/GMT"==b)return 0;var c=f(a,this.zones,this.rules,b),d=c.zone,e=c.rule;return e?d[0]-e[6]:d[0]}function h(a,b){var c=f(a,this.zones,this.rules,b),d=c.zone,e=c.rule,g=d[2];return g.indexOf("/")>=0?g.split("/")[e&&e[6]?1:0]:g.indexOf("%s")>=0?g.replace("%s",e&&"-"!=e[7]?e[7]:""):g}function i(a,b,c){typeof b==s&&(b=this.offset(a,b)),typeof c==s&&(c=this.offset(a,c));var d=a.getTimezoneOffset();a=new Date(a.getTime()+6e4*(b-c));var e=a.getTimezoneOffset();return new Date(a.getTime()+6e4*(e-d))}function j(a,b){return this.convert(a,a.getTimezoneOffset(),b)}function k(a,b){return this.convert(a,b,a.getTimezoneOffset())}function l(a){return this.apply(new Date(a),"Etc/UTC")}var a={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},b={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:g,convert:i,apply:j,remove:k,abbr:h,toLocalDate:l}}(),d.date=function(){function c(a,b){return 0===b&&23===a.getHours()?(a.setHours(a.getHours()+2),!0):!1}function d(a,b,d){var e=a.getHours();d=d||1,b=(b-a.getDay()+7*d)%7,a.setDate(a.getDate()+b),c(a,e)}function e(a,b,c){return a=new Date(a),d(a,b,c),a}function f(a){return new Date(a.getFullYear(),a.getMonth(),1)}function g(a){var b=new Date(a.getFullYear(),a.getMonth()+1,0),c=f(a),d=Math.abs(b.getTimezoneOffset()-c.getTimezoneOffset());return d&&b.setHours(c.getHours()+d/60),b}function h(a){return a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),c(a,0),a}function i(a){return Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())}function j(a){return a.getTime()-h(a)}function k(a,c,d){var g,e=j(c),f=j(d);return a&&e!=f?(c>=d&&(d+=b),g=j(a),e>g&&(g+=b),e>f&&(f+=b),g>=e&&f>=g):!0}function l(a,c,d){var g,e=c.getTime(),f=d.getTime();return e>=f&&(f+=b),g=a.getTime(),g>=e&&f>=g}function m(a,d){var e=a.getHours();return a=new Date(a),n(a,d*b),c(a,e),a}function n(b,c,d){var f,e=b.getTimezoneOffset();b.setTime(b.getTime()+c),d||(f=b.getTimezoneOffset()-e,b.setTime(b.getTime()+f*a))}function o(){return h(new Date)}function p(a){return h(a).getTime()==o().getTime()}function q(a){var b=new Date(1980,1,1,0,0,0);return a&&b.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),b}var a=6e4,b=864e5;return{adjustDST:c,dayOfWeek:e,setDayOfWeek:d,getDate:h,isInDateRange:l,isInTimeRange:k,isToday:p,nextDay:function(a){return m(a,1)},previousDay:function(a){return m(a,-1)},toUtcTime:i,MS_PER_DAY:b,MS_PER_MINUTE:a,setTime:n,addDays:m,today:o,toInvariantTime:q,firstDayOfMonth:f,lastDayOfMonth:g,getMilliseconds:j}}(),d.stripWhitespace=function(a){for(var b=document.createNodeIterator(a,NodeFilter.SHOW_TEXT,function(b){return b.parentNode==a?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);b.nextNode();)b.referenceNode&&!b.referenceNode.textContent.trim()&&b.referenceNode.parentNode.removeChild(b.referenceNode)};var Gb=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,1e3/60)};d.animationFrame=function(a){Gb.call(window,a)};var Hb=[];d.queueAnimation=function(a){Hb[Hb.length]=a,1===Hb.length&&d.runNextAnimation()},d.runNextAnimation=function(){var a=Hb.shift();d.animationFrame(function(){a(),Gb[0]&&d.runNextAnimation()})},d.parseQueryStringParams=function(a){for(var b=a.split("?")[1]||"",c={},d=b.split(/&|=/),e=d.length,f=0;e>f;f+=2)""!==d[f]&&(c[decodeURIComponent(d[f])]=decodeURIComponent(d[f+1]));return c}}(jQuery,eval),"undefined"==typeof kendo_module&&(kendo_module=function(){}),kendo_module({id:"core",name:"Core",category:"framework",description:"The core of the Kendo framework."}),kendo_module({id:"router",name:"Router",category:"framework",description:"The Router class is responsible for tracking the application state and navigating between the application states.",depends:["core"],hidden:!1}),function(a){function l(a,b){if(!b)return a;a+"/"===b&&(a=b);var c=new RegExp("^"+b,"i");return c.test(a)||(a=b+"/"+a),g.protocol+"//"+(g.host+"/"+a).replace(/\/\/+/g,"/")}function m(a,b){return 0===b.indexOf(a)?b.substr(a.length).replace(/\/\//g,"/"):a}var c=window.kendo,d="change",e="back",f=c.support,g=window.location,h=window.history,i=50,j=/^#*/,k=window.document,n=c.Class.extend({init:function(a){this.root=a},navigate:function(a){return h.pushState({},k.title,l(a,this.root)),this.current()},current:function(){var a=g.pathname;return g.search&&(a+=g.search),m(this.root,a)},change:function(b){a(window).bind("popstate.kendo",b)},stop:function(){a(window).unbind("popstate.kendo")}}),o=c.Class.extend({navigate:function(a){return g.hash=a,a},change:function(b){f.hashChange?a(window).bind("hashchange.kendo",b):this._interval=setInterval(b,i)},stop:function(){a(window).unbind("popstate.kendo"),clearInterval(this._interval)},current:function(){return g.hash.replace(j,"")}}),p=c.Observable.extend({start:function(b){if(b=b||{},this.bind([d,e],b),!this._started){this._started=!0;var c=g.pathname,i=g.hash,p=f.pushState&&b.pushState,q=b.root||"/",r=q===c;if(this.adapter=p?new n(q):new o,b.pushState&&!f.pushState&&!r)return g.replace(q+"#"+m(q,c)),!0;if(p){var s;q===c+"/"&&(s=q),r&&i&&(s=l(i.replace(j,""),q)),s&&h.replaceState({},k.title,s)}this.root=q,this.current=this.adapter.current(),this.locations=[this.current],this.adapter.change(a.proxy(this,"_checkUrl"))}},stop:function(){this._started&&(this.adapter.stop(),this.unbind(d),this._started=!1)},change:function(a){this.bind(d,a)},navigate:function(a,b){return"#:back"===a?(h.back(),void 0):(a=a.replace(j,""),this.current!==a&&this.current!==decodeURIComponent(a)&&(b||!this.trigger(d,{url:a}))&&("undefined"==typeof this.adapter&&this.start(),this.current=this.adapter.navigate(a),this.locations.push(this.current)),void 0)},_checkUrl:function(){var a=this.adapter.current(),b=a===this.locations[this.locations.length-2],c=this.current;if(this.current!==a&&this.current!==decodeURIComponent(a))return this.current=a,b&&this.trigger("back",{url:c,to:a})?(h.forward(),this.current=c,void 0):this.trigger(d,{url:a})?(b?h.forward():h.back(),this.current=c,void 0):(b?this.locations.pop():this.locations.push(a),void 0)}});c.absoluteURL=l,c.history=new p}(window.kendo.jQuery),function(){function l(a,b){return b?a:"([^/]+)"}function m(a){return new RegExp("^"+a.replace(k,"\\$&").replace(h,"(?:$1)?").replace(i,l).replace(j,"(.*?)")+"$")}function n(a){return a.replace(/(\?.*)|(#.*)/g,"")}var a=window.kendo,b=a.history,c=a.Observable,d="init",e="routeMissing",f="change",g="back",h=/\((.*?)\)/g,i=/(\(\?)?:\w+/g,j=/\*\w+/g,k=/[\-{}\[\]+?.,\\\^$|#\s]/g,o=a.Class.extend({init:function(a,b){a instanceof RegExp||(a=m(a)),this.route=a,this._callback=b},callback:function(b){var c,e,d=0,f=a.parseQueryStringParams(b);for(b=n(b),c=this.route.exec(b).slice(1),e=c.length;e>d;d++)"undefined"!=typeof c[d]&&(c[d]=decodeURIComponent(c[d]));c.push(f),this._callback.apply(null,c)},worksWith:function(a){return this.route.test(a)?(this.callback(a),!0):!1}}),p=c.extend({init:function(a){c.fn.init.call(this),this.routes=[],this.pushState=a?a.pushState:!1,a&&a.root&&(this.root=a.root),this.bind([d,e,f],a)},destroy:function(){b.unbind(f,this._urlChangedProxy),b.unbind(g,this._backProxy),this.unbind()},start:function(){var a=this,c=function(b){a._back(b)},e=function(b){a._urlChanged(b)};b.start({change:e,back:c,pushState:a.pushState,root:a.root});var f={url:b.current||"/"};a.trigger(d,f)||a._urlChanged(f),this._urlChangedProxy=e,this._backProxy=c},route:function(a,b){this.routes.push(new o(a,b))},navigate:function(b,c){a.history.navigate(b,c)},_back:function(a){this.trigger(g,{url:a.url,to:a.to})&&a.preventDefault()},_urlChanged:function(b){var c=b.url;if(c||(c="/"),this.trigger(f,{url:b.url,params:a.parseQueryStringParams(b.url)}))return b.preventDefault(),void 0;for(var h,d=0,g=this.routes,i=g.length;i>d;d++)if(h=g[d],h.worksWith(c))return;this.trigger(e,{url:c,params:a.parseQueryStringParams(c)})&&b.preventDefault()}});a.Router=p}(),kendo_module({id:"view",name:"View",category:"framework",description:"The View class instantiates and handles the events of a certain screen from the application.",depends:["core","binder"],hidden:!1}),function(a){var c=window.kendo,d=c.Observable,e="SCRIPT",f="init",g="show",h="hide",i=/unrecognized expression/,j=d.extend({init:function(a,b){var c=this;b=b||{},d.fn.init.call(c),c.content=a,c.tagName=b.tagName||"div",c.model=b.model,c._wrap=b.wrap!==!1,c.bind([f,g,h],b)},render:function(b){var d=this,e=!d.element;return e&&(d.element=d._createElement()),b&&a(b).append(d.element),e&&(c.bind(d.element,d.model),d.trigger(f)),b&&d.trigger(g),d.element},hide:function(){this.element.detach(),this.trigger(h)},destroy:function(){var a=this.element;a&&(c.unbind(a),c.destroy(a),a.remove())},_createElement:function(){var c,d,b=this;try{d=a(document.getElementById(b.content)||b.content)}catch(f){i.test(f.message)&&(d=b.content)}return c=a("<"+b.tagName+" />").append(d[0].tagName===e?d.html():d),b._wrap||(c=c.contents()),c}}),k=j.extend({init:function(a,b){j.fn.init.call(this,a,b),this.regions={}},showIn:function(a,b){var c=this.regions[a];c&&c.hide(),b.render(this.render().find(a),c),this.regions[a]=b}});c.Layout=k,c.View=j}(window.kendo.jQuery),kendo_module({id:"fx",name:"Effects",category:"framework",description:"Required for animation effects in all Kendo UI widgets.",depends:["core"]}),function(a,b){function V(a){return parseInt(a,10)}function W(a,b){return V(a.css(b))}function X(a){var b=a.effects;return"zoom"===b&&(b="zoom:in fade:in"),"fade"===b&&(b="fade:in"),"slide"===b&&(b="tile:left"),/^slide:(.+)$/.test(b)&&(b="tile:"+RegExp.$1),"overlay"===b&&(b="slideIn:left"),/^overlay:(.+)$/.test(b)&&(b="slideIn:"+RegExp.$1),a.effects=c.parseEffects(b),S&&"tile:left"==b&&(a.previousDivisor=3),a}function Y(a){var b=[];for(var c in a)b.push(c);return b}function Z(a){for(var b in a)-1!=u.indexOf(b)&&-1==v.indexOf(b)&&delete a[b];return a}function $(a,b){var e,f,g,i,c=[],d={};for(f in b)e=f.toLowerCase(),i=j&&-1!=u.indexOf(e),!h.hasHW3D&&i&&-1==v.indexOf(e)?delete b[f]:(g=b[f],i?c.push(f+"("+g+")"):d[f]=g);return c.length&&(d[N]=c.join(" ")),d}function _(a,b){if(j){var c=a.css(N);if(c==B)return"scale"==b?1:0;var d=c.match(new RegExp(b+"\\s*\\(([\\d\\w\\.]+)")),e=0;return d?e=V(d[1]):(d=c.match(o)||[0,0,0,0,0],b=b.toLowerCase(),q.test(b)?e=parseFloat(d[3]/d[2]):"translatey"==b?e=parseFloat(d[4]/d[2]):"scale"==b?e=parseFloat(d[2]):"rotate"==b&&(e=parseFloat(Math.atan2(d[2],d[1])))),e}return parseFloat(a.css(b))}function cb(a){return a.charAt(0).toUpperCase()+a.substring(1)}function db(a,b){var c=bb.extend(b),f=c.prototype.directions;d[cb(a)]=c,d.Element.prototype[a]=function(a,b,d,e){return new c(this.element,a,b,d,e)},e(f,function(b,e){d.Element.prototype[a+cb(e)]=function(a,b,d){return new c(this.element,e,a,b,d)}})}function gb(a,b,c,d){db(a,{directions:fb,startValue:function(a){return this._startValue=a,this},endValue:function(a){return this._endValue=a,this},shouldHide:function(){return this._shouldHide},prepare:function(a,e){var g,h,f=this,i="out"===this._direction,j=f.element.data(b),k=!(isNaN(j)||j==c);g=k?j:"undefined"!=typeof this._startValue?this._startValue:i?c:d,h="undefined"!=typeof this._endValue?this._endValue:i?d:c,this._reverse?(a[b]=h,e[b]=g):(a[b]=g,e[b]=h),f._shouldHide=e[b]===d}})}function kb(a,b){var d=c.directions[b].vertical,e=a[d?E:D]()/2+"px";return ib[b].replace("$size",e)}var c=window.kendo,d=c.effects,e=a.each,f=a.extend,g=a.proxy,h=c.support,i=h.browser,j=h.transforms,k=h.transitions,l={scale:0,scalex:0,scaley:0,scale3d:0},m={translate:0,translatex:0,translatey:0,translate3d:0},n="undefined"!=typeof document.documentElement.style.zoom&&!j,o=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,p=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,q=/translatex?$/i,r=/(zoom|fade|expand)(\w+)/,s=/(zoom|fade|expand)/,t=/[xy]$/i,u=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],v=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],w={rotate:"deg",scale:"",skew:"px",translate:"px"},x=j.css,y=Math.round,z="",A="px",B="none",C="auto",D="width",E="height",F="hidden",G="origin",H="abortId",I="overflow",J="translate",K="position",L="completeCallback",M=x+"transition",N=x+"transform",O=x+"backface-visibility",P=x+"perspective",Q="1500px",R="perspective("+Q+")",S=h.mobileOS&&7==h.mobileOS.majorVersion,T={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};if(c.directions=T,f(a.fn,{kendoStop:function(a,b){return k?d.stopQueue(this,a||!1,b||!1):this.stop(a,b)}}),j&&!k){e(v,function(b,c){a.fn[c]=function(b){if("undefined"==typeof b)return _(this,c);var d=a(this)[0],e=c+"("+b+w[c.replace(t,"")]+")";return-1==d.style.cssText.indexOf(N)?a(this).css(N,e):d.style.cssText=d.style.cssText.replace(new RegExp(c+"\\(.*?\\)","i"),e),this},a.fx.step[c]=function(b){a(b.elem)[c](b.now)}});var U=a.fx.prototype.cur;a.fx.prototype.cur=function(){return-1!=v.indexOf(this.prop)?parseFloat(a(this.elem)[this.prop]()):U.apply(this,arguments)}}c.toggleClass=function(a,b,c,d){return b&&(b=b.split(" "),k&&(c=f({exclusive:"all",duration:400,ease:"ease-out"},c),a.css(M,c.exclusive+" "+c.duration+"ms "+c.ease),setTimeout(function(){a.css(M,"").css(E)},c.duration)),e(b,function(b,c){a.toggleClass(c,d)})),a},c.parseEffects=function(a,b){var c={};return"string"==typeof a?e(a.split(" "),function(a,d){var e=!s.test(d),f=d.replace(r,function(a,b,c){return b+":"+c.toLowerCase()}),g=f.split(":"),h=g[1],i={};g.length>1&&(i.direction=b&&e?T[h].reverse:h),c[g[0]]=i}):e(a,function(a){var d=this.direction;d&&b&&!s.test(a)&&(this.direction=T[d].reverse),c[a]=this}),c},k&&f(d,{transition:function(b,c,d){var e,i,g=0,h=b.data("keys")||[];d=f({duration:200,ease:"ease-out",complete:null,exclusive:"all"},d);var j=!1,l=function(){j||(j=!0,i&&(clearTimeout(i),i=null),b.removeData(H).dequeue().css(M,"").css(M),d.complete.call(b))};d.duration=a.fx?a.fx.speeds[d.duration]||d.duration:d.duration,e=$(b,c),a.merge(h,Y(e)),b.data("keys",a.unique(h)).height(),b.css(M,d.exclusive+" "+d.duration+"ms "+d.ease).css(M),b.css(e).css(N),k.event&&(b.one(k.event,l),0!==d.duration&&(g=500)),i=setTimeout(l,d.duration+g),b.data(H,i),b.data(L,l)},stopQueue:function(a,b,d){var e,f=a.data("keys"),g=!d&&f,h=a.data(L);return g&&(e=c.getComputedStyles(a[0],f)),h&&h(),g&&a.css(e),a.removeData("keys").stop(b)}});var ab=c.Class.extend({init:function(a,b){var c=this;c.element=a,c.effects=[],c.options=b,c.restore=[]},run:function(b){var e,g,h,q,r,s,c=this,i=b.length,l=c.element,m=c.options,n=a.Deferred(),o={},p={};for(c.effects=b,n.then(a.proxy(c,"complete")),l.data("animating",!0),g=0;i>g;g++)for(e=b[g],e.setReverse(m.reverse),e.setOptions(m),c.addRestoreProperties(e.restore),e.prepare(o,p),r=e.children(),h=0,s=r.length;s>h;h++)r[h].duration(m.duration).run();for(var t in m.effects)f(p,m.effects[t].properties);for(l.is(":visible")||f(o,{display:l.data("olddisplay")||"block"}),j&&!m.reset&&(q=l.data("targetTransform"),q&&(o=f(q,o))),o=$(l,o),j&&!k&&(o=Z(o)),l.css(o).css(N),g=0;i>g;g++)b[g].setup();return m.init&&m.init(),l.data("targetTransform",p),d.animate(l,p,f({},m,{complete:n.resolve})),n.promise()},stop:function(){a(this.element).kendoStop(!0,!0)},addRestoreProperties:function(a){for(var c,b=this.element,d=0,e=a.length;e>d;d++)c=a[d],this.restore.push(c),b.data(c)||b.data(c,b.css(c))},restoreCallback:function(){for(var a=this.element,b=0,c=this.restore.length;c>b;b++){var d=this.restore[b];a.css(d,a.data(d))}},complete:function(){var b=this,c=0,d=b.element,e=b.options,f=b.effects,g=f.length;for(d.removeData("animating").dequeue(),e.hide&&d.data("olddisplay",d.css("display")).hide(),this.restoreCallback(),n&&!j&&setTimeout(a.proxy(this,"restoreCallback"),0);g>c;c++)f[c].teardown();e.completeCallback&&e.completeCallback(d)}});d.promise=function(a,b){var f,i,e=[],g=new ab(a,b),h=c.parseEffects(b.effects);b.effects=h;for(var j in h)f=d[cb(j)],f&&(i=new f(a,h[j].direction),e.push(i));e[0]?g.run(e):(a.is(":visible")||a.css({display:a.data("olddisplay")||"block"}).css("display"),b.init&&b.init(),a.dequeue(),g.complete())},d.transitionPromise=function(a,b,c){return d.animateTo(a,b,c),a},f(d,{animate:function(c,g,h){var n=h.transition!==!1;delete h.transition,k&&"transition"in d&&n?d.transition(c,g,h):j?c.animate(Z(g),{queue:!1,show:!1,hide:!1,duration:h.duration,complete:h.complete}):c.each(function(){var c=a(this),d={};e(u,function(a,e){var h,i=g?g[e]+" ":null;if(i){var k=g;if(e in l&&g[e]!==b)h=i.match(p),j&&f(k,{scale:+h[0]});else if(e in m&&g[e]!==b){var n=c.css(K),o="absolute"==n||"fixed"==n;c.data(J)||(o?c.data(J,{top:W(c,"top")||0,left:W(c,"left")||0,bottom:W(c,"bottom"),right:W(c,"right")}):c.data(J,{top:W(c,"marginTop")||0,left:W(c,"marginLeft")||0}));var q=c.data(J);if(h=i.match(p)){var r=e==J+"y"?0:+h[1],s=e==J+"y"?+h[1]:+h[2];o?(isNaN(q.right)?isNaN(r)||f(k,{left:q.left+r}):isNaN(r)||f(k,{right:q.right-r}),isNaN(q.bottom)?isNaN(s)||f(k,{top:q.top+s}):isNaN(s)||f(k,{bottom:q.bottom-s})):(isNaN(r)||f(k,{marginLeft:q.left+r}),isNaN(s)||f(k,{marginTop:q.top+s}))}}!j&&"scale"!=e&&e in k&&delete k[e],k&&f(d,k)}}),i.msie&&delete d.scale,c.animate(d,{queue:!1,show:!1,hide:!1,duration:h.duration,complete:h.complete})})},animateTo:function(b,c,d){function n(a){c[0].style.cssText="",b.each(function(){this.style.cssText=""}),h.mobileOS.android||g.css(I,l),k||j.css(K,m),d.completeCallback&&d.completeCallback.call(b,a)}var e,l,m,g=b.parents().filter(c.parents()).first(),j=a().add(b.parent()).add(c.parent()),k="absolute"==b.css(K);k||(m=j.css(K),j.css(K,"absolute")),d=X(d),h.mobileOS.android||(l=g.css(I),g.css(I,"hidden")),a.each(d.effects,function(a,b){e=e||b.direction}),d.complete=i.msie?function(){setTimeout(n,0)}:n,d.previous=d.reverse?c:b,d.reset=!0,(d.reverse?b:c).each(function(){a(this).kendoAnimate(f(!0,{},d)),d.complete=null,d.previous=null})}});var bb=c.Class.extend({init:function(a,b){var c=this;c.element=a,c._direction=b,c.options={},c._additionalEffects=[],c.restore||(c.restore=[])},reverse:function(){return this._reverse=!0,this.run()},play:function(){return this._reverse=!1,this.run()},add:function(a){return this._additionalEffects.push(a),this},direction:function(a){return this._direction=a,this},duration:function(a){return this._duration=a,this},compositeRun:function(){var a=this,b=new ab(a.element,{reverse:a._reverse,duration:a._duration}),c=a._additionalEffects.concat([a]);return b.run(c)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var i,o,b=this,c=b.element,e=0,g=b.restore,h=g.length,l=a.Deferred(),m={},n={},p=b.children(),q=p.length;for(l.then(a.proxy(b,"_complete")),c.data("animating",!0),e=0;h>e;e++)i=g[e],c.data(i)||c.data(i,c.css(i));for(e=0;q>e;e++)p[e].duration(b._duration).run();return b.prepare(m,n),c.is(":visible")||f(m,{display:c.data("olddisplay")||"block"}),j&&(o=c.data("targetTransform"),o&&(m=f(o,m))),m=$(c,m),j&&!k&&(m=Z(m)),c.css(m).css(N),b.setup(),c.data("targetTransform",n),d.animate(c,n,{duration:b._duration,complete:l.resolve}),l.promise()},stop:function(){var b=0,c=this.children(),d=c.length;for(b=0;d>b;b++)c[b].stop();return a(this.element).kendoStop(!0,!0),this},restoreCallback:function(){for(var a=this.element,b=0,c=this.restore.length;c>b;b++){var d=this.restore[b];a.css(d,a.data(d))}},_complete:function(){var b=this,c=b.element;c.removeData("animating").dequeue(),b.restoreCallback(),b.shouldHide()&&c.data("olddisplay",c.css("display")).hide(),n&&!j&&setTimeout(a.proxy(b,"restoreCallback"),0),b.teardown()},setOptions:function(a){f(!0,this.options,a)},children:function(){return[]},shouldHide:a.noop,setup:a.noop,prepare:a.noop,teardown:a.noop,directions:[],setReverse:function(a){return this._reverse=a,this}}),eb=["left","right","up","down"],fb=["in","out"];db("slideIn",{directions:eb,divisor:function(a){return this.options.divisor=a,this},prepare:function(a,b){var d,c=this,e=c.element,f=T[c._direction],g=-f.modifier*(f.vertical?e.outerHeight():e.outerWidth()),h=g/(c.options&&c.options.divisor||1)+A,i="0px";c._reverse&&(d=a,a=b,b=d),j?(a[f.transition]=h,b[f.transition]=i):(a[f.property]=h,b[f.property]=i)}}),db("tile",{directions:eb,init:function(a,b,c){bb.prototype.init.call(this,a,b),this.options={previous:c}},previousDivisor:function(a){return this.options.previousDivisor=a,this},children:function(){var a=this,b=a._reverse,d=a.options.previous,e=a.options.previousDivisor||1,f=a._direction,g=[c.fx(a.element).slideIn(f).setReverse(b)];return d&&g.push(c.fx(d).slideIn(T[f].reverse).divisor(e).setReverse(!b)),g}}),gb("fade","opacity",1,0),gb("zoom","scale",1,.01),db("slideMargin",{prepare:function(a,b){var h,c=this,d=c.element,e=c.options,f=d.data(G),g=e.offset,i=c._reverse;i||null!==f||d.data(G,parseFloat(d.css("margin-"+e.axis))),h=d.data(G)||0,b["margin-"+e.axis]=i?h:h+g}}),db("slideTo",{prepare:function(a,b){var c=this,d=c.element,e=c.options,f=e.offset.split(","),g=c._reverse;j?(b.translatex=g?0:f[0],b.translatey=g?0:f[1]):(b.left=g?0:f[0],b.top=g?0:f[1]),d.css("left")}}),db("expand",{directions:["horizontal","vertical"],restore:[I],prepare:function(a,c){var d=this,e=d.element,f=d.options,g=d._reverse,h="vertical"===d._direction?E:D,i=e[0].style[h],j=e.data(h),k=parseFloat(j||i),l=y(e.css(h,C)[h]());a.overflow=F,k=f&&f.reset?l||k:k||l,c[h]=(g?0:k)+A,a[h]=(g?k:0)+A,j===b&&e.data(h,i)},shouldHide:function(){return this._reverse},teardown:function(){var a=this,b=a.element,c="vertical"===a._direction?E:D,d=b.data(c);(d==C||d===z)&&setTimeout(function(){b.css(c,C).css(c)},0)}});var hb={position:"absolute",marginLeft:0,marginTop:0,scale:1};db("transfer",{init:function(a,b){this.element=a,this.options={target:b},this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(a,b){var i,c=this,d=c.element,e=c.options,g=c._reverse,h=e.target,j=_(d,"scale"),k=h.offset(),l=h.outerHeight()/d.outerHeight();f(a,hb),b.scale=1,d.css(N,"scale(1)").css(N),i=d.offset(),d.css(N,"scale("+j+")");var m=0,n=0,o=k.left-i.left,p=k.top-i.top,q=m+d.outerWidth(),r=n,s=o+h.outerWidth(),t=p,u=(p-n)/(o-m),v=(t-r)/(s-q),w=(n-r-u*m+v*q)/(v-u),x=n+u*(w-m);a.top=i.top,a.left=i.left,a.transformOrigin=w+A+" "+x+A,g?a.scale=l:b.scale=l}});var ib={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"},jb={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};db("turningPage",{directions:eb,init:function(a,b,c){bb.prototype.init.call(this,a,b),this._container=c},prepare:function(a,b){var d=this,e=d._reverse,f=e?T[d._direction].reverse:d._direction,g=jb[f];a.zIndex=1,d._clipInHalf&&(a.clip=kb(d._container,c.directions[f].reverse)),a[O]=F,b[N]=R+(e?g.start:g.end),a[N]=R+(e?g.end:g.start)},setup:function(){this._container.append(this.element)},face:function(a){return this._face=a,this},shouldHide:function(){var a=this,b=a._reverse,c=a._face;return b&&!c||!b&&c},clipInHalf:function(a){return this._clipInHalf=a,this},temporary:function(){return this.element.addClass("temp-page"),this}}),db("staticPage",{directions:eb,init:function(a,b,c){bb.prototype.init.call(this,a,b),this._container=c},restore:["clip"],prepare:function(a,b){var c=this,d=c._reverse?T[c._direction].reverse:c._direction;a.clip=kb(c._container,d),a.opacity=.999,b.opacity=1},shouldHide:function(){var a=this,b=a._reverse,c=a._face;return b&&!c||!b&&c},face:function(a){return this._face=a,this}}),db("pageturn",{directions:["horizontal","vertical"],init:function(a,b,c,d){bb.prototype.init.call(this,a,b),this.options={},this.options.face=c,this.options.back=d},children:function(){var g,a=this,b=a.options,d="horizontal"===a._direction?"left":"top",e=c.directions[d].reverse,f=a._reverse,h=b.face.clone(!0).removeAttr("id"),i=b.back.clone(!0).removeAttr("id"),j=a.element;return f&&(g=d,d=e,e=g),[c.fx(b.face).staticPage(d,j).face(!0).setReverse(f),c.fx(b.back).staticPage(e,j).setReverse(f),c.fx(h).turningPage(d,j).face(!0).clipInHalf(!0).temporary().setReverse(f),c.fx(i).turningPage(e,j).clipInHalf(!0).temporary().setReverse(f)]},prepare:function(a,b){a[P]=Q,a.transformStyle="preserve-3d",a.opacity=.999,b.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}}),db("flip",{directions:["horizontal","vertical"],init:function(a,b,c,d){bb.prototype.init.call(this,a,b),this.options={},this.options.face=c,this.options.back=d},children:function(){var g,a=this,b=a.options,d="horizontal"===a._direction?"left":"top",e=c.directions[d].reverse,f=a._reverse,h=a.element;return f&&(g=d,d=e,e=g),[c.fx(b.face).turningPage(d,h).face(!0).setReverse(f),c.fx(b.back).turningPage(e,h).setReverse(f)]},prepare:function(a){a[P]=Q,a.transformStyle="preserve-3d"}});var lb=c.Class.extend({init:function(){var a=this;a._tickProxy=g(a._tick,a),a._started=!1},tick:a.noop,done:a.noop,onEnd:a.noop,onCancel:a.noop,start:function(){this.done()||(this._started=!0,c.animationFrame(this._tickProxy))},cancel:function(){this._started=!1,this.onCancel()},_tick:function(){var a=this;a._started&&(a.tick(),a.done()?(a._started=!1,a.onEnd()):c.queueAnimation(a._tickProxy))}}),mb=lb.extend({init:function(a){var b=this;f(b,a),lb.fn.init.call(b)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(a){var b=this,c=b.movable;b.initial=c[b.axis],b.delta=a.location-b.initial,b.duration="number"==typeof a.duration?a.duration:300,b.tick=b._easeProxy(a.ease),b.startDate=new Date,b.start()
},_easeProxy:function(a){var b=this;return function(){b.movable.moveAxis(b.axis,a(b.timePassed(),b.initial,b.delta,b.duration))}}});f(mb,{easeOutExpo:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},easeOutBack:function(a,b,c,d,e){return e=1.70158,c*((a=a/d-1)*a*((e+1)*a+e)+1)+b}}),d.Animation=lb,d.Transition=mb,d.createEffect=db}(window.kendo.jQuery),kendo_module({id:"data.odata",name:"OData",category:"framework",depends:["core"],hidden:!0}),function(a,b){function h(d){var i,j,k,l,m,n,o,p,f=[],g=d.logic||"and",q=d.filters;for(i=0,j=q.length;j>i;i++)d=q[i],k=d.field,o=d.value,n=d.operator,d.filters?d=h(d):(p=d.ignoreCase,k=k.replace(/\./g,"/"),d=e[n],d&&o!==b&&(l=a.type(o),"string"===l?(m="'{1}'",o=o.replace(/'/g,"''"),p===!0&&(k="tolower("+k+")")):m="date"===l?"datetime'{1:yyyy-MM-ddTHH:mm:ss}'":"{1}",d.length>3?"substringof"!==d?m="{0}({2},"+m+")":(m="{0}("+m+",{2})","doesnotcontain"===n&&(m+=" eq false")):m="{2} {0} "+m,d=c.format(m,d,o,k))),f.push(d);return d=f.join(" "+g+" "),f.length>1&&(d="("+d+")"),d}var c=window.kendo,d=a.extend,e={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"},f={pageSize:a.noop,page:a.noop,filter:function(a,b){b&&(a.$filter=h(b))},sort:function(b,c){var d=a.map(c,function(a){var b=a.field.replace(/\./g,"/");return"desc"===a.dir&&(b+=" desc"),b}).join(",");d&&(b.$orderby=d)},skip:function(a,b){b&&(a.$skip=b)},take:function(a,b){b&&(a.$top=b)}},g={read:{dataType:"jsonp"}};d(!0,c.data,{schemas:{odata:{type:"json",data:function(a){return a.d.results||[a.d]},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(a,b){var d,e,h,i;if(a=a||{},b=b||"read",i=(this.options||g)[b],i=i?i.dataType:"json","read"===b){d={$inlinecount:"allpages"},"json"!=i&&(d.$format="json");for(h in a)f[h]?f[h](d,a[h]):d[h]=a[h]}else{if("json"!==i)throw new Error("Only json dataType can be used for "+b+" operation.");if("destroy"!==b){for(h in a)e=a[h],"number"==typeof e&&(a[h]=e+"");d=c.stringify(a)}}return d}}}})}(window.kendo.jQuery),kendo_module({id:"data.xml",name:"XML",category:"framework",depends:["core"],hidden:!0}),function(a,b){var c=window.kendo,d=a.isArray,e=a.isPlainObject,f=a.map,g=a.each,h=a.extend,i=c.getter,j=c.Class,k=j.extend({init:function(a){var b=this,i=a.total,j=a.model,k=a.parse,l=a.errors,m=a.serialize,n=a.data;if(j){if(e(j)){j.fields&&g(j.fields,function(a,c){c=e(c)&&c.field?h(c,{field:b.getter(c.field)}):{field:b.getter(c)},j.fields[a]=c});var o=j.id;if(o){var p={};p[b.xpathToMember(o,!0)]={field:b.getter(o)},j.fields=h(p,j.fields),j.id=b.xpathToMember(o)}j=c.data.Model.define(j)}b.model=j}if(i&&("string"==typeof i?(i=b.getter(i),b.total=function(a){return parseInt(i(a),10)}):"function"==typeof i&&(b.total=i)),l&&("string"==typeof l?(l=b.getter(l),b.errors=function(a){return l(a)||null}):"function"==typeof l&&(b.errors=l)),n&&("string"==typeof n?(n=b.xpathToMember(n),b.data=function(a){var e,c=b.evaluate(a,n);return c=d(c)?c:[c],b.model&&j.fields?(e=new b.model,f(c,function(a){if(a){var c,b={};for(c in j.fields)b[c]=e._parse(c,j.fields[c].field(a));return b}})):c}):"function"==typeof n&&(b.data=n)),"function"==typeof k){var q=b.parse;b.parse=function(a){var c=k.call(b,a);return q.call(b,c)}}"function"==typeof m&&(b.serialize=m)},total:function(a){return this.data(a).length},errors:function(a){return a?a.errors:null},serialize:function(a){return a},parseDOM:function(a){var e,f,g,h,i,j,m,c={},k=a.attributes,l=k.length;for(m=0;l>m;m++)j=k[m],c["@"+j.nodeName]=j.nodeValue;for(f=a.firstChild;f;f=f.nextSibling)g=f.nodeType,3===g||4===g?c["#text"]=f.nodeValue:1===g&&(e=this.parseDOM(f),h=f.nodeName,i=c[h],d(i)?i.push(e):i=i!==b?[i,e]:e,c[h]=i);return c},evaluate:function(a,b){for(var e,f,g,h,i,c=b.split(".");e=c.shift();)if(a=a[e],d(a)){for(f=[],b=c.join("."),i=0,g=a.length;g>i;i++)h=this.evaluate(a[i],b),h=d(h)?h:[h],f.push.apply(f,h);return f}return a},parse:function(b){var c,d,e={};return c=b.documentElement||a.parseXML(b).documentElement,d=this.parseDOM(c),e[c.nodeName]=d,e},xpathToMember:function(a,b){return a?(a=a.replace(/^\//,"").replace(/\//g,"."),a.indexOf("@")>=0?a.replace(/\.?(@.*)/,b?"$1":'["$1"]'):a.indexOf("text()")>=0?a.replace(/(\.?text\(\))/,b?"#text":'["#text"]'):a):""},getter:function(a){return i(this.xpathToMember(a),!0)}});a.extend(!0,c.data,{XmlDataReader:k,readers:{xml:k}})}(window.kendo.jQuery),kendo_module({id:"data",name:"Data source",category:"framework",description:"Powerful component for using local and remote data.Fully supports CRUD, Sorting, Paging, Filtering, Grouping, and Aggregates.",depends:["core"],features:[{id:"data-odata",name:"OData",description:"Support for accessing Open Data Protocol (OData) services.",depends:["data.odata"]},{id:"data-XML",name:"XML",description:"Support for binding to XML.",depends:["data.xml"]}]}),function(a,b){function V(a,b,c,d){return function(e){var g,f={};for(g in e)f[g]=e[g];f.field=d?c+"."+e.field:c,b==w&&a._notifyChange&&a._notifyChange(f),a.trigger(b,f)}}function X(b,c){if(b===c)return!0;var f,d=a.type(b),e=a.type(c);if(d!==e)return!1;if("date"===d)return b.getTime()===c.getTime();if("object"!==d&&"array"!==d)return!1;for(f in b)if(!X(b[f],c[f]))return!1;return!0}function $(a,b){var c,d;for(d in a){if(c=a[d],e(c)&&c.field&&c.field===b)return c;if(c===b)return c}return null}function db(a){this.data=a||[]}function eb(a,c){if(a){var d=typeof a===q?{field:a,dir:c}:a,e=g(d)?d:d!==b?[d]:[];return h(e,function(a){return!!a.dir})}}function gb(a){var b,c,d,e,f=a.filters;if(f)for(b=0,c=f.length;c>b;b++)d=f[b],e=d.operator,e&&typeof e===q&&(d.operator=fb[e.toLowerCase()]||e),gb(d)}function hb(a){return a&&!f(a)?((g(a)||!a.filters)&&(a={logic:"and",filters:g(a)?a:[a]}),gb(a),a):void 0}function ib(a){return g(a)?a:[a]}function jb(a,c){var d=typeof a===q?{field:a,dir:c}:a,e=g(d)?d:d!==b?[d]:[];return j(e,function(a){return{field:a.field,dir:a.dir||"asc",aggregates:a.aggregates}})}function kb(a,b){return a&&a.getTime&&b&&b.getTime?a.getTime()===b.getTime():a===b}function lb(a,b,c,d,e){b=b||[];var f,g,h,i=b.length;for(f=0;i>f;f++){g=b[f],h=g.aggregate;var j=g.field;a[j]=a[j]||{},a[j][h]=mb[h.toLowerCase()](a[j][h],c,m.accessor(j),d,e)}}function nb(a){return"number"==typeof a&&!isNaN(a)}function ob(a){var b,c=a.length,d=new Array(c);for(b=0;c>b;b++)d[b]=a[b].toJSON();return d}function pb(a,b){b=b||{};var c=new db(a),d=b.aggregate,e=b.filter;return e&&(c=c.filter(e)),c.aggregate(d)}function tb(a,b,c,d,e){var f,g,h,i,j;for(i=0,j=a.length;j>i;i++){f=a[i];for(g in b)h=e[g],h&&h!==g&&(f[h]=b[g](f),delete f[g])}}function ub(a,b,c,d,e){var f,g,h,i,j;for(i=0,j=a.length;j>i;i++){f=a[i];for(g in b)f[g]=c._parse(g,b[g](f)),h=e[g],h&&h!==g&&delete f[h]}}function vb(a,b,c,d,e){var f,g,h,i;for(g=0,i=a.length;i>g;g++)f=a[g],h=d[f.field],h&&h!=f.field&&(f.field=h),f.value=c._parse(f.field,f.value),f.hasSubgroups?vb(f.items,b,c,d,e):ub(f.items,b,c,d,e)}function wb(a,b,c,d,e,g){return function(h){return h=a(h),h&&!f(d)&&("[object Array]"===P.call(h)||h instanceof U||(h=[h]),c(h,d,new b,e,g)),h||[]}}function yb(a,b,c,d){for(var e,g,f=0;b.length&&d&&(e=b[f],g=e.items,a&&a.field===e.field&&a.value===e.value?(a.hasSubgroups&&a.items.length?yb(a.items[a.items.length-1],e.items,c,d):(g=g.slice(c,d),d-=g.length,a.items=a.items.concat(g)),b.splice(f--,1)):(g=g.slice(c,d),d-=g.length,e.items=g,e.items.length||(b.splice(f--,1),d-=c)),c=0,!(++f>=b.length)););f<b.length&&b.splice(f,b.length-f)}function zb(a){var b,c,d=[];for(b=0,c=a.length;c>b;b++)d=a[b].hasSubgroups?d.concat(zb(a[b].items)):d.concat(a[b].items.slice());return d}function Ab(a,b){var c,d,e,f;if(b)for(c=0,d=a.length;d>c;c++)e=a[c],f=e.items,e.hasSubgroups?Ab(f,b):!f.length||f[0]instanceof b||(f.type=b,f.wrapAll(f,f))}function Bb(a,b){var c,d;for(c=0,d=a.length;d>c;c++)if(a[c].hasSubgroups){if(Bb(a[c].items,b))return!0}else if(b(a[c].items,a[c]))return!0}function Cb(a,b){var c,d;for(c=0,d=a.length;d>c;c++)if(a[c].uid==b.uid)return b=a[c],a.splice(c,1),b}function Db(a,b){var c,d,e,f;for(e=a.length-1,f=0;e>=f;e--)d=a[e],c={value:b.get(d.field),field:d.field,items:c?[c]:[b],hasSubgroups:!!c,aggregates:{}};return c}function Eb(a,b){return b?Gb(a,function(a){return a[b.idField]===b.id}):-1}function Fb(a,b){return b?Gb(a,function(a){return a.uid==b.uid}):-1}function Gb(a,b){var c,d;for(c=0,d=a.length;d>c;c++)if(b(a[c]))return c;return-1}function Hb(a,b){if(a&&!f(a)){var d,c=a[b];return d=e(c)?c.from||c.field||b:a[b]||b,n(d)?b:d}return b}function Ib(a,b){var c,d,e={};for(var f in a)"filters"!==f&&(e[f]=a[f]);if(a.filters)for(e.filters=[],c=0,d=a.filters.length;d>c;c++)e.filters[c]=Ib(a.filters[c],b);else e.field=Hb(b.fields,e.field);return e}function Jb(a,b){var c,d,f,h,e=[];for(c=0,d=a.length;d>c;c++){f={},h=a[c];for(var i in h)f[i]=h[i];f.field=Hb(b.fields,f.field),f.aggregates&&g(f.aggregates)&&(f.aggregates=Jb(f.aggregates,b)),e.push(f)}return e}function Mb(b,c){var e,f,h,k,l,d=a(b)[0].children,g=[],i=c[0],j=c[1];for(e=0,f=d.length;f>e;e++)h={},l=d[e],l.disabled||(h[i.field]=l.text,k=l.attributes.value,k=k&&k.specified?l.value:l.text,h[j.field]=k,g.push(h));return g}function Nb(b,c){var f,g,h,k,l,m,n,d=a(b)[0].tBodies[0],e=d?d.rows:[],i=c.length,j=[];for(f=0,g=e.length;g>f;f++){for(l={},n=!0,k=e[f].cells,h=0;i>h;h++)m=k[h],"th"!==m.nodeName.toLowerCase()&&(n=!1,l[c[h].field]=m.innerHTML);n||j.push(l)}return j}function Pb(a){return function(){var b=this._data,c=Kb.fn[a].apply(this,N.call(arguments));return this._data!=b&&this._attachBubbleHandlers(),c}}function Rb(b,c){function r(a,b){return a.filter(b).add(a.find(b))}var e,f,h,m,n,o,p,q,d=a(b).children(),g=[],i=c[0].field,j=c[1]&&c[1].field,k=c[2]&&c[2].field,l=c[3]&&c[3].field;for(e=0,f=d.length;f>e;e++)h={_loaded:!0},m=d.eq(e),o=m[0].firstChild,q=m.children(),b=q.filter("ul"),q=q.filter(":not(ul)"),n=m.attr("data-id"),n&&(h.id=n),o&&(h[i]=3==o.nodeType?o.nodeValue:q.text()),j&&(h[j]=r(q,"a").attr("href")),l&&(h[l]=r(q,"img").attr("src")),k&&(p=r(q,".k-sprite").prop("className"),h[k]=p&&a.trim(p.replace("k-sprite",""))),b.length&&(h.items=Rb(b.eq(0),c)),"true"==m.attr("data-hasChildren")&&(h.hasChildren=!0),g.push(h);return g}var j,c=a.extend,d=a.proxy,e=a.isPlainObject,f=a.isEmptyObject,g=a.isArray,h=a.grep,i=a.ajax,k=a.each,l=a.noop,m=window.kendo,n=m.isFunction,o=m.Observable,p=m.Class,q="string",r="function",s="create",t="read",u="update",v="destroy",w="change",x="sync",y="get",z="error",A="requestStart",B="progress",C="requestEnd",D=[s,t,u,v],E=function(a){return a},F=m.getter,G=m.stringify,H=Math,I=[].push,J=[].join,K=[].pop,L=[].splice,M=[].shift,N=[].slice,O=[].unshift,P={}.toString,Q=m.support.stableSort,R=/^\/Date\((.*?)\)\/$/,S=/(\r+|\n+)/g,T=/(?=['\\])/g,U=o.extend({init:function(a,b){var c=this;c.type=b||W,o.fn.init.call(c),c.length=a.length,c.wrapAll(a,c)},toJSON:function(){var a,c,b=this.length,d=new Array(b);for(a=0;b>a;a++)c=this[a],c instanceof W&&(c=c.toJSON()),d[a]=c;return d},parent:l,wrapAll:function(a,b){var d,e,c=this,f=function(){return c};for(b=b||[],d=0,e=a.length;e>d;d++)b[d]=c.wrap(a[d],f);return b},wrap:function(a,b){var d,c=this;return null!==a&&"[object Object]"===P.call(a)&&(d=a instanceof c.type||a instanceof _,d||(a=a instanceof W?a.toJSON():a,a=new c.type(a)),a.parent=b,a.bind(w,function(a){c.trigger(w,{field:a.field,node:a.node,index:a.index,items:a.items||[this],action:a.node?a.action||"itemchange":"itemchange"})})),a},push:function(){var c,a=this.length,b=this.wrapAll(arguments);return c=I.apply(this,b),this.trigger(w,{action:"add",index:a,items:b}),c},slice:N,join:J,pop:function(){var a=this.length,b=K.apply(this);return a&&this.trigger(w,{action:"remove",index:a-1,items:[b]}),b},splice:function(a,b,c){var e,f,g,d=this.wrapAll(N.call(arguments,2));if(e=L.apply(this,[a,b].concat(d)),e.length)for(this.trigger(w,{action:"remove",index:a,items:e}),f=0,g=e.length;g>f;f++)e[f].children&&e[f].unbind(w);return c&&this.trigger(w,{action:"add",index:a,items:d}),e},shift:function(){var a=this.length,b=M.apply(this);return a&&this.trigger(w,{action:"remove",index:0,items:[b]}),b},unshift:function(){var b,a=this.wrapAll(arguments);return b=O.apply(this,a),this.trigger(w,{action:"add",index:0,items:a}),b},indexOf:function(a){var c,d,b=this;for(c=0,d=b.length;d>c;c++)if(b[c]===a)return c;return-1},forEach:function(a){for(var b=0,c=this.length;c>b;b++)a(this[b],b,this)},map:function(a){for(var b=0,c=[],d=this.length;d>b;b++)c[b]=a(this[b],b,this);return c},filter:function(a){for(var d,b=0,c=[],e=this.length;e>b;b++)d=this[b],a(d,b,this)&&(c[c.length]=d);return c},find:function(a){for(var c,b=0,d=this.length;d>b;b++)if(c=this[b],a(c,b,this))return c},every:function(a){for(var c,b=0,d=this.length;d>b;b++)if(c=this[b],!a(c,b,this))return!1;return!0},some:function(a){for(var c,b=0,d=this.length;d>b;b++)if(c=this[b],a(c,b,this))return!0;return!1},remove:function(a){this.splice(this.indexOf(a),1)},empty:function(){this.splice(0,this.length)}}),W=o.extend({init:function(a){var c,d,b=this,e=function(){return b};o.fn.init.call(this);for(d in a)c=a[d],"_"!=d.charAt(0)&&(c=b.wrap(c,d,e)),b[d]=c;b.uid=m.guid()},shouldSerialize:function(a){return this.hasOwnProperty(a)&&"_events"!==a&&typeof this[a]!==r&&"uid"!==a},forEach:function(a){for(var b in this)this.shouldSerialize(b)&&a(this[b],b)},toJSON:function(){var b,c,a={};for(c in this)this.shouldSerialize(c)&&(b=this[c],(b instanceof W||b instanceof U)&&(b=b.toJSON()),a[c]=b);return a},get:function(a){var c,b=this;return b.trigger(y,{field:a}),c="this"===a?b:m.getter(a,!0)(b)},_set:function(a,b){var c=this,d=a.indexOf(".")>=0;if(d)for(var e=a.split("."),f="";e.length>1;){f+=e.shift();var g=m.getter(f,!0)(c);if(g instanceof W)return g.set(e.join("."),b),d;f+="."}return m.setter(a)(c,b),d},set:function(a,b){var c=this,d=m.getter(a,!0)(c);d!==b&&(c.trigger("set",{field:a,value:b})||(!c._set(a,c.wrap(b,a,function(){return c}))||a.indexOf("(")>=0||a.indexOf("[")>=0)&&c.trigger(w,{field:a}))},parent:l,wrap:function(a,b,c){var d=this,e=P.call(a);if(null!=a&&("[object Object]"===e||"[object Array]"===e)){var f=a instanceof U,g=a instanceof Kb;"[object Object]"!==e||g||f?("[object Array]"===e||f||g)&&(f||g||(a=new U(a)),a.parent()!=c()&&a.bind(w,V(d,w,b,!1))):(a instanceof W||(a=new W(a)),a.parent()!=c()&&(a.bind(y,V(d,y,b,!0)),a.bind(w,V(d,w,b,!0)))),a.parent=c}return a}}),Y={number:function(a){return m.parseFloat(a)},date:function(a){return m.parseDate(a)},"boolean":function(a){return typeof a===q?"true"===a.toLowerCase():null!=a?!!a:a},string:function(a){return null!=a?a+"":a},"default":function(a){return a}},Z={string:"",number:0,date:new Date,"boolean":!1,"default":""},_=W.extend({init:function(c){var d=this;(!c||a.isEmptyObject(c))&&(c=a.extend({},d.defaults,c)),W.fn.init.call(d,c),d.dirty=!1,d.idField&&(d.id=d.get(d.idField),d.id===b&&(d.id=d._defaultId))},shouldSerialize:function(a){return W.fn.shouldSerialize.call(this,a)&&"uid"!==a&&!("id"!==this.idField&&"id"===a)&&"dirty"!==a&&"_accessors"!==a},_parse:function(a,b){var f,c=this,d=a,e=c.fields||{};return a=e[a],a||(a=$(e,d)),a&&(f=a.parse,!f&&a.type&&(f=Y[a.type.toLowerCase()])),f?f(b):b},_notifyChange:function(a){var b=a.action;("add"==b||"remove"==b)&&(this.dirty=!0)},editable:function(a){return a=(this.fields||{})[a],a?a.editable!==!1:!0},set:function(a,b,c){var d=this;d.editable(a)&&(b=d._parse(a,b),X(b,d.get(a))||(d.dirty=!0,W.fn.set.call(d,a,b,c)))},accept:function(a){var d,b=this,c=function(){return b};for(d in a){var e=a[d];"_"!=d.charAt(0)&&(e=b.wrap(a[d],d,c)),b._set(d,e)}b.idField&&(b.id=b.get(b.idField)),b.dirty=!1},isNew:function(){return this.id===this._defaultId}});_.define=function(a,d){d===b&&(d=a,a=_);var e,g,h,i,j,k,l,n,f=c({defaults:{}},d),m={},o=f.id;if(o&&(f.idField=o),f.id&&delete f.id,o&&(f.defaults[o]=f._defaultId=""),"[object Array]"===P.call(f.fields)){for(k=0,l=f.fields.length;l>k;k++)h=f.fields[k],typeof h===q?m[h]={}:h.field&&(m[h.field]=h);f.fields=m}for(g in f.fields)h=f.fields[g],i=h.type||"default",j=null,n=g,g=typeof h.field===q?h.field:g,h.nullable||(j=f.defaults[n!==g?n:g]=h.defaultValue!==b?h.defaultValue:Z[i.toLowerCase()]),d.id===g&&(f._defaultId=j),f.defaults[n!==g?n:g]=j,h.parse=h.parse||Y[i];return e=a.extend(f),e.define=function(a){return _.define(e,a)},f.fields&&(e.fields=f.fields,e.idField=f.idField),e};var ab={selector:function(a){return n(a)?a:F(a)},compare:function(a){var b=this.selector(a);return function(a,c){return a=b(a),c=b(c),null==a&&null==c?0:null==a?-1:null==c?1:a.localeCompare?a.localeCompare(c):a>c?1:c>a?-1:0}},create:function(a){var b=a.compare||this.compare(a.field);return"desc"==a.dir?function(a,c){return b(c,a,!0)}:b},combine:function(a){return function(b,c){var e,f,d=a[0](b,c);for(e=1,f=a.length;f>e;e++)d=d||a[e](b,c);return d}}},bb=c({},ab,{asc:function(a){var b=this.selector(a);return function(a,c){var d=b(a),e=b(c);return d&&d.getTime&&e&&e.getTime&&(d=d.getTime(),e=e.getTime()),d===e?a.__position-c.__position:null==d?-1:null==e?1:d.localeCompare?d.localeCompare(e):d>e?1:-1}},desc:function(a){var b=this.selector(a);return function(a,c){var d=b(a),e=b(c);return d&&d.getTime&&e&&e.getTime&&(d=d.getTime(),e=e.getTime()),d===e?a.__position-c.__position:null==d?1:null==e?-1:e.localeCompare?e.localeCompare(d):e>d?1:-1}},create:function(a){return this[a.dir](a.field)}});j=function(a,b){var c,d=a.length,e=new Array(d);for(c=0;d>c;c++)e[c]=b(a[c],c,a);return e};var cb=function(){function a(a){return a.replace(T,"\\").replace(S,"")}function b(b,c,d,e){var f;return null!=d&&(typeof d===q&&(d=a(d),f=R.exec(d),f?d=new Date(+f[1]):e?(d="'"+d.toLowerCase()+"'",c="("+c+" || '').toLowerCase()"):d="'"+d+"'"),d.getTime&&(c="("+c+"?"+c+".getTime():"+c+")",d=d.getTime())),c+" "+b+" "+d}return{eq:function(a,c,d){return b("==",a,c,d)},neq:function(a,c,d){return b("!=",a,c,d)},gt:function(a,c,d){return b(">",a,c,d)},gte:function(a,c,d){return b(">=",a,c,d)},lt:function(a,c,d){return b("<",a,c,d)},lte:function(a,c,d){return b("<=",a,c,d)},startswith:function(b,c,d){return d&&(b="("+b+" || '').toLowerCase()",c&&(c=c.toLowerCase())),c&&(c=a(c)),b+".lastIndexOf('"+c+"', 0) == 0"},endswith:function(b,c,d){return d&&(b="("+b+" || '').toLowerCase()",c&&(c=c.toLowerCase())),c&&(c=a(c)),b+".indexOf('"+c+"', "+b+".length - "+(c||"").length+") >= 0"},contains:function(b,c,d){return d&&(b="("+b+" || '').toLowerCase()",c&&(c=c.toLowerCase())),c&&(c=a(c)),b+".indexOf('"+c+"') >= 0"},doesnotcontain:function(b,c,d){return d&&(b="("+b+" || '').toLowerCase()",c&&(c=c.toLowerCase())),c&&(c=a(c)),b+".indexOf('"+c+"') == -1"}}}();db.filterExpr=function(a){var e,f,g,h,k,l,c=[],d={and:" && ",or:" || "},i=[],j=[],n=a.filters;for(e=0,f=n.length;f>e;e++)g=n[e],k=g.field,l=g.operator,g.filters?(h=db.filterExpr(g),g=h.expression.replace(/__o\[(\d+)\]/g,function(a,b){return b=+b,"__o["+(j.length+b)+"]"}).replace(/__f\[(\d+)\]/g,function(a,b){return b=+b,"__f["+(i.length+b)+"]"}),j.push.apply(j,h.operators),i.push.apply(i,h.fields)):(typeof k===r?(h="__f["+i.length+"](d)",i.push(k)):h=m.expr(k),typeof l===r?(g="__o["+j.length+"]("+h+", "+g.value+")",j.push(l)):g=cb[(l||"eq").toLowerCase()](h,g.value,g.ignoreCase!==b?g.ignoreCase:!0)),c.push(g);return{expression:"("+c.join(d[a.logic])+")",fields:i,operators:j}};var fb={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"};db.normalizeFilter=hb,db.prototype={toArray:function(){return this.data},range:function(a,b){return new db(this.data.slice(a,a+b))},skip:function(a){return new db(this.data.slice(a))},take:function(a){return new db(this.data.slice(0,a))},select:function(a){return new db(j(this.data,a))},order:function(a,b){var c={dir:b};return a&&(a.compare?c.compare=a.compare:c.field=a),new db(this.data.slice(0).sort(ab.create(c)))},orderBy:function(a){return this.order(a,"asc")},orderByDescending:function(a){return this.order(a,"desc")},sort:function(a,b,c){var d,e,f=eb(a,b),g=[];if(c=c||ab,f.length){for(d=0,e=f.length;e>d;d++)g.push(c.create(f[d]));return this.orderBy({compare:c.combine(g)})}return this},filter:function(a){var b,c,d,e,f,h,i,k,g=this.data,j=[];if(a=hb(a),!a||0===a.filters.length)return this;for(e=db.filterExpr(a),h=e.fields,i=e.operators,f=k=new Function("d, __f, __o","return "+e.expression),(h.length||i.length)&&(k=function(a){return f(a,h,i)}),b=0,d=g.length;d>b;b++)c=g[b],k(c)&&j.push(c);return new db(j)},group:function(a,b){a=jb(a||[]),b=b||this.data;var e,c=this,d=new db(c.data);return a.length>0&&(e=a[0],d=d.groupBy(e).select(function(c){var d=new db(b).filter([{field:c.field,operator:"eq",value:c.value,ignoreCase:!1}]);return{field:c.field,value:c.value,items:a.length>1?new db(c.items).group(a.slice(1),d.toArray()).toArray():c.items,hasSubgroups:a.length>1,aggregates:d.aggregate(e.aggregates)}})),d},groupBy:function(a){if(f(a)||!this.data.length)return new db([]);var e,i,j,k,b=a.field,c=this._sortForGrouping(b,a.dir||"asc"),d=m.accessor(b),g=d.get(c[0],b),h={field:b,value:g,items:[]},l=[h];for(j=0,k=c.length;k>j;j++)e=c[j],i=d.get(e,b),kb(g,i)||(g=i,h={field:b,value:g,items:[]},l.push(h)),h.items.push(e);return new db(l)},_sortForGrouping:function(a,b){var c,d,e=this.data;if(!Q){for(c=0,d=e.length;d>c;c++)e[c].__position=c;for(e=new db(e).sort(a,b,bb).toArray(),c=0,d=e.length;d>c;c++)delete e[c].__position;return e}return this.sort(a,b).toArray()},aggregate:function(a){var b,c,d={};if(a&&a.length)for(b=0,c=this.data.length;c>b;b++)lb(d,a,this.data[b],b,c);return d}};var mb={sum:function(a,b,c){return(a||0)+c.get(b)},count:function(a){return(a||0)+1},average:function(a,b,c,d,e){return a=(a||0)+c.get(b),d==e-1&&(a/=e),a},max:function(a,b,c){var d=c.get(b);return a=a||0,d>a&&(a=d),a},min:function(a,b,c){var d=c.get(b);return nb(a)||(a=d),a>d&&nb(d)&&(a=d),a}};db.process=function(a,c){c=c||{};var g,d=new db(a),e=c.group,f=jb(e||[]).concat(eb(c.sort||[])),h=c.filter,i=c.skip,j=c.take;return h&&(d=d.filter(h),g=d.toArray().length),f&&(d=d.sort(f),e&&(a=d.toArray())),i!==b&&j!==b&&(d=d.range(i,j)),e&&(d=d.group(e,a)),{total:g,data:d.toArray()}};var qb=p.extend({init:function(a){this.data=a.data},read:function(a){a.success(this.data)},update:function(a){a.success(a.data)},create:function(a){a.success(a.data)},destroy:function(a){a.success(a.data)}}),rb=p.extend({init:function(a){var d,b=this;a=b.options=c({},b.options,a),k(D,function(b,c){typeof a[c]===q&&(a[c]={url:a[c]})}),b.cache=a.cache?sb.create(a.cache):{find:l,add:l},d=a.parameterMap,b.parameterMap=n(d)?d:function(a){var b={};return k(a,function(a,c){a in d&&(a=d[a],e(a)&&(c=a.value(c),a=a.key)),b[a]=c}),b}},options:{parameterMap:E},create:function(a){return i(this.setup(a,s))},read:function(c){var e,f,g,d=this,h=d.cache;c=d.setup(c,t),e=c.success||l,f=c.error||l,g=h.find(c.data),g!==b?e(g):(c.success=function(a){h.add(c.data,a),e(a)},a.ajax(c))},update:function(a){return i(this.setup(a,u))},destroy:function(a){return i(this.setup(a,v))},setup:function(a,b){a=a||{};var e,d=this,f=d.options[b],g=n(f.data)?f.data(a.data):f.data;return a=c(!0,{},f,a),e=c(!0,{},g,a.data),a.data=d.parameterMap(e,b),n(a.url)&&(a.url=a.url(e)),a}}),sb=p.extend({init:function(){this._store={}},add:function(a,c){a!==b&&(this._store[G(a)]=c)},find:function(a){return this._store[G(a)]},clear:function(){this._store={}},remove:function(a){delete this._store[G(a)]}});sb.create=function(a){var b={inmemory:function(){return new sb}};return e(a)&&n(a.find)?a:a===!0?new sb:b[a]()};var xb=p.extend({init:function(a){var c,f,g,h,b=this;a=a||{};for(c in a)f=a[c],b[c]=typeof f===q?F(f):f;if(h=a.modelBase||_,e(b.model)&&(b.model=g=h.define(b.model)),b.model){var s,i=d(b.data,b),j=d(b.groups,b),l=d(b.serialize,b),m={},n={},o={},p={},r=!1;g=b.model,g.fields&&(k(g.fields,function(a,b){var c;s=a,e(b)&&b.field?s=b.field:typeof b===q&&(s=b),e(b)&&b.from&&(c=b.from),r=r||c&&c!==a||s!==a,n[a]=F(c||s),o[a]=F(a),m[c||s]=a,p[a]=c||s}),!a.serialize&&r&&(b.serialize=wb(l,g,tb,o,m,p))),b.data=wb(i,g,ub,n,m,p),b.groups=wb(j,g,vb,n,m,p)}},errors:function(a){return a?a.errors:null},parse:E,data:E,total:function(a){return a.length},groups:E,aggregates:function(){return{}},serialize:function(a){return a}}),Kb=o.extend({init:function(a){var e,f,d=this;a&&(f=a.data),a=d.options=c({},d.options,a),d._map={},d._prefetch={},d._data=[],d._pristineData=[],d._ranges=[],d._view=[],d._pristine=[],d._destroyed=[],d._pageSize=a.pageSize,d._page=a.page||(a.pageSize?1:b),d._sort=eb(a.sort),d._filter=hb(a.filter),d._group=jb(a.group),d._aggregate=a.aggregate,d._total=a.total,o.fn.init.call(d),d.transport=Lb.create(a,f),d.reader=new m.data.readers[a.schema.type||"json"](a.schema),e=d.reader.model||{},d._data=d._observe(d._data),d.bind([z,w,A,x,C,B],a)},options:{data:[],schema:{modelBase:_},serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},_isServerGrouped:function(){var a=this.group()||[];return this.options.serverGrouping&&a.length},_flatData:function(a){return this._isServerGrouped()?zb(a):a},parent:l,get:function(a){var b,c,d=this._flatData(this._data);for(b=0,c=d.length;c>b;b++)if(d[b].id==a)return d[b]},getByUid:function(a){var b,c,d=this._flatData(this._data);if(d)for(b=0,c=d.length;c>b;b++)if(d[b].uid==a)return d[b]},indexOf:function(a){return Fb(this._data,a)},at:function(a){return this._data[a]},data:function(a){var c=this;return a===b?c._data:(c._data=this._observe(a),c._ranges=[],c._addRange(c._data),c._total=c._data.length,c._process(c._data),void 0)},view:function(){return this._view},add:function(a){return this.insert(this._data.length,a)},_createNewModel:function(a){return this.reader.model?new this.reader.model(a):new W(a)},insert:function(a,b){return b||(b=a,a=0),b instanceof _||(b=this._createNewModel(b)),this._isServerGrouped()?this._data.splice(a,0,Db(this.group(),b)):this._data.splice(a,0,b),b},remove:function(a){var b,c=this,d=c._isServerGrouped();return this._eachItem(c._data,function(e){return b=Cb(e,a),b&&d?(b.isNew&&b.isNew()||c._destroyed.push(b),!0):void 0}),a},sync:function(){var c,d,b=this,e=[],f=[],g=b._destroyed,h=b._flatData(b._data);if(b.reader.model){for(c=0,d=h.length;d>c;c++)h[c].isNew()?e.push(h[c]):h[c].dirty&&f.push(h[c]);var i=b._send("create",e);i.push.apply(i,b._send("update",f)),i.push.apply(i,b._send("destroy",g)),a.when.apply(null,i).then(function(){var a,c;for(a=0,c=arguments.length;c>a;a++)b._accept(arguments[a]);b._change({action:"sync"}),b.trigger(x)})}},cancelChanges:function(a){var b=this;a instanceof m.data.Model?b._cancelModel(a):(b._destroyed=[],b._data=b._observe(b._pristineData),b.options.serverPaging&&(b._total=b.reader.total(b._pristine)),b._change())},hasChanges:function(){var a,b,c=this._data;if(this._destroyed.length)return!0;for(a=0,b=c.length;b>a;a++)if(c[a].isNew()||c[a].dirty)return!0;return!1},_accept:function(b){var k,c=this,d=b.models,e=b.response,g=0,h=c._isServerGrouped(),i=c._pristineData,j=b.type;if(c.trigger(C,{response:e,type:j}),e&&!f(e)){if(e=c.reader.parse(e),c._handleCustomErrors(e))return;e=c.reader.data(e),a.isArray(e)||(e=[e])}else e=a.map(d,function(a){return a.toJSON()});for("destroy"===j&&(c._destroyed=[]),g=0,k=d.length;k>g;g++)"destroy"!==j?(d[g].accept(e[g]),"create"===j?i.push(h?Db(c.group(),d[g]):e[g]):"update"===j&&c._updatePristineForModel(d[g],e[g])):c._removePristineForModel(d[g])},_updatePristineForModel:function(a,b){this._executeOnPristineForModel(a,function(a,c){m.deepExtend(c[a],b)})},_executeOnPristineForModel:function(a,b){this._eachPristineItem(function(c){var d=Eb(c,a);return d>-1?(b(d,c),!0):void 0})},_removePristineForModel:function(a){this._executeOnPristineForModel(a,function(a,b){b.splice(a,1)})},_readData:function(a){var b=this._isServerGrouped()?this.reader.groups:this.reader.data;return b(a)},_eachPristineItem:function(a){this._eachItem(this._pristineData,a)},_eachItem:function(a,b){a&&a.length&&(this._isServerGrouped()?Bb(a,b):b(a))},_pristineForModel:function(a){var b,c,d=function(d){return c=Eb(d,a),c>-1?(b=d[c],!0):void 0};return this._eachPristineItem(d),b},_cancelModel:function(a){var c,b=this._pristineForModel(a);this._eachItem(this._data,function(d){c=Fb(d,a),-1!=c&&(!a.isNew()&&b?d[c].accept(b):d.splice(c,1))})},_promise:function(b,d,e){var f=this,g=f.transport;return a.Deferred(function(a){f.trigger(A,{type:e}),g[e].call(g,c({success:function(b){a.resolve({response:b,models:d,type:e})},error:function(b,c,d){a.reject(b),f.error(b,c,d)}},b))}).promise()},_send:function(a,b){var d,e,c=this,f=[],g=c.reader.serialize(ob(b));if(c.options.batch)b.length&&f.push(c._promise({data:{models:g}},b,a));else for(d=0,e=b.length;e>d;d++)f.push(c._promise({data:g[d]},[b[d]],a));return f},read:function(a){var b=this,c=b._params(a);b._queueRequest(c,function(){b.trigger(A,{type:"read"})?b._dequeueRequest():(b.trigger(B),b._ranges=[],b.transport.read({data:c,success:d(b.success,b),error:d(b.error,b)}))})},success:function(b){var c=this,d=c.options;return c.trigger(C,{response:b,type:"read"}),b=c.reader.parse(b),c._handleCustomErrors(b)?(c._dequeueRequest(),void 0):(c._pristine=e(b)?a.extend(!0,{},b):b.slice?b.slice(0):b,c._total=c.reader.total(b),c._aggregate&&d.serverAggregates&&(c._aggregateResult=c.reader.aggregates(b)),b=c._readData(b),c._pristineData=b.slice(0),c._data=c._observe(b),c._addRange(c._data),c._process(c._data),c._dequeueRequest(),void 0)},_addRange:function(a){var b=this,c=b._skip||0,d=c+b._flatData(a).length;b._ranges.push({start:c,end:d,data:a}),b._ranges.sort(function(a,b){return a.start-b.start})},error:function(a,b,c){this._dequeueRequest(),this.trigger(C,{}),this.trigger(z,{xhr:a,status:b,errorThrown:c})},_params:function(a){var b=this,d=c({take:b.take(),skip:b.skip(),page:b.page(),pageSize:b.pageSize(),sort:b._sort,filter:b._filter,group:b._group,aggregate:b._aggregate},a);return b.options.serverPaging||(delete d.take,delete d.skip,delete d.page,delete d.pageSize),b.options.serverGrouping?b.reader.model&&d.group&&(d.group=Jb(d.group,b.reader.model)):delete d.group,b.options.serverFiltering?b.reader.model&&d.filter&&(d.filter=Ib(d.filter,b.reader.model)):delete d.filter,b.options.serverSorting?b.reader.model&&d.sort&&(d.sort=Jb(d.sort,b.reader.model)):delete d.sort,b.options.serverAggregates?b.reader.model&&d.aggregate&&(d.aggregate=Jb(d.aggregate,b.reader.model)):delete d.aggregate,d},_queueRequest:function(a,c){var e=this;e._requestInProgress?e._pending={callback:d(c,e),options:a}:(e._requestInProgress=!0,e._pending=b,c())},_dequeueRequest:function(){var a=this;a._requestInProgress=!1,a._pending&&a._queueRequest(a._pending.options,a._pending.callback)},_handleCustomErrors:function(a){if(this.reader.errors){var b=this.reader.errors(a);if(b)return this.trigger(z,{xhr:null,status:"customerror",errorThrown:"custom error",errors:b}),!0}return!1},_observe:function(a){var b=this,c=b.reader.model,e=!1;return c&&a.length&&(e=!(a[0]instanceof c)),a instanceof U?e&&(a.type=b.reader.model,a.wrapAll(a,a)):(a=new U(a,b.reader.model),a.parent=function(){return b.parent()}),b._isServerGrouped()&&Ab(a,c),b._changeHandler&&b._data&&b._data instanceof U?b._data.unbind(w,b._changeHandler):b._changeHandler=d(b._change,b),a.bind(w,b._changeHandler)},_change:function(a){var c,d,b=this,e=a?a.action:"";if("remove"===e)for(c=0,d=a.items.length;d>c;c++)a.items[c].isNew&&a.items[c].isNew()||b._destroyed.push(a.items[c]);if(!b.options.autoSync||"add"!==e&&"remove"!==e&&"itemchange"!==e){var f=parseInt(b._total||b.reader.total(b._pristine),10);
"add"===e?f+=a.items.length:"remove"===e?f-=a.items.length:"itemchange"===e||"sync"===e||b.options.serverPaging||(f=b.reader.total(b._pristine)),b._total=f,b._process(b._data,a)}else b.sync()},_process:function(a,c){var f,d=this,e={};d.options.serverPaging!==!0&&(e.skip=d._skip,e.take=d._take||d._pageSize,e.skip===b&&d._page!==b&&d._pageSize!==b&&(e.skip=(d._page-1)*d._pageSize)),d.options.serverSorting!==!0&&(e.sort=d._sort),d.options.serverFiltering!==!0&&(e.filter=d._filter),d.options.serverGrouping!==!0&&(e.group=d._group),d.options.serverAggregates!==!0&&(e.aggregate=d._aggregate,d._aggregateResult=pb(a,e)),f=db.process(a,e),d._view=f.data,f.total===b||d.options.serverFiltering||(d._total=f.total),c=c||{},c.items=c.items||d._view,d.trigger(w,c)},_mergeState:function(a){var c=this;return a!==b&&(c._pageSize=a.pageSize,c._page=a.page,c._sort=a.sort,c._filter=a.filter,c._group=a.group,c._aggregate=a.aggregate,c._skip=a.skip,c._take=a.take,c._skip===b&&(c._skip=c.skip(),a.skip=c.skip()),c._take===b&&c._pageSize!==b&&(c._take=c._pageSize,a.take=c._take),a.sort&&(c._sort=a.sort=eb(a.sort)),a.filter&&(c._filter=a.filter=hb(a.filter)),a.group&&(c._group=a.group=jb(a.group)),a.aggregate&&(c._aggregate=a.aggregate=ib(a.aggregate))),a},query:function(a){var d,c=this,e=c.options.serverSorting||c.options.serverPaging||c.options.serverFiltering||c.options.serverGrouping||c.options.serverAggregates;e||(c._data===b||0===c._data.length)&&!c._destroyed.length?c.read(c._mergeState(a)):c.trigger(A,{type:"read"})||(c.trigger(B),d=db.process(c._data,c._mergeState(a)),c.options.serverFiltering||(c._total=d.total!==b?d.total:c._data.length),c._view=d.data,c._aggregateResult=pb(c._data,a),c.trigger(C,{}),c.trigger(w,{items:d.data}))},fetch:function(b){var c=this;return a.Deferred(function(a){var d=function(d){c.unbind(z,e),a.resolve(),b&&b.call(c,d)},e=function(b){a.reject(b)};c.one(w,d),c.one(z,e),c._query()}).promise()},_query:function(a){var b=this;b.query(c({},{page:b.page(),pageSize:b.pageSize(),sort:b.sort(),filter:b.filter(),group:b.group(),aggregate:b.aggregate()},a))},next:function(a){var b=this,c=b.page(),d=b.total();return a=a||{},!c||d&&c+1>b.totalPages()?void 0:(b._skip=c*b.take(),c+=1,a.page=c,b._query(a),c)},prev:function(a){var b=this,c=b.page();return a=a||{},c&&1!==c?(b._skip=b._skip-b.take(),c-=1,a.page=c,b._query(a),c):void 0},page:function(a){var d,c=this;return a!==b?(a=H.max(H.min(H.max(a,1),c.totalPages()),1),c._query({page:a}),void 0):(d=c.skip(),d!==b?H.round((d||0)/(c.take()||1))+1:b)},pageSize:function(a){var c=this;return a!==b?(c._query({pageSize:a,page:1}),void 0):c.take()},sort:function(a){var c=this;return a!==b?(c._query({sort:a}),void 0):c._sort},filter:function(a){var c=this;return a===b?c._filter:(c._query({filter:a,page:1}),void 0)},group:function(a){var c=this;return a!==b?(c._query({group:a}),void 0):c._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(a){var c=this;return a!==b?(c._query({aggregate:a}),void 0):c._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var a=this,b=a.pageSize()||a.total();return H.ceil((a.total()||0)/b)},inRange:function(a,b){var c=this,d=H.min(a+b,c.total());return!c.options.serverPaging&&c.data.length>0?!0:c._findRange(a,d).length>0},lastRange:function(){var a=this._ranges;return a[a.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var a=this._ranges;return a.length&&a[0].data.length&&a[0].data[0].uid},range:function(a,c){a=H.min(a||0,this.total());var g,d=this,e=H.max(H.floor(a/c),0)*c,f=H.min(e+c,d.total());if(g=d._findRange(a,H.min(a+c,d.total())),g.length){d._skip=a>d.skip()?H.min(f,(d.totalPages()-1)*d.take()):e,d._take=c;var h=d.options.serverPaging,i=d.options.serverSorting,j=d.options.serverFiltering;try{d.options.serverPaging=!0,d._isServerGrouped()||d.group()&&d.group().length||(d.options.serverSorting=!0),d.options.serverFiltering=!0,h&&(d._data=g=d._observe(g)),d._process(g)}finally{d.options.serverPaging=h,d.options.serverSorting=i,d.options.serverFiltering=j}}else c!==b&&(d._rangeExists(e,f)?a>e&&d.prefetch(f,c,function(){d.range(a,c)}):d.prefetch(e,c,function(){a>e&&f<d.total()&&!d._rangeExists(f,H.min(f+c,d.total()))?d.prefetch(f,c,function(){d.range(a,c)}):d.range(a,c)}))},_findRange:function(a,c){var f,h,i,j,k,l,m,n,q,r,s,d=this,e=d._ranges,g=[],o=d.options,p=o.serverSorting||o.serverPaging||o.serverFiltering||o.serverGrouping||o.serverAggregates;for(h=0,s=e.length;s>h;h++)if(f=e[h],a>=f.start&&a<=f.end){for(r=0,i=h;s>i;i++)if(f=e[i],q=d._flatData(f.data),q.length&&a+r>=f.start){if(l=f.data,m=f.end,!p){var t=jb(d.group()||[]).concat(eb(d.sort()||[]));n=db.process(f.data,{sort:t,filter:d.filter()}),q=l=n.data,n.total!==b&&(m=n.total)}if(j=0,a+r>f.start&&(j=a+r-f.start),k=q.length,m>c&&(k-=m-c),r+=k-j,g=d._mergeGroups(g,l,j,k),c<=f.end&&r==c-a)return g}break}return[]},_mergeGroups:function(a,b,c,d){if(this._isServerGrouped()){var f,e=b.toJSON();return a.length&&(f=a[a.length-1]),yb(f,e,c,d),a.concat(e)}return a.concat(b.slice(c,d))},skip:function(){var a=this;return a._skip===b?a._page!==b?(a._page-1)*(a.take()||1):b:a._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(a,b,c){var d=this;return function(e){var h,i,f=!1,g={start:a,end:b,data:[]};for(d._dequeueRequest(),h=0,i=d._ranges.length;i>h;h++)if(d._ranges[h].start===a){f=!0,g=d._ranges[h];break}f||d._ranges.push(g),d.trigger(C,{response:e,type:"read"}),e=d.reader.parse(e),g.data=d._observe(d._readData(e)),g.end=g.start+d._flatData(g.data).length,d._ranges.sort(function(a,b){return a.start-b.start}),d._total=d.reader.total(e),c&&c()}},prefetch:function(a,b,c){var d=this,e=H.min(a+b,d.total()),f={take:b,skip:a,page:a/b+1,pageSize:b,sort:d._sort,filter:d._filter,group:d._group,aggregate:d._aggregate};d._rangeExists(a,e)?c&&c():(clearTimeout(d._timeout),d._timeout=setTimeout(function(){d._queueRequest(f,function(){d.trigger(A,{type:"read"})?d._dequeueRequest():d.transport.read({data:d._params(f),success:d._prefetchSuccessHandler(a,e,c)})})},100))},_rangeExists:function(a,b){var e,f,c=this,d=c._ranges;for(e=0,f=d.length;f>e;e++)if(d[e].start<=a&&d[e].end>=b)return!0;return!1}}),Lb={};Lb.create=function(a,b){var d,f=a.transport;return f?(f.read=typeof f.read===q?{url:f.read}:f.read,a.type&&(m.data.transports[a.type]&&!e(m.data.transports[a.type])?d=new m.data.transports[a.type](c(f,{data:b})):f=c(!0,{},m.data.transports[a.type],f),a.schema=c(!0,{},m.data.schemas[a.type],a.schema)),d||(d=n(f.read)?f:new rb(f))):d=new qb({data:a.data}),d},Kb.create=function(a){a=a&&a.push?{data:a}:a;var i,j,l,b=a||{},d=b.data,e=b.fields,g=b.table,h=b.select,k={};if(d||!e||b.transport||(g?d=Nb(g,e):h&&(d=Mb(h,e))),m.data.Model&&e&&(!b.schema||!b.schema.model)){for(i=0,j=e.length;j>i;i++)l=e[i],l.type&&(k[l.field]=l);f(k)||(b.schema=c(!0,b.schema,{model:{fields:k}}))}return b.data=d,b instanceof Kb?b:new Kb(b)};var Ob=_.define({init:function(a){var b=this,d=b.hasChildren||a&&a.hasChildren,e="items",f={};m.data.Model.fn.init.call(b,a),typeof b.children===q&&(e=b.children),f={schema:{data:e,model:{hasChildren:d,id:b.idField}}},typeof b.children!==q&&c(f,b.children),f.data=a,d||(d=f.schema.data),typeof d===q&&(d=m.getter(d)),n(d)&&(b.hasChildren=!!d.call(b,b)),b._childrenOptions=f,b.hasChildren&&b._initChildren(),b._loaded=!(!a||!a[e]&&!a._loaded)},_initChildren:function(){var b,c,d,a=this;a.children instanceof Qb||(b=a.children=new Qb(a._childrenOptions),c=b.transport,d=c.parameterMap,c.parameterMap=function(b){return b[a.idField||"id"]=a.id,d&&(b=d(b)),b},b.parent=function(){return a},b.bind(w,function(b){b.node=b.node||a,a.trigger(w,b)}),b.bind(z,function(b){var c=a.parent();c&&(b.node=b.node||a,c.trigger(z,b))}),a._updateChildrenField())},append:function(a){this._initChildren(),this.loaded(!0),this.children.add(a)},hasChildren:!1,level:function(){for(var a=this.parentNode(),b=0;a&&a.parentNode;)b++,a=a.parentNode?a.parentNode():null;return b},_updateChildrenField:function(){var a=this._childrenOptions.schema.data;this[a||"items"]=this.children.data()},load:function(){var a=this,c={};a.hasChildren?(a._initChildren(),c[a.idField||"id"]=a.id,a._loaded||(a.children._data=b),a.children.one(w,function(){a._loaded=!0,a._updateChildrenField()})._query(c)):a.loaded(!0)},parentNode:function(){var a=this.parent();return a.parent()},loaded:function(a){return a===b?this._loaded:(this._loaded=a,void 0)},shouldSerialize:function(a){return _.fn.shouldSerialize.call(this,a)&&"children"!==a&&"_loaded"!==a&&"hasChildren"!==a&&"_childrenOptions"!==a}}),Qb=Kb.extend({init:function(a){var b=Ob.define({children:a});Kb.fn.init.call(this,c(!0,{},{schema:{modelBase:b,model:b}},a)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var a=this;a._data.bind(z,function(b){a.trigger(z,b)})},remove:function(a){var d,b=a.parentNode(),c=this;return b&&b._initChildren&&(c=b.children),d=Kb.fn.remove.call(c,a),b&&!c.data().length&&(b.hasChildren=!1),d},success:Pb("success"),data:Pb("data"),insert:function(a,b){var c=this.parent();return c&&c._initChildren&&(c.hasChildren=!0,c._initChildren()),Kb.fn.insert.call(this,a,b)},_find:function(a,b){var c,d,e,f,g;if(e=Kb.fn[a].call(this,b))return e;if(f=this._flatData(this.data()))for(c=0,d=f.length;d>c;c++)if(g=f[c].children,g instanceof Qb&&(e=g[a](b)))return e},get:function(a){return this._find("get",a)},getByUid:function(a){return this._find("getByUid",a)}});Qb.create=function(a){a=a&&a.push?{data:a}:a;var b=a||{},c=b.data,d=b.fields,e=b.list;return c&&c._dataSource?c._dataSource:(c||!d||b.transport||e&&(c=Rb(e,d)),b.data=c,b instanceof Qb?b:new Qb(b))};var Sb=m.Observable.extend({init:function(a,b,c){m.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=a,this.prefetch=!c;var d=this;a.bind("change",function(){d._change()}),this._syncWithDataSource(),this.setViewSize(b)},setViewSize:function(a){this.viewSize=a,this._recalculate()},at:function(a){var d,c=this.pageSize;if(a>=this.total())return this.trigger("endreached",{index:a}),void 0;if(!this.useRanges)return this.dataSource.view()[a];if(this.useRanges){if(a<this.dataOffset||a>this.skip+c){var e=Math.floor(a/c)*c;this.range(e)}a===this.prefetchThreshold&&this._prefetch(),a===this.midPageThreshold?this.range(this.nextMidRange):a===this.nextPageThreshold?this.range(this.nextFullRange):a===this.pullBackThreshold&&(this.offset===this.skip?this.range(this.previousMidRange):this.range(this.previousFullRange)),d=this.dataSource.at(a-this.dataOffset)}return d===b&&this.trigger("endreached",{index:a}),d},indexOf:function(a){return this.dataSource.data().indexOf(a)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var a=this,b=a.pageSize,c=a.skip-a.viewSize,d=H.max(H.floor(c/b),0)*b+b;this.offset=c,this.dataSource.prefetch(d,b,function(){a._goToRange(c,!0)})},range:function(a){if(this.offset!==a){var b=this,c=this.pageSize,d=H.max(H.floor(a/c),0)*c+c,e=this.dataSource;this.offset=a,this._recalculate(),e.inRange(a,c)?this._goToRange(a):this.prefetch&&e.prefetch(d,c,function(){b._goToRange(a,!0)})}},syncDataSource:function(){var a=this.offset;this.offset=null,this.range(a)},destroy:function(){this.unbind()},_prefetch:function(){var a=this,b=this.pageSize,c=this.skip+b,d=this.dataSource;d.inRange(c,b)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:c,take:b}),d.prefetch(c,b,function(){a._prefetching=!1,a.trigger("prefetched",{skip:c,take:b})}))},_goToRange:function(a,b){this.offset===a&&(this.dataOffset=a,this._expanding=b,this.dataSource.range(a,this.pageSize))},_change:function(){var a=this.dataSource,b=a.firstItemUid();this.length=this.useRanges?a.lastRange().end:a.view().length,this._firstItemUid===b&&this.useRanges||(this._syncWithDataSource(),this._recalculate(),this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var a=this.dataSource;this._firstItemUid=a.firstItemUid(),this.dataOffset=this.offset=a.skip()||0,this.pageSize=a.pageSize(),this.useRanges=a.options.serverPaging},_recalculate:function(){var a=this.pageSize,b=this.offset,c=this.viewSize,d=Math.ceil(b/a)*a;this.skip=d,this.midPageThreshold=d+a-1,this.nextPageThreshold=d+c-1,this.prefetchThreshold=d+Math.floor(2*(a/3)),this.pullBackThreshold=this.offset-1,this.nextMidRange=d+a-c,this.nextFullRange=d,this.previousMidRange=b-c,this.previousFullRange=d-a}}),Tb=m.Observable.extend({init:function(a,b){var c=this;m.Observable.fn.init.call(c),this.dataSource=a,this.batchSize=b,this._total=0,this.buffer=new Sb(a,3*b),this.buffer.bind({endreached:function(a){c.trigger("endreached",{index:a.index})},prefetching:function(a){c.trigger("prefetching",{skip:a.skip,take:a.take})},prefetched:function(a){c.trigger("prefetched",{skip:a.skip,take:a.take})},reset:function(){c._total=0,c.trigger("reset")},resize:function(){c._total=Math.ceil(this.length/c.batchSize),c.trigger("resize",{total:c.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(a){var g,c=this.buffer,d=a*this.batchSize,e=this.batchSize,f=[];c.offset>d&&c.at(c.offset-1);for(var h=0;e>h&&(g=c.at(d+h),g!==b);h++)f.push(g);return f},total:function(){return this._total},destroy:function(){this.buffer.destroy(),this.unbind()}});c(!0,m.data,{readers:{json:xb},Query:db,DataSource:Kb,HierarchicalDataSource:Qb,Node:Ob,ObservableObject:W,ObservableArray:U,LocalTransport:qb,RemoteTransport:rb,Cache:sb,DataReader:xb,Model:_,Buffer:Sb,BatchBuffer:Tb})}(window.kendo.jQuery),kendo_module({id:"binder",name:"MVVM",category:"framework",description:"Model View ViewModel (MVVM) is a design pattern which helps developers separate the Model (the data) from the View (the UI).",depends:["core","data"]}),function(a,b){function x(a){var b,c,d=[];for(b=0,c=a.length;c>b;b++)d=a[b].hasSubgroups?d.concat(x(a[b].items)):d.concat.apply(d,a[b].items);return d}function y(a,b){var d=c.initWidget(a,{},b);return d?new w(d):void 0}function B(a){var c,d,e,f,g,h,i,b={};for(i=a.match(z),c=0,d=i.length;d>c;c++)e=i[c],f=e.indexOf(":"),g=e.substring(0,f),h=e.substring(f+1),"{"==h.charAt(0)&&(h=B(h)),b[g]=h;return b}function C(a,b,c){var d,e={};for(d in a)e[d]=new c(b,a[d]);return e}function D(a,b,d,e){var g,l,n,f=a.getAttribute("data-"+c.ns+"role"),h=a.getAttribute("data-"+c.ns+"bind"),i=a.children,j=[],k=!0,m={};if(e=e||[b],(f||h)&&F(a),f&&(n=y(a,d)),h&&(h=B(h.replace(A,"")),n||(m=c.parseOptions(a,{textField:"",valueField:"",template:"",valueUpdate:q,valuePrimitive:!1,autoBind:!0}),m.roles=d,n=new v(a,m)),n.source=b,l=C(h,e,r),m.template&&(l.template=new t(e,"",m.template)),l.click&&(h.events=h.events||{},h.events.click=h.click,delete l.click),l.source&&(k=!1),h.attr&&(l.attr=C(h.attr,e,r)),h.style&&(l.style=C(h.style,e,r)),h.events&&(l.events=C(h.events,e,s)),n.bind(l)),n&&(a.kendoBindingTarget=n),k&&i){for(g=0;g<i.length;g++)j[g]=i[g];for(g=0;g<j.length;g++)D(j[g],b,d,e)}}function E(b,d){var e,f,g,h=c.rolesFromNamespaces([].slice.call(arguments,2));for(d=c.observable(d),b=a(b),e=0,f=b.length;f>e;e++)g=b[e],1===g.nodeType&&D(g,d,h)}function F(b){var c=b.kendoBindingTarget;c&&(c.destroy(),a.support.deleteExpando?delete b.kendoBindingTarget:b.removeAttribute?b.removeAttribute("kendoBindingTarget"):b.kendoBindingTarget=null)}function G(a){F(a),H(a)}function H(a){var b=a.children;if(b)for(var c=0,d=b.length;d>c;c++)G(b[c])}function I(b){var c,d;for(b=a(b),c=0,d=b.length;d>c;c++)G(b[c])}function J(a,b){var c=a.element,d=c[0].kendoBindingTarget;d&&E(c,d.source,b)}var k,c=window.kendo,d=c.Observable,e=c.data.ObservableObject,f=c.data.ObservableArray,g={}.toString,h={},i=Array.prototype.splice,j=c.Class,l=a.proxy,m="value",n="source",o="events",p="checked",q="change";!function(){var a=document.createElement("a");a.innerText!==b?k="innerText":a.textContent!==b&&(k="textContent")}();var r=d.extend({init:function(a,b){var c=this;d.fn.init.call(c),c.source=a[0],c.parents=a,c.path=b,c.dependencies={},c.dependencies[b]=!0,c.observable=c.source instanceof d,c._access=function(a){c.dependencies[a.field]=!0},c.observable&&(c._change=function(a){c.change(a)},c.source.bind(q,c._change))},_parents:function(){var b=this.parents,c=this.get();if(c&&"function"==typeof c.parent){var d=c.parent();a.inArray(d,b)<0&&(b=[d].concat(b))}return b},change:function(a){var b,c,d=a.field,e=this;if("this"===e.path)e.trigger(q,a);else for(b in e.dependencies)if(0===b.indexOf(d)&&(c=b.charAt(d.length),!c||"."===c||"["===c)){e.trigger(q,a);break}},start:function(a){a.bind("get",this._access)},stop:function(a){a.unbind("get",this._access)},get:function(){var a=this,c=a.source,d=0,f=a.path,g=c;if(!a.observable)return g;for(a.start(a.source),g=c.get(f);g===b&&c;)c=a.parents[++d],c instanceof e&&(g=c.get(f));if(g===b)for(c=a.source;g===b&&c;)c=c.parent(),c instanceof e&&(g=c.get(f));return"function"==typeof g&&(d=f.lastIndexOf("."),d>0&&(c=c.get(f.substring(0,d))),a.start(c),g=g.call(c,a.source),a.stop(c)),c&&c!==a.source&&(a.currentSource=c,c.unbind(q,a._change).bind(q,a._change)),a.stop(a.source),g},set:function(a){var b=this,c=b.currentSource||b.source;c.set(b.path,a)},destroy:function(){this.observable&&this.source.unbind(q,this._change)}}),s=r.extend({get:function(){var d,a=this.source,b=this.path,c=0;for(d=a.get(b);!d&&a;)a=this.parents[++c],a instanceof e&&(d=a.get(b));return l(d,a)}}),t=r.extend({init:function(a,b,c){var d=this;r.fn.init.call(d,a,b),d.template=c},render:function(a){var b;return this.start(this.source),b=c.render(this.template,a),this.stop(this.source),b}}),u=j.extend({init:function(a,b,c){this.element=a,this.bindings=b,this.options=c},bind:function(a,b){var c=this;a=b?a[b]:a,a.bind(q,function(a){c.refresh(b||a)}),c.refresh(b)},destroy:function(){}});h.attr=u.extend({refresh:function(a){this.element.setAttribute(a,this.bindings.attr[a].get())}}),h.style=u.extend({refresh:function(a){this.element.style[a]=this.bindings.style[a].get()||""}}),h.enabled=u.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}}),h.readonly=u.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")}}),h.disabled=u.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}}),h.events=u.extend({init:function(a,b,c){u.fn.init.call(this,a,b,c),this.handlers={}},refresh:function(b){var c=a(this.element),d=this.bindings.events[b],e=this.handlers[b];e&&c.off(b,e),e=this.handlers[b]=d.get(),c.on(b,d.source,e)},destroy:function(){var c,b=a(this.element);for(c in this.handlers)b.off(c,this.handlers[c])}}),h.text=u.extend({refresh:function(){var a=this.bindings.text.get();null==a&&(a=""),this.element[k]=a}}),h.visible=u.extend({refresh:function(){this.element.style.display=this.bindings.visible.get()?"":"none"}}),h.invisible=u.extend({refresh:function(){this.element.style.display=this.bindings.invisible.get()?"none":""}}),h.html=u.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),h.value=u.extend({init:function(b,c,d){u.fn.init.call(this,b,c,d),this._change=l(this.change,this),this.eventName=d.valueUpdate||q,a(this.element).on(this.eventName,this._change),this._initChange=!1},change:function(){this._initChange=this.eventName!=q;var a=this.element.value,b=this.element.type;"date"==b?a=c.parseDate(a,"yyyy-MM-dd"):"datetime-local"==b?a=c.parseDate(a,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"]):"number"==b&&(a=c.parseFloat(a)),this.bindings[m].set(a),this._initChange=!1},refresh:function(){if(!this._initChange){var a=this.bindings[m].get();null==a&&(a="");var b=this.element.type;"date"==b?a=c.toString(a,"yyyy-MM-dd"):"datetime-local"==b&&(a=c.toString(a,"yyyy-MM-ddTHH:mm:ss")),this.element.value=a}this._initChange=!1},destroy:function(){a(this.element).off(this.eventName,this._change)}}),h.source=u.extend({init:function(a,b,d){u.fn.init.call(this,a,b,d);var e=this.bindings.source.get();e instanceof c.data.DataSource&&d.autoBind!==!1&&e.fetch()},refresh:function(a){var b=this,d=b.bindings.source.get();d instanceof f||d instanceof c.data.DataSource?(a=a||{},"add"==a.action?b.add(a.index,a.items):"remove"==a.action?b.remove(a.index,a.items):"itemchange"!=a.action&&b.render()):b.render()},container:function(){var a=this.element;return"table"==a.nodeName.toLowerCase()&&(a.tBodies[0]||a.appendChild(document.createElement("tbody")),a=a.tBodies[0]),a},template:function(){var a=this.options,b=a.template,d=this.container().nodeName.toLowerCase();return b||(b="select"==d?a.valueField||a.textField?c.format('<option value="#:{0}#">#:{1}#</option>',a.valueField||a.textField,a.textField||a.valueField):"<option>#:data#</option>":"tbody"==d?"<tr><td>#:data#</td></tr>":"ul"==d||"ol"==d?"<li>#:data#</li>":"#:data#",b=c.template(b)),b},destroy:function(){var a=this.bindings.source.get();a.unbind(q,this._change)},add:function(b,d){var f,g,h,i,e=this.container(),j=e.cloneNode(!1),k=e.children[b];if(a(j).html(c.render(this.template(),d)),j.children.length)for(f=this.bindings.source._parents(),g=0,h=d.length;h>g;g++)i=j.children[0],e.insertBefore(i,k||null),D(i,d[g],this.options.roles,[d[g]].concat(f))},remove:function(a,b){var c,d=this.container();for(c=0;c<b.length;c++){var e=d.children[a];G(e),d.removeChild(e)}},render:function(){var d,e,h,k,b=this.bindings.source.get(),i=this.container(),j=this.template();if(b instanceof c.data.DataSource&&(b=b.view()),b instanceof f||"[object Array]"===g.call(b)||(b.parent&&(k=b.parent),b=new f([b]),b.parent&&(b.parent=k)),this.bindings.template){if(H(i),a(i).html(this.bindings.template.render(b)),i.children.length)for(d=this.bindings.source._parents(),e=0,h=b.length;h>e;e++)D(i.children[e],b[e],this.options.roles,[b[e]].concat(d))}else a(i).html(c.render(j,b))}}),h.input={checked:u.extend({init:function(b,c,d){u.fn.init.call(this,b,c,d),this._change=l(this.change,this),a(this.element).change(this._change)},change:function(){var a=this.element,b=this.value();if("radio"==a.type)this.bindings[p].set(b);else if("checkbox"==a.type){var d,c=this.bindings[p].get();c instanceof f?(b=this.element.value,"on"!==b&&"off"!==b&&(d=c.indexOf(b),d>-1?c.splice(d,1):c.push(b))):this.bindings[p].set(b)}},refresh:function(){var a=this.bindings[p].get(),b=a,c=this.element;"checkbox"==c.type?(b instanceof f&&(a=this.element.value,b.indexOf(a)>=0&&(a=!0)),c.checked=a===!0):"radio"==c.type&&null!=a&&c.value===a.toString()&&(c.checked=!0)},value:function(){var a=this.element,b=a.value;return"checkbox"==a.type&&(b=a.checked),b},destroy:function(){a(this.element).off(q,this._change)}})},h.select={value:u.extend({init:function(b,c,d){u.fn.init.call(this,b,c,d),this._change=l(this.change,this),a(this.element).change(this._change)},change:function(){var c,h,i,j,k,l,a=[],b=this.element,d=this.options.valueField||this.options.textField,g=this.options.valuePrimitive;for(k=0,l=b.options.length;l>k;k++)h=b.options[k],h.selected&&(j=h.attributes.value,j=j&&j.specified?h.value:h.text,a.push(j));if(d)for(c=this.bindings.source.get(),i=0;i<a.length;i++)for(k=0,l=c.length;l>k;k++)if(c[k].get(d)==a[i]){a[i]=c[k];break}j=this.bindings[m].get(),j instanceof f?j.splice.apply(j,[0,j.length].concat(a)):g||!(j instanceof e)&&d?this.bindings[m].set(a[0].get(d)):this.bindings[m].set(a[0])},refresh:function(){var a,j,b=this.element,c=b.options,d=this.bindings[m].get(),g=d,h=this.options.valueField||this.options.textField,i=!1;g instanceof f||(g=new f([d])),b.selectedIndex=-1;for(var k=0;k<g.length;k++)for(d=g[k],h&&d instanceof e&&(d=d.get(h)),a=0;a<c.length;a++)j=c[a].value,""===j&&""!==d&&(j=c[a].text),j==d&&(c[a].selected=!0,i=!0)},destroy:function(){a(this.element).off(q,this._change)}})},h.widget={events:u.extend({init:function(a,b,c){u.fn.init.call(this,a.element[0],b,c),this.widget=a,this.handlers={}},refresh:function(a){var b=this.bindings.events[a],c=this.handlers[a];c&&this.widget.unbind(a,c),c=b.get(),this.handlers[a]=function(a){a.data=b.source,c(a),a.data===b.source&&delete a.data},this.widget.bind(a,this.handlers[a])},destroy:function(){var a;for(a in this.handlers)this.widget.unbind(a,this.handlers[a])}}),checked:u.extend({init:function(a,b,c){u.fn.init.call(this,a.element[0],b,c),this.widget=a,this._change=l(this.change,this),this.widget.bind(q,this._change)},change:function(){this.bindings[p].set(this.value())},refresh:function(){this.widget.check(this.bindings[p].get()===!0)},value:function(){var a=this.element,b=a.value;return("on"==b||"off"==b)&&(b=a.checked),b},destroy:function(){this.widget.unbind(q,this._change)}}),visible:u.extend({init:function(a,b,c){u.fn.init.call(this,a.element[0],b,c),this.widget=a},refresh:function(){var a=this.bindings.visible.get();this.widget.wrapper[0].style.display=a?"":"none"}}),invisible:u.extend({init:function(a,b,c){u.fn.init.call(this,a.element[0],b,c),this.widget=a},refresh:function(){var a=this.bindings.invisible.get();this.widget.wrapper[0].style.display=a?"none":""}}),enabled:u.extend({init:function(a,b,c){u.fn.init.call(this,a.element[0],b,c),this.widget=a},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:u.extend({init:function(a,b,c){u.fn.init.call(this,a.element[0],b,c),this.widget=a},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:u.extend({init:function(a,b,c){var d=this;u.fn.init.call(d,a.element[0],b,c),d.widget=a,d._dataBinding=l(d.dataBinding,d),d._dataBound=l(d.dataBound,d),d._itemChange=l(d.itemChange,d)},itemChange:function(a){D(a.item[0],a.data,this._ns(a.ns),[a.data].concat(this.bindings.source._parents()))},dataBinding:function(){var a,b,c=this.widget,d=c.items();for(a=0,b=d.length;b>a;a++)G(d[a])},_ns:function(b){b=b||c.ui;var d=[c.ui,c.dataviz.ui,c.mobile.ui];return d.splice(a.inArray(b,d),1),d.unshift(b),c.rolesFromNamespaces(d)},dataBound:function(a){var b,c,h,d=this.widget,e=d.items(),f=d.dataSource,g=f.view(),i=f.group()||[];if(e.length)for(i.length&&(g=x(g)),h=this.bindings.source._parents(),b=0,c=g.length;c>b;b++)D(e[b],g[b],this._ns(a.ns),[g[b]].concat(h))},refresh:function(a){var d,b=this,e=b.widget;a=a||{},a.action||(b.destroy(),e.bind("dataBinding",b._dataBinding),e.bind("dataBound",b._dataBound),e.bind("itemChange",b._itemChange),d=b.bindings.source.get(),e.dataSource instanceof c.data.DataSource&&e.dataSource!=d&&(d instanceof c.data.DataSource?e.setDataSource(d):d&&d._dataSource?e.setDataSource(d._dataSource):e.dataSource.data(d)))},destroy:function(){var a=this.widget;a.unbind("dataBinding",this._dataBinding),a.unbind("dataBound",this._dataBound),a.unbind("itemChange",this._itemChange)}}),value:u.extend({init:function(b,c,d){u.fn.init.call(this,b.element[0],c,d),this.widget=b,this._change=a.proxy(this.change,this),this.widget.first(q,this._change);var g=this.bindings.value.get();this._valueIsObservableObject=!d.valuePrimitive&&(null==g||g instanceof e),this._valueIsObservableArray=g instanceof f,this._initChange=!1},change:function(){var f,h,j,k,l,m,n,a=this.widget.value(),b=this.options.dataValueField||this.options.dataTextField,d="[object Array]"===g.call(a),e=this._valueIsObservableObject,i=[];if(this._initChange=!0,b)if(this.bindings.source&&(n=this.bindings.source.get()),""===a&&(e||this.options.valuePrimitive))a=null;else{for((!n||n instanceof c.data.DataSource)&&(n=this.widget.dataSource.view()),d&&(h=a.length,i=a.slice(0)),l=0,m=n.length;m>l;l++)if(j=n[l],k=j.get(b),d){for(f=0;h>f;f++)if(k==i[f]){i[f]=j;break}}else if(k==a){a=e?j:k;break}i[0]&&(a=this._valueIsObservableArray?i:e||!b?i[0]:i[0].get(b))}this.bindings.value.set(a),this._initChange=!1},refresh:function(){if(!this._initChange){var d,a=this.options.dataValueField||this.options.dataTextField,b=this.bindings.value.get(),c=0,g=[];if(a)if(b instanceof f){for(d=b.length;d>c;c++)g[c]=b[c].get(a);b=g}else b instanceof e&&(b=b.get(a));this.widget.value(b)}this._initChange=!1},destroy:function(){this.widget.unbind(q,this._change)}}),multiselect:{value:u.extend({init:function(b,c,d){u.fn.init.call(this,b.element[0],c,d),this.widget=b,this._change=a.proxy(this.change,this),this.widget.first(q,this._change),this._initChange=!1},change:function(){var a=this,b=a.bindings[m].get(),c=a.options.valuePrimitive,d=c?a.widget.value():a.widget.dataItems(),e=this.options.dataValueField||this.options.dataTextField;if(d=d.slice(0),a._initChange=!0,b instanceof f){for(var o,p,q,g=[],h=d.length,j=0,k=0,l=b[j],n=!1;l;){for(q=!1,k=0;h>k;k++)if(c?n=d[k]==l:(p=d[k],p=p.get?p.get(e):p,n=p==(l.get?l.get(e):l)),n){d.splice(k,1),h-=1,q=!0;break}q?j+=1:(g.push(l),i.call(b,j,1),o=j),l=b[j]}i.apply(b,[b.length,0].concat(d)),g.length&&b.trigger("change",{action:"remove",items:g,index:o}),d.length&&b.trigger("change",{action:"add",items:d,index:b.length-1})}else a.bindings[m].set(d);a._initChange=!1},refresh:function(){if(!this._initChange){var d,h,a=this.options.dataValueField||this.options.dataTextField,b=this.bindings.value.get(),c=0,g=[];if(a)if(b instanceof f){for(d=b.length;d>c;c++)h=b[c],g[c]=h.get?h.get(a):h;b=g}else b instanceof e&&(b=b.get(a));this.widget.value(b)}},destroy:function(){this.widget.unbind(q,this._change)}})}};var v=j.extend({init:function(a,b){this.target=a,this.options=b,this.toDestroy=[]},bind:function(a){var c,d,e,f,b=this.target.nodeName.toLowerCase(),g=h[b]||{};for(c in a)c==m?d=!0:c==n?e=!0:c==o?f=!0:this.applyBinding(c,a,g);e&&this.applyBinding(n,a,g),d&&this.applyBinding(m,a,g),f&&this.applyBinding(o,a,g)},applyBinding:function(a,b,c){var f,d=c[a]||h[a],e=this.toDestroy,g=b[a];if(d)if(d=new d(this.target,b,this.options),e.push(d),g instanceof r)d.bind(g),e.push(g);else for(f in g)d.bind(g,f),e.push(g[f]);else if("template"!==a)throw new Error("The "+a+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")},destroy:function(){var a,b,c=this.toDestroy;for(a=0,b=c.length;b>a;a++)c[a].destroy()}}),w=v.extend({bind:function(a){var c,b=this,d=!1,e=!1,f=h.widget[b.target.options.name.toLowerCase()]||{};for(c in a)c==m?d=!0:c==n?e=!0:b.applyBinding(c,a);e&&b.applyBinding(n,a),d&&b.applyBinding(m,a,f[m])},applyBinding:function(a,b,c){var f,d=c||h.widget[a],e=this.toDestroy,g=b[a];if(!d)throw new Error("The "+a+" binding is not supported by the "+this.target.options.name+" widget");if(d=new d(this.target,b,this.target.options),e.push(d),g instanceof r)d.bind(g),e.push(g);else for(f in g)d.bind(g,f),e.push(g[f])}}),z=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,A=/\s/g;c.unbind=I,c.bind=E,c.data.binders=h,c.data.Binder=u,c.notify=J,c.observable=function(a){return a instanceof e||(a=new e(a)),a},c.observableHierarchy=function(a){function d(a){var b,c;for(b=0;b<a.length;b++)a[b]._initChildren(),c=a[b].children,c.fetch(),a[b].items=c.data(),d(a[b].items)}var b=c.data.HierarchicalDataSource.create(a);return b.fetch(),d(b.data()),b._data._dataSource=b,b._data}}(window.kendo.jQuery),kendo_module({id:"validator",name:"Validator",category:"web",description:"The Validator offers an easy way to do a client-side form validation.",depends:["core"]}),function(a){function v(b){var f,d=c.ui.validator.ruleResolvers||{},e={};for(f in d)a.extend(!0,e,d[f].resolve(b));return e}function w(a){return a.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function x(a){return a=(a+"").split("."),a.length>1?a[1].length:0}function y(b){return a.parseHTML?a(a.parseHTML(b)):a(b)}var c=window.kendo,d=c.ui.Widget,e=".kendoValidator",f="k-invalid-msg",g=new RegExp(f,"i"),h="k-invalid",i=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,j=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,k=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",l=":checkbox:not([disabled],[readonly])",m="[type=number],[type=range]",n="blur",o="name",p="form",q="novalidate",r=a.proxy,s=function(a,b){return"string"==typeof b&&(b=new RegExp("^(?:"+b+")$")),b.test(a)
},t=function(a,b,c){var d=a.val();return a.filter(b).length&&""!==d?s(d,c):!0},u=function(a,b){return a.length?null!=a[0].attributes[b]:!1};c.ui.validator||(c.ui.validator={rules:{},messages:{}});var z=d.extend({init:function(b,e){var f=this,g=v(b);e=e||{},e.rules=a.extend({},c.ui.validator.rules,g.rules,e.rules),e.messages=a.extend({},c.ui.validator.messages,g.messages,e.messages),d.fn.init.call(f,b,e),f._errorTemplate=c.template(f.options.errorTemplate),f.element.is(p)&&f.element.attr(q,q),f._errors={},f._attachEvents()},events:["validate"],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date"},rules:{required:function(a){var b=a.filter("[type=checkbox]").length&&!a.is(":checked"),c=a.val();return!(u(a,"required")&&(""===c||!c||b))},pattern:function(a){return a.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&""!==a.val()?s(a.val(),a.attr("pattern")):!0},min:function(a){if(a.filter(m+",["+c.attr("type")+"=number]").filter("[min]").length&&""!==a.val()){var b=parseFloat(a.attr("min"))||0,d=c.parseFloat(a.val());return d>=b}return!0},max:function(a){if(a.filter(m+",["+c.attr("type")+"=number]").filter("[max]").length&&""!==a.val()){var b=parseFloat(a.attr("max"))||0,d=c.parseFloat(a.val());return b>=d}return!0},step:function(a){if(a.filter(m+",["+c.attr("type")+"=number]").filter("[step]").length&&""!==a.val()){var g,b=parseFloat(a.attr("min"))||0,d=parseFloat(a.attr("step"))||1,e=parseFloat(a.val()),f=x(d);return f?(g=Math.pow(10,f),0===(e-b)*g%(d*g)/Math.pow(100,f)):0===(e-b)%d}return!0},email:function(a){return t(a,"[type=email],["+c.attr("type")+"=email]",i)},url:function(a){return t(a,"[type=url],["+c.attr("type")+"=url]",j)},date:function(a){return a.filter("[type^=date],["+c.attr("type")+"=date]").length&&""!==a.val()?null!==c.parseDate(a.val(),a.attr(c.attr("format"))):!0}},validateOnBlur:!0},destroy:function(){d.fn.destroy.call(this),this.element.off(e)},_submit:function(a){return this.validate()?!0:(a.stopPropagation(),a.stopImmediatePropagation(),a.preventDefault(),!1)},_attachEvents:function(){var b=this;b.element.is(p)&&b.element.on("submit"+e,r(b._submit,b)),b.options.validateOnBlur&&(b.element.is(k)?(b.element.on(n+e,function(){b.validateInput(b.element)}),b.element.is(l)&&b.element.on("click"+e,function(){b.validateInput(b.element)})):(b.element.on(n+e,k,function(){b.validateInput(a(this))}),b.element.on("click"+e,l,function(){b.validateInput(a(this))})))},validate:function(){var a,b,d,c=!1;if(this._errors={},this.element.is(k))c=this.validateInput(this.element);else{var e=!1;for(a=this.element.find(k),b=0,d=a.length;d>b;b++)this.validateInput(a.eq(b))||(e=!0);c=!e}return this.trigger("validate",{valid:c}),c},validateInput:function(b){b=a(b);var l,c=this,d=c._errorTemplate,e=c._checkValidity(b),g=e.valid,i="."+f,j=b.attr(o)||"",k=c._findMessageContainer(j).add(b.next(i)).hide();if(b.removeAttr("aria-invalid"),!g){l=c._extractMessage(b,e.key),c._errors[j]=l;var m=y(d({message:w(l)}));c._decorateMessageContainer(m,j),k.replaceWith(m).length||m.insertAfter(b),m.show(),b.attr("aria-invalid",!0)}return b.toggleClass(h,!g),g},hideMessages:function(){var a=this,b="."+f,c=a.element;c.is(k)?c.next(b).hide():c.find(b).hide()},_findMessageContainer:function(b){for(var e,d=c.ui.validator.messageLocators,f=a(),h=this.element[0].getElementsByTagName("*"),i=0,j=h.length;j>i;i++){var k=h[i];if(g.test(k.className)){var l=k.getAttribute(c.attr("for"));l===b&&(f=f.add(k))}}for(e in d)f=f.add(d[e].locate(this.element,b));return f},_decorateMessageContainer:function(a,b){var e,d=c.ui.validator.messageLocators;a.addClass(f).attr(c.attr("for"),b||"");for(e in d)d[e].decorate(a,b);a.attr("role","alert")},_extractMessage:function(a,b){var d=this,e=d.options.messages[b],f=a.attr(o);return e=c.isFunction(e)?e(a):e,c.format(a.attr(c.attr(b+"-msg"))||a.attr("validationMessage")||a.attr("title")||e||"",f,a.attr(b))},_checkValidity:function(a){var c,b=this.options.rules;for(c in b)if(!b[c](a))return{valid:!1,key:c};return{valid:!0}},errors:function(){var c,a=[],b=this._errors;for(c in b)a.push(b[c]);return a}});c.ui.plugin(z)}(window.kendo.jQuery),kendo_module({id:"userevents",name:"User Events",category:"framework",depends:["core"],hidden:!0}),function(a){function A(a,b){var c=a.x.location,d=a.y.location,e=b.x.location,f=b.y.location,g=c-e,h=d-f;return{center:{x:(c+e)/2,y:(d+f)/2},distance:Math.sqrt(g*g+h*h)}}function B(a){var g,h,i,b=[],c=a.originalEvent,e=a.currentTarget,f=0;if(a.api)b.push({id:2,event:a,target:a.target,currentTarget:a.target,location:a});else if(a.type.match(/touch/))for(h=c?c.changedTouches:[],g=h.length;g>f;f++)i=h[f],b.push({location:i,event:a,target:i.target,currentTarget:e,id:i.identifier});else d.pointers||d.msPointers?b.push({location:c,event:a,target:a.target,currentTarget:e,id:c.pointerId}):b.push({id:1,event:a,target:a.target,currentTarget:e,location:a});return b}function E(b){b.preventDefault();var c=a(b.data.root),d=c.closest(".k-widget").parent();d[0]||(d=c.parent());var e=a.extend(!0,{},b,{target:c[0]});d.trigger(a.Event(b.type,e))}function F(a){for(var b=c.eventMap.up.split(" "),d=0,e=b.length;e>d;d++)a(b[d])}var c=window.kendo,d=c.support,e=window.document,f=c.Class,g=c.Observable,h=a.now,i=a.extend,j=d.mobileOS,k=j&&j.android,l=800,m=d.browser.ie?5:0,n="press",o="hold",p="select",q="start",r="move",s="end",t="cancel",u="tap",v="release",w="gesturestart",x="gesturechange",y="gestureend",z="gesturetap",C=f.extend({init:function(a,b){var c=this;c.axis=a,c._updateLocationData(b),c.startLocation=c.location,c.velocity=c.delta=0,c.timeStamp=h()},move:function(a){var b=this,c=a["page"+b.axis],d=h(),e=d-b.timeStamp||1;(c||!k)&&(b.delta=c-b.location,b._updateLocationData(a),b.initialDelta=c-b.startLocation,b.velocity=b.delta/e,b.timeStamp=d)},_updateLocationData:function(a){var b=this,c=b.axis;b.location=a["page"+c],b.client=a["client"+c],b.screen=a["screen"+c]}}),D=f.extend({init:function(a,b,c){var d=this;i(d,{x:new C("X",c.location),y:new C("Y",c.location),userEvents:a,target:b,currentTarget:c.currentTarget,initialTouch:c.target,id:c.id,_moved:!1,_finished:!1}),d.press=function(){d._trigger(n,c),d._holdTimeout=setTimeout(function(){d._trigger(o,c)},a.minHold)}},move:function(a){var b=this;if(!b._finished){if(b.x.move(a.location),b.y.move(a.location),!b._moved){if(b._withinIgnoreThreshold())return;if(G.current&&G.current!==b.userEvents)return b.dispose();b._start(a)}b._finished||b._trigger(r,a)}},end:function(a){var b=this;b.endTime=h(),b._finished||(b._moved?b._trigger(s,a):b._trigger(u,a),clearTimeout(b._holdTimeout),b._trigger(v,a),b.dispose())},dispose:function(){var b=this,c=b.userEvents,d=c.touches;b._finished=!0,d.splice(a.inArray(b,d),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(a){clearTimeout(this._holdTimeout),this.startTime=h(),this._moved=!0,this._trigger(q,a)},_trigger:function(a,b){var c=this,d=b.event,e={touch:c,x:c.x,y:c.y,target:c.target,event:d};c.userEvents.notify(a,e)&&d.preventDefault()},_withinIgnoreThreshold:function(){var a=this.x.initialDelta,b=this.y.initialDelta;return Math.sqrt(a*a+b*b)<=this.userEvents.threshold}}),G=g.extend({init:function(b,f){var j,h=this,k=c.guid();if(f=f||{},j=h.filter=f.filter,h.threshold=f.threshold||m,h.minHold=f.minHold||l,h.touches=[],h._maxTouches=f.multiTouch?2:1,h.allowSelection=f.allowSelection,h.captureUpIfMoved=f.captureUpIfMoved,h.eventNS=k,b=a(b).handler(h),g.fn.init.call(h),i(h,{element:b,surface:f.global?a(e.documentElement):a(f.surface||b),stopPropagation:f.stopPropagation,pressed:!1}),h.surface.handler(h).on(c.applyEventMap("move",k),"_move").on(c.applyEventMap("up cancel",k),"_end"),b.on(c.applyEventMap("down",k),j,"_start"),(d.pointers||d.msPointers)&&b.css("-ms-touch-action","pinch-zoom double-tap-zoom"),f.preventDragEvent&&b.on(c.applyEventMap("dragstart",k),c.preventDefault),b.on(c.applyEventMap("mousedown selectstart",k),j,{root:b},"_select"),h.captureUpIfMoved&&d.eventCapture){var A=h.surface[0],B=a.proxy(h.preventIfMoving,h);F(function(a){A.addEventListener(a,B,!0)})}h.bind([n,o,u,q,r,s,v,t,w,x,y,z,p],f)},preventIfMoving:function(a){this._isMoved()&&a.preventDefault()},destroy:function(){var a=this;if(!a._destroyed){if(a._destroyed=!0,a.captureUpIfMoved&&d.eventCapture){var b=a.surface[0];F(function(c){b.removeEventListener(c,a.preventIfMoving)})}a.element.kendoDestroy(a.eventNS),a.surface.kendoDestroy(a.eventNS),a.element.removeData("handler"),a.surface.removeData("handler"),a._disposeAll(),a.unbind(),delete a.surface,delete a.element}},capture:function(){G.current=this},cancel:function(){this._disposeAll(),this.trigger(t)},notify:function(a,b){var c=this,d=c.touches;if(this._isMultiTouch()){switch(a){case r:a=x;break;case s:a=y;break;case u:a=z}i(b,{touches:d},A(d[0],d[1]))}return this.trigger(a,b)},press:function(a,b,c){this._apiCall("_start",a,b,c)},move:function(a,b){this._apiCall("_move",a,b)},end:function(a,b){this._apiCall("_end",a,b)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var a=this.touches;a.length>0;)a.pop().dispose()},_isMoved:function(){return a.grep(this.touches,function(a){return a.isMoved()}).length},_select:function(a){(!this.allowSelection||this.trigger(p,{event:a}))&&E(a)},_start:function(b){var f,i,c=this,d=0,e=c.filter,g=B(b),h=g.length;if(!c._maxTouchesReached())for(G.current=null,c.currentTarget=b.currentTarget,c.stopPropagation&&b.stopPropagation();h>d&&!c._maxTouchesReached();d++)i=g[d],f=e?a(i.currentTarget):c.element,f.length&&(i=new D(c,f,i),c.touches.push(i),i.press(),c._isMultiTouch()&&c.notify("gesturestart",{}))},_move:function(a){this._eachTouch("move",a)},_end:function(a){this._eachTouch("end",a)},_eachTouch:function(a,b){var g,h,i,j,c=this,d={},e=B(b),f=c.touches;for(g=0;g<f.length;g++)h=f[g],d[h.id]=h;for(g=0;g<e.length;g++)i=e[g],j=d[i.id],j&&j[a](i)},_apiCall:function(b,c,d,e){this[b]({api:!0,pageX:c,pageY:d,clientX:c,clientY:d,target:e||this.element,stopPropagation:a.noop,preventDefault:a.noop})}});c.getTouches=B,c.touchDelta=A,c.UserEvents=G}(window.kendo.jQuery),kendo_module({id:"draganddrop",name:"Drag & drop",category:"framework",description:"Drag & drop functionality for any DOM element.",depends:["core","userevents"]}),function(a,b){function D(b,c){try{return a.contains(b,c)||b==c}catch(d){return!1}}function E(a){return s?e.elementFromPoint(a.x.screen,a.y.screen):e.elementFromPoint(a.x.client,a.y.client)}function F(a,b){return parseInt(a.css(b),10)||0}function G(a,b){return Math.min(Math.max(a,b.min),b.max)}function H(a,b){var c=l(a),d=c.left+F(a,"borderLeftWidth")+F(a,"paddingLeft"),e=c.top+F(a,"borderTopWidth")+F(a,"paddingTop"),f=d+a.width()-b.outerWidth(!0),g=e+a.height()-b.outerHeight(!0);return{x:{min:d,max:f},y:{min:e,max:g}}}function I(a,c,e){for(var f,g,h=0,i=c&&c.length,j=e&&e.length;a&&a.parentNode;){for(h=0;i>h;h++)if(f=c[h],f.element[0]===a)return{target:f,targetElement:a};for(h=0;j>h;h++)if(g=e[h],d.matchesSelector.call(a,g.options.filter))return{target:g,targetElement:a};a=a.parentNode}return b}var p,P,c=window.kendo,d=c.support,e=window.document,f=c.Class,g=c.ui.Widget,h=c.Observable,i=c.UserEvents,j=a.proxy,k=a.extend,l=c.getOffset,m={},n={},o={},q=d.mobileOS,r=q&&q.android,s=r&&"chrome"==q.browser,t="keyup",u="change",v="dragstart",w="hold",x="drag",y="dragend",z="dragcancel",A="dragenter",B="dragleave",C="drop",J=h.extend({init:function(b,d){var e=this,f=b[0];e.capture=!1,f.addEventListener?(a.each(c.eventMap.down.split(" "),function(){f.addEventListener(this,j(e._press,e),!0)}),a.each(c.eventMap.up.split(" "),function(){f.addEventListener(this,j(e._release,e),!0)})):(a.each(c.eventMap.down.split(" "),function(){f.attachEvent(this,j(e._press,e))}),a.each(c.eventMap.up.split(" "),function(){f.attachEvent(this,j(e._release,e))})),h.fn.init.call(e),e.bind(["press","release"],d||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(a){var b=this;b.trigger("press"),b.capture&&a.preventDefault()},_release:function(a){var b=this;b.trigger("release"),b.capture&&(a.preventDefault(),b.cancelCapture())}}),K=h.extend({init:function(b){var c=this;h.fn.init.call(c),c.forcedEnabled=!1,a.extend(c,b),c.scale=1,c.horizontal?(c.measure="offsetWidth",c.scrollSize="scrollWidth",c.axis="x"):(c.measure="offsetHeight",c.scrollSize="scrollHeight",c.axis="y")},makeVirtual:function(){a.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:1e3,_virtualMax:-1e3})},virtualSize:function(a,b){(this._virtualMin!==a||this._virtualMax!==b)&&(this._virtualMin=a,this._virtualMax=b,this.update())},outOfBounds:function(a){return a>this.max||a<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(a){this.scale=a},update:function(a){var b=this,c=b.virtual?b._virtualMax:b.getTotal(),d=c*b.scale,e=b.getSize();b.max=b.virtual?-b._virtualMin:0,b.size=e,b.total=d,b.min=Math.min(b.max,e-d),b.minScale=e/c,b.centerOffset=(d-e)/2,b.enabled=b.forcedEnabled||d>e,a||b.trigger(u,b)}}),L=h.extend({init:function(a){var b=this;h.fn.init.call(b),b.x=new K(k({horizontal:!0},a)),b.y=new K(k({horizontal:!1},a)),b.container=a.container,b.forcedMinScale=a.minScale,b.maxScale=a.maxScale||100,b.bind(u,a)},rescale:function(a){this.x.rescale(a),this.y.rescale(a),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var a=this;a.x.update(),a.y.update(),a.enabled=a.x.enabled||a.y.enabled,a.minScale=a.forcedMinScale||Math.min(a.x.minScale,a.y.minScale),a.fitScale=Math.max(a.x.minScale,a.y.minScale),a.trigger(u)}}),M=h.extend({init:function(a){var b=this;k(b,a),h.fn.init.call(b)},dragMove:function(a){var b=this,c=b.dimension,d=b.axis,e=b.movable,f=e[d]+a;c.enabled&&((f<c.min&&0>a||f>c.max&&a>0)&&(a*=b.resistance),e.translateAxis(d,a),b.trigger(u,b))}}),N=f.extend({init:function(a){var c,d,e,f,b=this;k(b,{elastic:!0},a),e=b.elastic?.5:0,f=b.movable,b.x=c=new M({axis:"x",dimension:b.dimensions.x,resistance:e,movable:f}),b.y=d=new M({axis:"y",dimension:b.dimensions.y,resistance:e,movable:f}),b.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(a){b.gesture=a,b.offset=b.dimensions.container.offset()},gesturechange:function(a){var l,e=b.gesture,g=e.center,h=a.center,i=a.distance/e.distance,j=b.dimensions.minScale,k=b.dimensions.maxScale;f.scale<=j&&1>i&&(i+=.8*(1-i)),f.scale*i>=k&&(i=k/f.scale);var m=f.x+b.offset.left,n=f.y+b.offset.top;l={x:(m-g.x)*i+h.x-m,y:(n-g.y)*i+h.y-n},f.scaleWith(i),c.dragMove(l.x),d.dragMove(l.y),b.dimensions.rescale(f.scale),b.gesture=a,a.preventDefault()},move:function(a){a.event.target.tagName.match(/textarea|input/i)||(c.dimension.enabled||d.dimension.enabled?(c.dragMove(a.x.delta),d.dragMove(a.y.delta),a.preventDefault()):a.touch.skip())},end:function(a){a.preventDefault()}})}}),O=d.transitions.prefix+"Transform";P=d.hasHW3D?function(a,b,c){return"translate3d("+a+"px,"+b+"px,0) scale("+c+")"}:function(a,b,c){return"translate("+a+"px,"+b+"px) scale("+c+")"};var Q=h.extend({init:function(b){var c=this;h.fn.init.call(c),c.element=a(b),c.element[0].style.webkitTransformOrigin="left top",c.x=0,c.y=0,c.scale=1,c._saveCoordinates(P(c.x,c.y,c.scale))},translateAxis:function(a,b){this[a]+=b,this.refresh()},scaleTo:function(a){this.scale=a,this.refresh()},scaleWith:function(a){this.scale*=a,this.refresh()},translate:function(a){this.x+=a.x,this.y+=a.y,this.refresh()},moveAxis:function(a,b){this[a]=b,this.refresh()},moveTo:function(a){k(this,a),this.refresh()},refresh:function(){var e,a=this,b=a.x,d=a.y;a.round&&(b=Math.round(b),d=Math.round(d)),e=P(b,d,a.scale),e!=a.coordinates&&(c.support.browser.msie&&c.support.browser.version<10?(a.element[0].style.position="absolute",a.element[0].style.left=a.x+"px",a.element[0].style.top=a.y+"px"):a.element[0].style[O]=e,a._saveCoordinates(e),a.trigger(u))},_saveCoordinates:function(a){this.coordinates=a}}),R=g.extend({init:function(a,b){var c=this;g.fn.init.call(c,a,b);var d=c.options.group;d in n?n[d].push(c):n[d]=[c]},events:[A,B,C],options:{name:"DropTarget",group:"default"},destroy:function(){var c,a=this.options.group,b=n[a]||o[a];if(b.length>1){for(g.fn.destroy.call(this),c=0;c<b.length;c++)if(b[c]==this){b.splice(c,1);break}}else R.destroyGroup(a)},_trigger:function(a,b){var c=this,d=m[c.options.group];return d?c.trigger(a,k({},b.event,{draggable:d,dropTarget:b.dropTarget})):void 0},_over:function(a){this._trigger(A,a)},_out:function(a){this._trigger(B,a)},_drop:function(a){var b=this,c=m[b.options.group];c&&(c.dropped=!b._trigger(C,a))}});R.destroyGroup=function(a){var c,b=n[a]||o[a];if(b){for(c=0;c<b.length;c++)g.fn.destroy.call(b[c]);b.length=0,delete n[a],delete o[a]}},R._cache=n;var S=R.extend({init:function(a,b){var c=this;g.fn.init.call(c,a,b);var d=c.options.group;d in o?o[d].push(c):o[d]=[c]},options:{name:"DropTargetArea",group:"default",filter:null}}),T=g.extend({init:function(a,b){var d=this;g.fn.init.call(d,a,b),d._activated=!1,d.userEvents=new i(d.element,{global:!0,stopPropagation:!0,filter:d.options.filter,threshold:d.options.distance,start:j(d._start,d),hold:j(d._hold,d),move:j(d._drag,d),end:j(d._end,d),cancel:j(d._cancel,d)}),d._afterEndHandler=j(d._afterEnd,d),d.captureEscape=function(a){a.keyCode===c.keys.ESC&&(d._trigger(z,{event:a}),d.userEvents.cancel())}},events:[w,v,x,y,z],options:{name:"Draggable",distance:5,group:"default",cursorOffset:null,axis:null,container:null,holdToDrag:!1,dropped:!1},cancelHold:function(){this._activated=!1},_updateHint:function(b){var d,c=this,e=c.options,f=c.boundaries,g=e.axis,h=c.options.cursorOffset;h?d={left:b.x.location+h.left,top:b.y.location+h.top}:(c.hintOffset.left+=b.x.delta,c.hintOffset.top+=b.y.delta,d=a.extend({},c.hintOffset)),f&&(d.top=G(d.top,f.y),d.left=G(d.left,f.x)),"x"===g?delete d.top:"y"===g&&delete d.left,c.hint.css(d)},_start:function(b){var d=this,f=d.options,g=f.container,h=f.hint;if(f.holdToDrag&&!d._activated)return d.userEvents.cancel(),void 0;if(d.currentTarget=b.target,d.currentTargetOffset=l(d.currentTarget),h){d.hint&&d.hint.stop(!0,!0).remove(),d.hint=c.isFunction(h)?a(h.call(d,d.currentTarget)):h;var i=l(d.currentTarget);d.hintOffset=i,d.hint.css({position:"absolute",zIndex:2e4,left:i.left,top:i.top}).appendTo(e.body)}m[f.group]=d,d.dropped=!1,g&&(d.boundaries=H(g,d.hint)),d._trigger(v,b)&&(d.userEvents.cancel(),d._afterEnd()),a(e).on(t,d.captureEscape)},_hold:function(a){this.currentTarget=a.target,this._trigger(w,a)?this.userEvents.cancel():this._activated=!0},_drag:function(b){var c=this;b.preventDefault(),c._withDropTarget(b,function(c,d){if(!c)return p&&(p._trigger(B,k(b,{dropTarget:a(p.targetElement)})),p=null),void 0;if(p){if(d===p.targetElement)return;p._trigger(B,k(b,{dropTarget:a(p.targetElement)}))}c._trigger(A,k(b,{dropTarget:a(d)})),p=k(c,{targetElement:d})}),c._trigger(x,b),c.hint&&c._updateHint(b)},_end:function(b){var c=this;c._withDropTarget(b,function(c,d){c&&(c._drop(k({},b,{dropTarget:a(d)})),p=null)}),c._trigger(y,b),c._cancel(b.event)},_cancel:function(){var a=this;a._activated=!1,a.hint&&!a.dropped?setTimeout(function(){a.hint.stop(!0,!0).animate(a.currentTargetOffset,"fast",a._afterEndHandler)},0):a._afterEnd()},_trigger:function(a,b){var c=this;return c.trigger(a,k({},b.event,{x:b.x,y:b.y,currentTarget:c.currentTarget,dropTarget:b.dropTarget}))},_withDropTarget:function(a,b){var d,e,c=this,f=c.options,g=n[f.group],h=o[f.group];(g&&g.length||h&&h.length)&&(d=E(a),c.hint&&D(c.hint[0],d)&&(c.hint.hide(),d=E(a),d||(d=E(a)),c.hint.show()),e=I(d,g,h),e?b(e.target,e.targetElement):b())},destroy:function(){var a=this;g.fn.destroy.call(a),a._afterEnd(),a.userEvents.destroy()},_afterEnd:function(){var b=this;b.hint&&b.hint.remove(),delete m[b.options.group],b.trigger("destroy"),a(e).off(t,b.captureEscape)}});c.ui.plugin(R),c.ui.plugin(S),c.ui.plugin(T),c.TapCapture=J,c.containerBoundaries=H,k(c.ui,{Pane:N,PaneDimensions:L,Movable:Q})}(window.kendo.jQuery),kendo_module({id:"mobile.scroller",name:"Scroller",category:"mobile",description:"The Kendo Mobile Scroller widget enables touch friendly kinetic scrolling for the contents of a given DOM element.",depends:["core","fx","draganddrop"]}),function(a){var c=window.kendo,d=c.mobile,e=c.effects,f=d.ui,g=a.proxy,h=a.extend,i=f.Widget,j=c.Class,k=c.ui.Movable,l=c.ui.Pane,m=c.ui.PaneDimensions,n=e.Transition,o=e.Animation,p=Math.abs,q=500,r=.7,s=.96,t=10,u=55,v=.5,w=5,x="km-scroller-release",y="km-scroller-refresh",z="pull",A="change",B="resize",C="scroll",D=o.extend({init:function(a){var b=this;o.fn.init.call(b),h(b,a),b.userEvents.bind("gestureend",g(b.start,b)),b.tapCapture.bind("press",g(b.cancel,b))},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var a=this.movable;a.scaleWith(1.1),this.dimensions.rescale(a.scale)},onEnd:function(){var a=this.movable;a.scaleTo(this.dimensions.minScale),this.dimensions.rescale(a.scale)}}),E=o.extend({init:function(a){var b=this;o.fn.init.call(b),h(b,a,{transition:new n({axis:a.axis,movable:a.movable,onEnd:function(){b._end()}})}),b.tapCapture.bind("press",function(){b.cancel()}),b.userEvents.bind("end",g(b.start,b)),b.userEvents.bind("gestureend",g(b.start,b)),b.userEvents.bind("tap",g(b.onEnd,b))},onCancel:function(){this.transition.cancel()},freeze:function(a){var b=this;b.cancel(),b._moveTo(a)},onEnd:function(){var a=this;a._outOfBounds()?a._snapBack():a._end()},done:function(){return p(this.velocity)<1},start:function(a){var b=this;b.dimension.enabled&&(b._outOfBounds()?b._snapBack():(b.velocity=Math.max(Math.min(a.touch[b.axis].velocity*b.velocityMultiplier,u),-u),b.velocity?(b.tapCapture.captureNext(),o.fn.start.call(b)):b._end()))},tick:function(){var a=this,b=a.dimension,c=a._outOfBounds()?v:a.friction,d=a.velocity*=c,e=a.movable[a.axis]+d;!a.elastic&&b.outOfBounds(e)&&(e=Math.max(Math.min(e,b.max),b.min),a.velocity=0),a.movable.moveAxis(a.axis,e)},_end:function(){this.tapCapture.cancelCapture(),this.end()},_outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},_snapBack:function(){var a=this,b=a.dimension,c=a.movable[a.axis]>b.max?b.max:b.min;a._moveTo(c)},_moveTo:function(a){this.transition.moveTo({location:a,duration:q,ease:n.easeOutExpo})}}),F=o.extend({init:function(a){var b=this;c.effects.Animation.fn.init.call(this),h(b,a,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates(),this.moveTo(this.origin)},done:function(){return p(this.offset.y)<w&&p(this.offset.x)<w},onEnd:function(){this.moveTo(this.destination)},setCoordinates:function(a,b){this.offset={},this.origin=a,this.destination=b},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),G=j.extend({init:function(b){var c=this,d="x"===b.axis,e=a('<div class="km-touch-scrollbar km-'+(d?"horizontal":"vertical")+'-scrollbar" />');h(c,b,{element:e,elementSize:0,movable:new k(e),scrollMovable:b.movable,size:d?"width":"height"}),c.scrollMovable.bind(A,g(c._move,c)),c.container.append(e)},_move:function(){var a=this,b=a.axis,c=a.dimension,d=c.size,e=a.scrollMovable,f=d/c.total,g=Math.round(-e[b]*f),h=Math.round(d*f);g+h>d?h=d-g:0>g&&(h+=g,g=0),a.elementSize!=h&&(a.element.css(a.size,h+"px"),a.elementSize=h),a.movable.moveAxis(b,g)},show:function(){this.element.css({opacity:r,visibility:"visible"})},hide:function(){this.element.css({opacity:0})}}),H=i.extend({init:function(a,b){var d=this;if(i.fn.init.call(d,a,b),a=d.element,d._native=d.options.useNative&&c.support.hasNativeScrolling,d._native)return a.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'),h(d,{scrollElement:a,fixedContainer:a.children().first()}),void 0;a.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var e=a.children().eq(1),f=new c.TapCapture(a),g=new k(e),j=new m({element:e,container:a,forcedEnabled:d.options.zoom}),n=this.options.avoidScrolling,o=new c.UserEvents(a,{allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:d.options.zoom,start:function(a){j.refresh();var b=p(a.x.velocity),c=p(a.y.velocity),e=2*b>=c,f=2*c>=b;!n(a)&&d.enabled&&(j.x.enabled&&e||j.y.enabled&&f)?o.capture():o.cancel()}}),q=new l({movable:g,dimensions:j,userEvents:o,elastic:d.options.elastic}),r=new D({movable:g,dimensions:j,userEvents:o,tapCapture:f}),s=new F({moveTo:function(a){d.scrollTo(a.x,a.y)}});g.bind(A,function(){d.scrollTop=-g.y,d.scrollLeft=-g.x,d.trigger(C,{scrollTop:d.scrollTop,scrollLeft:d.scrollLeft})}),h(d,{movable:g,dimensions:j,zoomSnapBack:r,animatedScroller:s,userEvents:o,pane:q,tapCapture:f,pulled:!1,enabled:!0,scrollElement:e,scrollTop:0,scrollLeft:0,fixedContainer:a.children().first()}),d._initAxis("x"),d._initAxis("y"),j.refresh(),d.options.pullToRefresh&&d._initPullToRefresh()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(a,b){this.dimensions.y.virtualSize(a,b)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:!1,pullOffset:140,elastic:!0,useNative:!1,avoidScrolling:function(){return!1},pullToRefresh:!1,pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},events:[z,C,B],_resize:function(){this._native||this.dimensions.refresh(),this.reset()},setOptions:function(a){var b=this;i.fn.setOptions.call(b,a),a.pullToRefresh&&b._initPullToRefresh()},reset:function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},zoomOut:function(){var a=this.dimensions;a.refresh(),this._scale(a.fitScale),this.movable.moveTo(a.centerCoordinates())},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},scrollTo:function(a,b){this._native?(this.scrollElement.scrollLeft(a),this.scrollElement.scrollTop(b)):(this.dimensions.refresh(),this.movable.moveTo({x:a,y:b}))},animatedScrollTo:function(a,b){var c={x:this.movable.x,y:this.movable.y},d={x:a,y:b};this.animatedScroller.setCoordinates(c,d),this.animatedScroller.start()},pullHandled:function(){var a=this;a.refreshHint.removeClass(y),a.hintContainer.html(a.pullTemplate({})),a.yinertia.onEnd(),a.xinertia.onEnd()},destroy:function(){i.fn.destroy.call(this),this.userEvents&&this.userEvents.destroy()},_scale:function(a){this.dimensions.rescale(a),this.movable.scaleTo(a)},_initPullToRefresh:function(){var a=this;a.dimensions.y.forceEnabled(),a.pullTemplate=c.template(a.options.pullTemplate),a.releaseTemplate=c.template(a.options.releaseTemplate),a.refreshTemplate=c.template(a.options.refreshTemplate),a.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+a.pullTemplate({})+"</span></span>"),a.refreshHint=a.scrollElement.children().first(),a.hintContainer=a.refreshHint.children(".km-template"),a.pane.y.bind("change",g(a._paneChange,a)),a.userEvents.bind("end",g(a._dragEnd,a))},_dragEnd:function(){var a=this;a.pulled&&(a.pulled=!1,a.refreshHint.removeClass(x).addClass(y),a.hintContainer.html(a.refreshTemplate({})),a.yinertia.freeze(a.options.pullOffset/2),a.trigger("pull"))},_paneChange:function(){var a=this;a.movable.y/v>a.options.pullOffset?a.pulled||(a.pulled=!0,a.refreshHint.removeClass(y).addClass(x),a.hintContainer.html(a.releaseTemplate({}))):a.pulled&&(a.pulled=!1,a.refreshHint.removeClass(x),a.hintContainer.html(a.pullTemplate({})))},_initAxis:function(a){var b=this,c=b.movable,d=b.dimensions[a],e=b.tapCapture,f=new G({axis:a,movable:c,dimension:d,container:b.element});b.pane[a].bind(A,function(){f.show()}),b[a+"inertia"]=new E({axis:a,movable:c,tapCapture:e,userEvents:b.userEvents,dimension:d,elastic:b.options.elastic,friction:b.options.friction||s,velocityMultiplier:b.options.velocityMultiplier||t,end:function(){f.hide(),b.trigger("scrollEnd",{axis:a,scrollTop:b.scrollTop,scrollLeft:b.scrollLeft})}})}});f.plugin(H)}(window.kendo.jQuery),kendo_module({id:"groupable",name:"Groupable",category:"framework",depends:["core","draganddrop"],advanced:!0}),function(a){function l(a){return a.position().top+3}var c=window.kendo,d=c.ui.Widget,e=a.proxy,f=!1,g=".kendoGroupable",h=c.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})</span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"></span></a></div>',{useWithBlock:!1}),i=function(b){return a('<div class="k-header k-drag-clue" />').css({width:b.width(),paddingLeft:b.css("paddingLeft"),paddingRight:b.css("paddingRight"),lineHeight:b.height()+"px",paddingTop:b.css("paddingTop"),paddingBottom:b.css("paddingBottom")}).html(b.attr(c.attr("title"))||b.attr(c.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')},j=a('<div class="k-grouping-dropclue"/>'),k=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,m=d.extend({init:function(b,h){var m,p,q,k=this,n=c.guid(),o=e(k._intializePositions,k),r=k._dropCuePositions=[];d.fn.init.call(k,b,h),f=c.support.isRtl(b),q=f?"right":"left",k.draggable=p=k.options.draggable||new c.ui.Draggable(k.element,{filter:k.options.draggableElements,hint:i,group:n}),m=k.groupContainer=a(k.options.groupContainer,k.element).kendoDropTarget({group:p.options.group,dragenter:function(a){k._canDrag(a.draggable.currentTarget)&&(a.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add"),j.css("top",l(m)).css(q,0).appendTo(m))},dragleave:function(a){a.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied"),j.remove()},drop:function(b){var m,d=b.draggable.currentTarget,e=d.attr(c.attr("field")),g=d.attr(c.attr("title")),h=k.indicator(e),i=k._dropCuePositions,l=i[i.length-1];(d.hasClass("k-group-indicator")||k._canDrag(d))&&(l?(m=k._dropCuePosition(c.getOffset(j).left+parseInt(l.element.css("marginLeft"),10)*(f?-1:1)+parseInt(l.element.css("marginRight"),10)),m&&k._canDrop(a(h),m.element,m.left)&&(m.before?m.element.before(h||k.buildIndicator(e,g)):m.element.after(h||k.buildIndicator(e,g)),k._change())):(k.groupContainer.append(k.buildIndicator(e,g)),k._change()))}}).kendoDraggable({filter:"div.k-group-indicator",hint:i,group:p.options.group,dragcancel:e(k._dragCancel,k),dragstart:function(a){var b=a.currentTarget,c=parseInt(b.css("marginLeft"),10),d=b.position(),e=f?d.left-c:d.left+b.outerWidth();o(),j.css({top:l(m),left:e}).appendTo(m),this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")},dragend:function(){k._dragEnd(this)},drag:e(k._drag,k)}).on("click"+g,".k-button",function(b){b.preventDefault(),k._removeIndicator(a(this).parent())}).on("click"+g,".k-link",function(b){var d=a(this).parent(),e=k.buildIndicator(d.attr(c.attr("field")),d.attr(c.attr("title")),"asc"==d.attr(c.attr("dir"))?"desc":"asc");
d.before(e).remove(),k._change(),b.preventDefault()}),p.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){k._dragEnd(this)},dragcancel:e(k._dragCancel,k),dragstart:function(a){var b,c,d;return k.options.allowDrag||k._canDrag(a.currentTarget)?(o(),r.length?(b=r[r.length-1].element,c=parseInt(b.css("marginRight"),10),d=b.position().left+b.outerWidth()+c):d=0,void 0):(a.preventDefault(),void 0)},drag:e(k._drag,k)}),k.dataSource=k.options.dataSource,k.dataSource&&(k._refreshHandler=e(k.refresh,k),k.dataSource.bind("change",k._refreshHandler))},refresh:function(){var b=this,d=b.dataSource;b.groupContainer.empty().append(a.map(d.group()||[],function(a){var d=a.field.replace(k,"\\$1"),e=b.element.find(b.options.filter).filter("["+c.attr("field")+"="+d+"]");return b.buildIndicator(a.field,e.attr(c.attr("title")),a.dir)}).join("")),b._invalidateGroupContainer()},destroy:function(){var a=this;d.fn.destroy.call(a),a.groupContainer.off(g).kendoDropTarget("destroy").kendoDraggable("destroy"),a.options.draggable||a.draggable.destroy(),a.dataSource&&a._refreshHandler&&a.dataSource.unbind("change",a._refreshHandler)},options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(b){var d=a(".k-group-indicator",this.groupContainer);return a.grep(d,function(d){return a(d).attr(c.attr("field"))===b})[0]},buildIndicator:function(a,b,d){return h({field:a.replace(/"/g,"'"),dir:d,title:b,ns:c.ns})},descriptors:function(){var e,f,g,h,i,b=this,d=a(".k-group-indicator",b.groupContainer);return e=b.element.find(b.options.filter).map(function(){var b=a(this),d=b.attr(c.attr("aggregates")),e=b.attr(c.attr("field"));if(d&&""!==d)for(f=d.split(","),d=[],h=0,i=f.length;i>h;h++)d.push({field:e,aggregate:f[h]});return d}).toArray(),a.map(d,function(b){return b=a(b),g=b.attr(c.attr("field")),{field:g,dir:b.attr(c.attr("dir")),aggregates:e||[]}})},_removeIndicator:function(a){var b=this;a.remove(),b._invalidateGroupContainer(),b._change()},_change:function(){var a=this;a.dataSource&&a.dataSource.group(a.descriptors())},_dropCuePosition:function(b){var c=this._dropCuePositions;if(j.is(":visible")&&0!==c.length){b=Math.ceil(b);var d=c[c.length-1],e=d.left,g=d.right,h=parseInt(d.element.css("marginLeft"),10),i=parseInt(d.element.css("marginRight"),10);return b>=g&&!f||e>b&&f?b={left:d.element.position().left+(f?-h:d.element.outerWidth()+i),element:d.element,before:!1}:(b=a.grep(c,function(a){return a.left<=b&&b<=a.right||f&&b>a.right})[0],b&&(b={left:f?b.element.position().left+b.element.outerWidth()+i:b.element.position().left-h,element:b.element,before:!0})),b}},_drag:function(a){var b=this._dropCuePosition(a.x.location);b&&j.css({left:b.left,right:"auto"})},_canDrag:function(a){var b=a.attr(c.attr("field"));return"false"!=a.attr(c.attr("groupable"))&&b&&(a.hasClass("k-group-indicator")||!this.indicator(b))},_canDrop:function(a,b,c){var d=a.next(),e=a[0]!==b[0]&&(!d[0]||b[0]!==d[0]||!f&&c>d.position().left||f&&c<d.position().left);return e},_dragEnd:function(b){var d=this,e=b.currentTarget.attr(c.attr("field")),f=d.indicator(e);b!==d.options.draggable&&!b.dropped&&f&&d._removeIndicator(a(f)),d._dragCancel()},_dragCancel:function(){j.remove(),this._dropCuePositions=[]},_intializePositions:function(){var e,b=this,d=a(".k-group-indicator",b.groupContainer);b._dropCuePositions=a.map(d,function(b){return b=a(b),e=c.getOffset(b).left,{left:parseInt(e,10),right:parseInt(e+b.outerWidth(),10),element:b}})},_invalidateGroupContainer:function(){var a=this.groupContainer;a.is(":empty")&&a.html(this.options.messages.empty)}});c.ui.plugin(m)}(window.kendo.jQuery),kendo_module({id:"reorderable",name:"Reorderable",category:"framework",depends:["core","draganddrop"],advanced:!0}),function(a){function g(b,c){b=a(b),c?b.find(".k-drag-status").removeClass("k-add").addClass("k-denied"):b.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}var c=window.kendo,d=c.ui.Widget,e="change",f="k-reorderable",h=d.extend({init:function(b,h){var j,i=this,k=c.guid()+"-reorderable";d.fn.init.call(i,b,h),b=i.element.addClass(f),h=i.options,i.draggable=j=h.draggable||new c.ui.Draggable(b,{group:k,filter:h.filter,hint:h.hint}),i.reorderDropCue=a('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>'),b.find(j.options.filter).kendoDropTarget({group:j.options.group,dragenter:function(a){if(i._draggable){var d,b=this.element,e=b[0]===i._draggable[0];g(a.draggable.hint,e),e||(d=c.getOffset(b),i.reorderDropCue.css({height:b.outerHeight(),top:d.top,left:d.left+(b.index()>i._draggable.index()?b.outerWidth():0)}).appendTo(document.body))}},dragleave:function(a){g(a.draggable.hint,!0),i.reorderDropCue.remove()},drop:function(){if(i._draggable){var d,a=i._draggable[0],c=this.element[0];a!==c&&(d=b.find(j.options.filter),i.trigger(e,{element:i._draggable,oldIndex:d.index(a),newIndex:d.index(c)}))}}}),j.bind(["dragcancel","dragend","dragstart"],{dragcancel:function(){i.reorderDropCue.remove(),i._draggable=null},dragend:function(){i.reorderDropCue.remove(),i._draggable=null},dragstart:function(a){i._draggable=a.currentTarget}})},options:{name:"Reorderable",filter:"*"},events:[e],destroy:function(){var a=this;d.fn.destroy.call(a),a.draggable&&a.draggable.destroy(),c.destroy(a.element)}});c.ui.plugin(h)}(window.kendo.jQuery),kendo_module({id:"resizable",name:"Resizable",category:"framework",depends:["core","draganddrop"],advanced:!0}),function(a,b){var c=window.kendo,d=c.ui,e=d.Widget,f=a.proxy,g=c.isFunction,h=a.extend,i="horizontal",j="vertical",k="start",l="resize",m="resizeend",n=e.extend({init:function(a,b){var c=this;e.fn.init.call(c,a,b),c.orientation=c.options.orientation.toLowerCase()!=j?i:j,c._positionMouse=c.orientation==i?"x":"y",c._position=c.orientation==i?"left":"top",c._sizingDom=c.orientation==i?"outerWidth":"outerHeight",c.draggable=new d.Draggable(a,{distance:0,filter:b.handle,drag:f(c._resize,c),dragcancel:f(c._cancel,c),dragstart:f(c._start,c),dragend:f(c._stop,c)}),c.userEvents=c.draggable.userEvents},events:[l,m,k],options:{name:"Resizable",orientation:i},resize:function(){},_max:function(a){var c=this,d=c.hint?c.hint[c._sizingDom]():0,e=c.options.max;return g(e)?e(a):e!==b?c._initialElementPosition+e-d:e},_min:function(a){var c=this,d=c.options.min;return g(d)?d(a):d!==b?c._initialElementPosition+d:d},_start:function(b){var c=this,d=c.options.hint,e=a(b.currentTarget);c._initialElementPosition=e.position()[c._position],c._initialMousePosition=b[c._positionMouse].startLocation,d&&(c.hint=g(d)?a(d(e)):d,c.hint.css({position:"absolute"}).css(c._position,c._initialElementPosition).appendTo(c.element)),c.trigger(k,b),c._maxPosition=c._max(b),c._minPosition=c._min(b),a(document.body).css("cursor",e.css("cursor"))},_resize:function(c){var j,d=this,f=(a(c.currentTarget),d._maxPosition),g=d._minPosition,i=d._initialElementPosition+(c[d._positionMouse].location-d._initialMousePosition);j=g!==b?Math.max(g,i):i,d.position=j=f!==b?Math.min(f,j):j,d.hint&&d.hint.toggleClass(d.options.invalidClass||"",j==f||j==g).css(d._position,j),d.resizing=!0,d.trigger(l,h(c,{position:j}))},_stop:function(b){var c=this;c.hint&&c.hint.remove(),c.resizing=!1,c.trigger(m,h(b,{position:c.position})),a(document.body).css("cursor","")},_cancel:function(a){var c=this;c.hint&&(c.position=b,c.hint.css(c._position,c._initialElementPosition),c._stop(a))},destroy:function(){var a=this;e.fn.destroy.call(a),a.draggable&&a.draggable.destroy()},press:function(a){if(a){var b=a.position(),c=this;c.userEvents.press(b.left,b.top,a[0]),c.targetPosition=b,c.target=a}},move:function(a){var c=this,d=c._position,e=c.targetPosition,f=c.position;f===b&&(f=e[d]),e[d]=f+a,c.userEvents.move(e.left,e.top)},end:function(){this.userEvents.end(),this.target=this.position=b}});c.ui.plugin(n)}(window.kendo.jQuery),kendo_module({id:"sortable",name:"Sortable",category:"framework",depends:["data"],advanced:!0}),function(a,b){var c=window.kendo,d=a.proxy,e="dir",f="asc",g="single",h="field",i="desc",j=".kendoSortable",k=".k-link",l="aria-sort",m=c.ui.Widget,n=m.extend({init:function(a,b){var e,c=this;m.fn.init.call(c,a,b),c._refreshHandler=d(c.refresh,c),c.dataSource=c.options.dataSource.bind("change",c._refreshHandler),e=c.element.find(k),e[0]||(e=c.element.wrapInner('<a class="k-link" href="#"/>').find(k)),c.link=e,c.element.on("click"+j,d(c._click,c))},options:{name:"Sortable",mode:g,allowUnsort:!0,compare:null,filter:""},destroy:function(){var a=this;m.fn.destroy.call(a),a.element.off(j),a.dataSource.unbind("change",a._refreshHandler)},refresh:function(){var g,j,k,m,b=this,d=b.dataSource.sort()||[],n=b.element,o=n.attr(c.attr(h));for(n.removeAttr(c.attr(e)),n.removeAttr(l),g=0,j=d.length;j>g;g++)k=d[g],o==k.field&&n.attr(c.attr(e),k.dir);m=n.attr(c.attr(e)),n.find(".k-i-arrow-n,.k-i-arrow-s").remove(),m===f?(a('<span class="k-icon k-i-arrow-n" />').appendTo(b.link),n.attr(l,"ascending")):m===i&&(a('<span class="k-icon k-i-arrow-s" />').appendTo(b.link),n.attr(l,"descending"))},_click:function(a){var p,q,d=this,j=d.element,k=j.attr(c.attr(h)),l=j.attr(c.attr(e)),m=d.options,n=d.options.compare,o=d.dataSource.sort()||[];if(a.preventDefault(),!m.filter||j.is(m.filter)){if(l=l===f?i:l===i&&m.allowUnsort?b:f,m.mode===g)o=[{field:k,dir:l,compare:n}];else if("multiple"===m.mode){for(p=0,q=o.length;q>p;p++)if(o[p].field===k){o.splice(p,1);break}o.push({field:k,dir:l,compare:n})}d.dataSource.sort(o)}}});c.ui.plugin(n)}(window.kendo.jQuery),kendo_module({id:"selectable",name:"Selectable",category:"framework",depends:["core","userevents"],advanced:!0}),function(a){function p(a,b){var d=c.getOffset(a),e=b.left+b.width,f=b.top+b.height;return d.right=d.left+a.outerWidth(),d.bottom=d.top+a.outerHeight(),!(d.left>e||d.right<b.left||d.top>f||d.bottom<b.top)}function q(a,b,c,d){var e,f,g;for(e=0,f=a.length;f>e;e++)g=a.eq(e),p(g,c)?g.hasClass(h)?d&&b!==g[0]&&g.removeClass(h).addClass(m):g.hasClass(i)||g.hasClass(m)||g.addClass(i):g.hasClass(i)?g.removeClass(i):d&&g.hasClass(m)&&g.removeClass(m).addClass(h)}var c=window.kendo,d=c.ui.Widget,e=a.proxy,f=Math.abs,g="aria-selected",h="k-state-selected",i="k-state-selecting",j="k-selectable",k="change",l=".kendoSelectable",m="k-state-unselecting",n=!1;!function(a){!function(){a('<div class="parent"><span /></div>').on("click",">*",function(){n=!0}).find("span").click().end().off()}()}(a);var o=d.extend({init:function(b,f){var h,g=this;d.fn.init.call(g,b,f),g._marquee=a("<div class='k-marquee'><div class='k-marquee-color'></div></div>"),g._lastActive=null,g.element.addClass(j),h=g.options.multiple,g.userEvents=new c.UserEvents(g.element,{global:!0,allowSelection:!0,filter:(n?"":"."+j+" ")+g.options.filter,tap:e(g._tap,g)}),h&&g.userEvents.bind("start",e(g._start,g)).bind("move",e(g._move,g)).bind("end",e(g._end,g)).bind("select",e(g._select,g))},events:[k],options:{name:"Selectable",filter:">*",multiple:!1},_tap:function(b){var i,c=a(b.target),d=this,e=b.event.ctrlKey||b.event.metaKey,f=d.options.multiple,g=f&&b.event.shiftKey,l=b.event.which,m=b.event.button;c.closest("."+j)[0]!==d.element[0]||l&&3==l||m&&2==m||(i=c.hasClass(h),f&&e||d.clear(),g?d.selectRange(d._firstSelectee(),c):(i&&e?(d._unselect(c),d._notify(k)):d.value(c),d._lastActive=d._downTarget=c))},_start:function(b){var c=this,d=a(b.target),e=d.hasClass(h),f=b.event.ctrlKey||b.event.metaKey;return c._downTarget=d,d.closest("."+j)[0]!==c.element[0]?(c.userEvents.cancel(),c._downTarget=null,void 0):(c._marquee.appendTo(document.body).css({left:b.x.client+1,top:b.y.client+1,width:0,height:0}),f||c.clear(),e&&(c._selectElement(d,!0),f&&d.addClass(m)),void 0)},_move:function(a){var b=this,c={left:a.x.startLocation>a.x.location?a.x.location:a.x.startLocation,top:a.y.startLocation>a.y.location?a.y.location:a.y.startLocation,width:f(a.x.initialDelta),height:f(a.y.initialDelta)},d=b.element.find(b.options.filter);b._marquee.css(c),q(d,b._downTarget[0],c,a.event.ctrlKey||a.event.metaKey),a.preventDefault()},_end:function(){var a=this;a._marquee.remove(),a._unselect(a.element.find(a.options.filter+"."+m)).removeClass(m),a.value(a.element.find(a.options.filter+"."+i)),a._lastActive=a._downTarget},value:function(a){var b=this,c=e(b._selectElement,b);return a?(a.each(function(){c(this)}),b._notify(k),void 0):b.element.find(b.options.filter+"."+h)},_firstSelectee:function(){var b,a=this;return null!==a._lastActive?a._lastActive:(b=a.value(),b.length>0?b[0]:a.element.find(a.options.filter))},_selectElement:function(b,c){var d=a(b),e=!c&&this._notify("select",{element:b});d.removeClass(i),e||(d.addClass(h),this.options.aria&&d.attr(g,!0))},_notify:function(a,b){return b=b||{},this.trigger(a,b)},_unselect:function(a){return a.removeClass(h),this.options.aria&&a.attr(g,!1),a},_select:function(b){var d="input,a,textarea,.k-multiselect-wrap,select",e=c.support.browser.msie;a(b.event.target).is(d)?(this.userEvents.cancel(),this._downTarget=null):(!e||e&&!a(c._activeElement()).is(d))&&b.preventDefault()},clear:function(){var a=this.element.find(this.options.filter+"."+h);this._unselect(a)},selectRange:function(b,c){var g,i,j,l,d=this,f=!1,m=d.element.find(d.options.filter),n=e(d._selectElement,d);for(b=a(b)[0],c=a(c)[0],g=0,i=m.length;i>g;g++)l=m[g],f?(n(l),f=l!==c):l===b?(f=b!==c,n(l)):l===c?(j=b,b=c,c=j,f=!0,n(l)):a(l).removeClass(h);d._notify(k)},destroy:function(){var a=this;d.fn.destroy.call(a),a.element.off(l),a.userEvents.destroy()}});c.ui.plugin(o)}(window.kendo.jQuery),kendo_module({id:"button",name:"Button",category:"web",description:"The Button widget displays styled buttons.",depends:["core"]}),function(a,b){var c=window.kendo,d=c.ui.Widget,e=a.proxy,f=c.keys,g="click",h="k-button",i="k-button-icon",j="k-button-icontext",k=".kendoButton",l="disabled",m="k-state-disabled",n="k-state-focused",o="k-state-selected",p=d.extend({init:function(a,b){var f=this;d.fn.init.call(f,a,b),a=f.wrapper=f.element,b=f.options,a.addClass(h).attr("role","button"),b.enable=b.enable&&!a.attr(l),f.enable(b.enable),f._tabindex(),f._graphics(),a.on(g+k,e(f._click,f)).on("focus"+k,e(f._focus,f)).on("blur"+k,e(f._blur,f)).on("keydown"+k,e(f._keydown,f)).on("keyup"+k,e(f._keyup,f)),c.notify(f)},events:[g],options:{name:"Button",icon:"",spriteCssClass:"",imageUrl:"",enable:!0},_isNativeButton:function(){return"button"==this.element.prop("tagName").toLowerCase()},_click:function(a){this.options.enable&&this.trigger(g,{event:a})},_focus:function(){this.options.enable&&this.element.addClass(n)},_blur:function(){this.element.removeClass(n)},_keydown:function(a){var b=this;b._isNativeButton()||(a.keyCode==f.ENTER||a.keyCode==f.SPACEBAR)&&(a.keyCode==f.SPACEBAR&&(a.preventDefault(),b.options.enable&&b.element.addClass(o)),b._click(a))},_keyup:function(){this.element.removeClass(o)},_graphics:function(){var h,k,l,b=this,c=b.element,d=b.options,e=d.icon,f=d.spriteCssClass,g=d.imageUrl;(f||g||e)&&(l=!0,c.contents().not("span.k-sprite").not("span.k-icon").not("img.k-image").each(function(a,b){(1==b.nodeType||3==b.nodeType&&b.nodeValue.trim().length>0)&&(l=!1)}),l?c.addClass(i):c.addClass(j)),e?(h=c.children("span.k-icon").first(),h[0]||(h=a('<span class="k-icon"></span>').prependTo(c)),h.addClass("k-i-"+e)):f?(h=c.children("span.k-sprite").first(),h[0]||(h=a('<span class="k-sprite"></span>').prependTo(c)),h.addClass(f)):g&&(k=c.children("img.k-image").first(),k[0]||(k=a('<img alt="icon" class="k-image" />').prependTo(c)),k.attr("src",g))},enable:function(a){var c=this,d=c.element;a===b&&(a=!0),a=!!a,c.options.enable=a,d.toggleClass(m,!a).attr("aria-disabled",!a).attr(l,!a)}});c.ui.plugin(p)}(window.kendo.jQuery),kendo_module({id:"pager",name:"Pager",category:"framework",depends:["data"],advanced:!0}),function(a,b){function q(a,b,d,e){return a({idx:b,text:d,ns:c.ns,numeric:e})}function r(a,b,c){return p({className:a.substring(1),text:b,wrapClassName:c||""})}function s(a,b,d,e){a.find(b).parent().attr(c.attr("page"),d).attr("tabindex",-1).toggleClass("k-state-disabled",e)}function t(a,b){s(a,g,1,1>=b)}function u(a,b){s(a,i,Math.max(1,b-1),1>=b)}function v(a,b,c){s(a,j,Math.min(c,b+1),b>=c)}function w(a,b,c){s(a,h,c,b>=c)}var c=window.kendo,d=c.ui,e=d.Widget,f=a.proxy,g=".k-i-seek-w",h=".k-i-seek-e",i=".k-i-arrow-w",j=".k-i-arrow-e",k="change",l=".kendoPager",m="click",n="keydown",o="disabled",p=c.template('<a href="\\#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #">#=text#</span></a>'),x=e.extend({init:function(b,d){var p,q,o=this;e.fn.init.call(o,b,d),d=o.options,o.dataSource=c.data.DataSource.create(d.dataSource),o.linkTemplate=c.template(o.options.linkTemplate),o.selectTemplate=c.template(o.options.selectTemplate),p=o.page(),q=o.totalPages(),o._refreshHandler=f(o.refresh,o),o.dataSource.bind(k,o._refreshHandler),d.previousNext&&(o.element.find(g).length||(o.element.append(r(g,d.messages.first,"k-pager-first")),t(o.element,p,q)),o.element.find(i).length||(o.element.append(r(i,d.messages.previous)),u(o.element,p,q))),d.numeric&&(o.list=o.element.find(".k-pager-numbers"),o.list.length||(o.list=a('<ul class="k-pager-numbers k-reset" />').appendTo(o.element))),d.input&&(o.element.find(".k-pager-input").length||o.element.append('<span class="k-pager-input k-label">'+d.messages.page+'<input class="k-textbox">'+c.format(d.messages.of,q)+"</span>"),o.element.on(n+l,".k-pager-input input",f(o._keydown,o))),d.previousNext&&(o.element.find(j).length||(o.element.append(r(j,d.messages.next)),v(o.element,p,q)),o.element.find(h).length||(o.element.append(r(h,d.messages.last,"k-pager-last")),w(o.element,p,q))),d.pageSizes&&(o.element.find(".k-pager-sizes").length||a('<span class="k-pager-sizes k-label"><select/>'+d.messages.itemsPerPage+"</span>").appendTo(o.element).find("select").html(a.map(a.isArray(d.pageSizes)?d.pageSizes:[5,10,20],function(a){return"<option>"+a+"</option>"}).join("")).end().appendTo(o.element),o.element.find(".k-pager-sizes select").val(o.pageSize()),c.ui.DropDownList&&o.element.find(".k-pager-sizes select").show().kendoDropDownList(),o.element.on(k+l,".k-pager-sizes select",f(o._change,o))),d.refresh&&(o.element.find(".k-pager-refresh").length||o.element.append('<a href="#" class="k-pager-refresh k-link" title="'+d.messages.refresh+'"><span class="k-icon k-i-refresh">'+d.messages.refresh+"</span></a>"),o.element.on(m+l,".k-pager-refresh",f(o._refreshClick,o))),d.info&&(o.element.find(".k-pager-info").length||o.element.append('<span class="k-pager-info k-label" />')),o.element.on(m+l,"a",f(o._click,o)).addClass("k-pager-wrap k-widget"),d.autoBind&&o.refresh(),c.notify(o)},destroy:function(){var a=this;e.fn.destroy.call(a),a.element.off(l),a.dataSource.unbind(k,a._refreshHandler)},events:[k],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#">#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh"}},setDataSource:function(a){var b=this;b.dataSource.unbind(k,b._refreshHandler),b.dataSource=b.options.dataSource=a,a.bind(k,b._refreshHandler),b.options.autoBind&&a.fetch()},refresh:function(a){var d,e,h,b=this,f=1,g="",i=b.page(),j=b.options,k=b.pageSize(),l=b.dataSource.total(),m=b.totalPages(),n=b.linkTemplate,p=j.buttonCount;if(!a||"itemchange"!=a.action){if(j.numeric){for(i>p&&(h=i%p,f=0===h?i-p+1:i-h+1),e=Math.min(f+p-1,m),f>1&&(g+=q(n,f-1,"...",!1)),d=f;e>=d;d++)g+=q(d==i?b.selectTemplate:n,d,d,!0);m>e&&(g+=q(n,d,"...",!1)),""===g&&(g=b.selectTemplate({text:0})),b.list.html(g)}j.info&&(g=l>0?c.format(j.messages.display,(i-1)*k+1,Math.min(i*k,l),l):j.messages.empty,b.element.find(".k-pager-info").html(g)),j.input&&b.element.find(".k-pager-input").html(b.options.messages.page+'<input class="k-textbox">'+c.format(j.messages.of,m)).find("input").val(i).attr(o,1>l).toggleClass("k-state-disabled",1>l),j.previousNext&&(t(b.element,i,m),u(b.element,i,m),v(b.element,i,m),w(b.element,i,m)),j.pageSizes&&b.element.find(".k-pager-sizes select").val(k).filter("["+c.attr("role")+"=dropdownlist]").kendoDropDownList("value",k).kendoDropDownList("text",k)}},_keydown:function(a){if(a.keyCode===c.keys.ENTER){var b=this.element.find(".k-pager-input").find("input"),d=parseInt(b.val(),10);(isNaN(d)||1>d||d>this.totalPages())&&(d=this.page()),b.val(d),this.page(d)}},_refreshClick:function(a){a.preventDefault(),this.dataSource.read()},_change:function(a){var b=parseInt(a.currentTarget.value,10);isNaN(b)||this.dataSource.pageSize(b)},_click:function(b){var d=a(b.currentTarget);b.preventDefault(),d.is(".k-state-disabled")||this.page(d.attr(c.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(a){return a===b?this.dataSource.total()>0?this.dataSource.page():0:(this.dataSource.page(a),this.trigger(k,{index:a}),void 0)}});d.plugin(x)}(window.kendo.jQuery),kendo_module({id:"popup",name:"Pop-up",category:"framework",depends:["core"],advanced:!0}),function(a){function L(b,c){return b===c||a.contains(b,c)}var c=window.kendo,d=c.ui,e=d.Widget,f=c.support,g=c.getOffset,h=c._activeElement,i="open",j="close",k="deactivate",l="activate",m="center",n="left",o="right",p="top",q="bottom",r="absolute",s="hidden",t="body",u="location",v="position",w="visible",x="effects",y="k-state-active",z="k-state-border",A=/k-state-border-(\w+)/,B=".k-picker-wrap, .k-dropdown-wrap, .k-link",C="down",D=a(window),E=a(document.documentElement),F="resize scroll",G=f.transitions.css,H=G+"transform",I=a.extend,J=".kendoPopup",K=["font-family","font-size","font-stretch","font-style","font-weight","line-height"],M=e.extend({init:function(b,d){var g,f=this;d=d||{},d.isRtl&&(d.origin=d.origin||q+" "+o,d.position=d.position||p+" "+o),e.fn.init.call(f,b,d),b=f.element,d=f.options,f.collisions=d.collision?d.collision.split(" "):[],1===f.collisions.length&&f.collisions.push(f.collisions[0]),g=a(f.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),d.appendTo=a(a(d.appendTo)[0]||g[0]||t),f.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!d.isRtl).css({position:r}).appendTo(d.appendTo).on("mouseenter"+J,function(){f._hovered=!0}).on("mouseleave"+J,function(){f._hovered=!1}),f.wrapper=a(),d.animation===!1&&(d.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),I(d.animation.open,{complete:function(){f.wrapper.css({overflow:w}),f.trigger(l)}}),I(d.animation.close,{complete:function(){f.wrapper.hide();var h,i,e=f.wrapper.data(u),g=a(d.anchor);e&&f.wrapper.css(e),d.anchor!=t&&(h=(g[0].className.match(A)||["","down"])[1],i=z+"-"+h,g.removeClass(i).children(B).removeClass(y).removeClass(i),b.removeClass(z+"-"+c.directions[h].reverse)),f._closing=!1,f.trigger(k)}}),f._mousedownProxy=function(a){f._mousedown(a)},f._resizeProxy=function(a){f._resize(a)},d.toggleTarget&&a(d.toggleTarget).on(d.toggleEvent+J,a.proxy(f.toggle,f))},events:[i,l,j,k],options:{name:"Popup",toggleEvent:"click",origin:q+" "+n,position:p+" "+n,anchor:t,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},destroy:function(){var g,b=this,d=b.options,f=b.element.off(J);e.fn.destroy.call(b),d.toggleTarget&&a(d.toggleTarget).off(J),d.modal||(E.unbind(C,b._mousedownProxy),D.unbind(F,b._resizeProxy)),d.appendTo[0]===document.body&&(g=f.parent(".k-animation-container"),g[0]?g.remove():f.remove()),c.destroy(b.element.children())},open:function(b,d){var l,m,e=this,g={isFixed:!isNaN(parseInt(d,10)),x:b,y:d},h=e.element,j=e.options,k="down",n=a(j.anchor);if(!e.visible()){if(j.copyAnchorStyles&&h.css(c.getComputedStyles(n[0],K)),h.data("animating")||e.trigger(i))return;if(j.modal||(E.unbind(C,e._mousedownProxy).bind(C,e._mousedownProxy),f.mobileOS.ios||f.mobileOS.android||D.unbind(F,e._resizeProxy).bind(F,e._resizeProxy)),e.wrapper=m=c.wrap(h,j.autosize).css({overflow:s,display:"block",position:r}),f.mobileOS.android&&m.add(n).css(H,"translatez(0)"),m.css(v),a(j.appendTo)[0]==document.body&&m.css(p,"-10000px"),l=I(!0,{},j.animation.open),e.flipped=e._position(g),l.effects=c.parseEffects(l.effects,e.flipped),k=l.effects.slideIn?l.effects.slideIn.direction:k,j.anchor!=t){var o=z+"-"+k;h.addClass(z+"-"+c.directions[k].reverse),n.addClass(o).children(B).addClass(y).addClass(o)}h.data(x,l.effects).kendoStop(!0).kendoAnimate(l)}},toggle:function(){var a=this;a[a.visible()?j:i]()},visible:function(){return this.element.is(":"+w)},close:function(){var e,f,g,h,b=this,d=b.options;if(b.visible()){if(e=b.wrapper[0]?b.wrapper:c.wrap(b.element).hide(),b._closing||b.trigger(j))return;b.element.find(".k-popup").each(function(){var b=a(this),c=b.data("kendoPopup");c&&c.close()}),E.unbind(C,b._mousedownProxy),D.unbind(F,b._resizeProxy),f=I(!0,{},d.animation.close),g=b.element.data(x),h=f.effects,!h&&!c.size(h)&&g&&c.size(g)&&(f.effects=g,f.reverse=!0),b._closing=!0,b.element.kendoStop(!0),e.css({overflow:s}),b.element.kendoAnimate(f)}},_resize:function(a){var b=this;"resize"===a.type?(clearTimeout(b._resizeTimeout),b._resizeTimeout=setTimeout(function(){b._position(),b._resizeTimeout=null},50)):b._hovered||L(b.element[0],h())||b.close()},_mousedown:function(b){var d=this,e=d.element[0],f=d.options,g=a(f.anchor)[0],h=f.toggleTarget,i=c.eventTarget(b),j=a(i).closest(".k-popup"),k=j.parent().parent(".km-shim").length;j=j[0],(k||!j||j===d.element[0])&&"popover"!==a(b.target).closest("a").data("rel")&&(L(e,i)||L(g,i)||h&&L(a(h)[0],i)||d.close())},_fit:function(a,b,c){var d=0;return a+b>c&&(d=c-(a+b)),0>a&&(d=-a),d},_flip:function(a,b,c,d,e,f,g){var h=0;return g=g||b,f!==e&&f!==m&&e!==m&&(a+g>d&&(h+=-(c+b)),0>a+h&&(h+=c+b)),h},_position:function(b){var p,q,s,x,c=this,d=c.element.css(v,""),e=c.wrapper,h=c.options,i=a(h.viewport),j=a(i).offset(),k=a(h.anchor),l=h.origin.toLowerCase().split(" "),m=h.position.toLowerCase().split(" "),n=c.collisions,o=f.zoomLevel(),t=10002,w=0;if(p=k.parents().filter(e.siblings()),p[0])if(s=Number(a(p).css("zIndex")))t=s+1;else for(q=k.parentsUntil(p),x=q.length;x>w;w++)s=Number(a(q[w]).css("zIndex")),s&&s>t&&(t=s+1);e.css("zIndex",t),b&&b.isFixed?e.css({left:b.x,top:b.y}):e.css(c._align(l,m));var y=g(e,v,k[0]===e.offsetParent()[0]),z=g(e),A=k.offsetParent().parent(".k-animation-container,.k-popup,.k-group");A.length&&(y=g(e,v,!0),z=g(e)),i[0]===window?(z.top-=window.pageYOffset||document.documentElement.scrollTop||0,z.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(z.top-=j.top,z.left-=j.left),c.wrapper.data(u)||e.data(u,I({},y));var B=I({},z),C=I({},y);"fit"===n[0]&&(C.top+=c._fit(B.top,e.outerHeight(),i.height()/o)),"fit"===n[1]&&(C.left+=c._fit(B.left,e.outerWidth(),i.width()/o));var D=I({},C);return"flip"===n[0]&&(C.top+=c._flip(B.top,d.outerHeight(),k.outerHeight(),i.height()/o,l[0],m[0],e.outerHeight())),"flip"===n[1]&&(C.left+=c._flip(B.left,d.outerWidth(),k.outerWidth(),i.width()/o,l[1],m[1],e.outerWidth())),d.css(v,r),e.css(C),C.left!=D.left||C.top!=D.top},_align:function(b,c){var p,d=this,e=d.wrapper,f=a(d.options.anchor),h=b[0],i=b[1],j=c[0],k=c[1],l=g(f),n=a(d.options.appendTo),r=e.outerWidth(),s=e.outerHeight(),t=f.outerWidth(),u=f.outerHeight(),v=l.top,w=l.left,x=Math.round;return n[0]!=document.body&&(p=g(n),v-=p.top,w-=p.left),h===q&&(v+=u),h===m&&(v+=x(u/2)),j===q&&(v-=s),j===m&&(v-=x(s/2)),i===o&&(w+=t),i===m&&(w+=x(t/2)),k===o&&(w-=r),k===m&&(w-=x(r/2)),{top:v,left:w}}});d.plugin(M)}(window.kendo.jQuery),kendo_module({id:"tooltip",name:"Tooltip",category:"web",description:"The Tooltip widget displays a popup hint for a given html element.",depends:["core","popup"]}),function(a){function B(a){for(;a.length;)C(a),a=a.parent()}function C(a){var b=a.data(c.ns+"title");b&&(a.attr("title",b),a.removeData(c.ns+"title"))}function D(a){var b=a.attr("title");b&&(a.data(c.ns+"title",b),a.attr("title",""))}function E(a){for(;a.length&&!a.is("body");)D(a),a=a.parent()}var c=window.kendo,d=c.ui.Widget,e=c.ui.Popup,f=c.isFunction,g=a.isPlainObject,h=a.extend,i=a.proxy,j=a(document),k=c.isLocalUrl,l="_tt_active",m="aria-describedby",n="show",o="hide",p="error",q="contentLoad",r="requestStart",s="k-content-frame",t='<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div> #}#<div class="k-tooltip-content"></div>#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#</div>',u=c.template("<iframe frameborder='0' class='"+s+"' "+"src='#= content.url #'>"+"This page requires frames in order to show content"+"</iframe>"),v=".kendoTooltip",w={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},x={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},y={bottom:"n",top:"s",left:"e",right:"w",center:"n"},z={horizontal:{offset:"top",size:"outerHeight"},vertical:{offset:"left",size:"outerWidth"}},A=function(a){return a.target.data(c.ns+"title")},F=d.extend({init:function(a,b){var e,c=this;d.fn.init.call(c,a,b),e=c.options.position.match(/left|right/)?"horizontal":"vertical",c.dimensions=z[e],c._documentKeyDownHandler=i(c._documentKeyDown,c),c.element.on(c.options.showOn+v,c.options.filter,i(c._showOn,c)).on("mouseenter"+v,c.options.filter,i(c._mouseenter,c)),this.options.autoHide&&c.element.on("mouseleave"+v,c.options.filter,i(c._mouseleave,c))},options:{name:"Tooltip",filter:"",content:A,showAfter:100,callout:!0,position:"bottom",showOn:"mouseenter",autoHide:!0,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:40,hide:!0}}},events:[n,o,q,p,r],_mouseenter:function(b){E(a(b.currentTarget))},_showOn:function(b){var c=this,d=a(b.currentTarget);c.options.showOn&&c.options.showOn.match(/click|focus/)?c._show(d):(clearTimeout(c.timeout),c.timeout=setTimeout(function(){c._show(d)},c.options.showAfter))},_appendContent:function(a){var i,b=this,d=b.options.content,e=b.content,h=b.options.iframe;g(d)&&d.url?("iframe"in b.options||(h=!k(d.url)),b.trigger(r,{options:d,target:a}),h?(e.hide(),i=e.find("."+s)[0],i?i.src=d.url||i.src:e.html(u({content:d})),e.find("."+s).off("load"+v).on("load"+v,function(){b.trigger(q),e.show()})):(e.empty(),c.ui.progress(e,!0),b._ajaxRequest(d))):d&&f(d)?(d=d({sender:this,target:a}),b.content.html(d||"")):b.content.html(d)},_ajaxRequest:function(a){var b=this;jQuery.ajax(h({type:"GET",dataType:"html",cache:!1,error:function(a,d){c.ui.progress(b.content,!1),b.trigger(p,{status:d,xhr:a})},success:i(function(a){c.ui.progress(b.content,!1),b.content.html(a),b.trigger(q)},b)},a))},_documentKeyDown:function(a){a.keyCode===c.keys.ESC&&this.hide()},refresh:function(){var a=this,b=a.popup;b&&b.options.anchor&&a._appendContent(b.options.anchor)},hide:function(){this.popup&&this.popup.close()},show:function(a){a=a||this.element,E(a),this._show(a)},_show:function(a){var b=this,c=b.target();b.popup||b._initPopup(),c&&c[0]!=a[0]&&(b.popup.close(),b.popup.element.kendoStop(!0,!0)),c&&c[0]==a[0]||(b._appendContent(a),b.popup.options.anchor=a),b.popup.one("deactivate",function(){B(a),a.removeAttr(m),this.element.removeAttr("id").attr("aria-hidden",!0),j.off("keydown"+v,b._documentKeyDownHandler)}),b.popup.open()},_initPopup:function(){var b=this,d=b.options,f=a(c.template(t)({callout:d.callout&&"center"!==d.position,dir:y[d.position],autoHide:d.autoHide}));
b.popup=new e(f,h({activate:function(){var a=this.options.anchor,c=a[0].id||b.element[0].id;c&&(a.attr(m,c+l),this.element.attr("id",c+l)),d.callout&&b._positionCallout(),this.element.removeAttr("aria-hidden"),j.on("keydown"+v,b._documentKeyDownHandler),b.trigger(n)},close:function(){b.trigger(o)},copyAnchorStyles:!1,animation:d.animation},w[d.position])),f.css({width:d.width,height:d.height}),b.content=f.find(".k-tooltip-content"),b.arrow=f.find(".k-callout"),d.autoHide?f.on("mouseleave"+v,i(b._mouseleave,b)):f.on("click"+v,".k-tooltip-button",i(b._closeButtonClick,b))},_closeButtonClick:function(a){a.preventDefault(),this.hide()},_mouseleave:function(b){if(this.popup){var c=a(b.currentTarget),d=c.offset(),e=b.pageX,f=b.pageY;if(d.right=d.left+c.outerWidth(),d.bottom=d.top+c.outerHeight(),e>d.left&&e<d.right&&f>d.top&&f<d.bottom)return;this.popup.close()}else B(a(b.currentTarget));clearTimeout(this.timeout)},_positionCallout:function(){var b=this,c=b.options.position,d=b.dimensions,e=d.offset,f=b.popup,g=f.options.anchor,h=a(g).offset(),i=parseInt(b.arrow.css("border-top-width"),10),j=a(f.element).offset(),k=y[f.flipped?x[c]:c],l=h[e]-j[e]+a(g)[d.size]()/2-i;b.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+k).css(e,l)},target:function(){return this.popup?this.popup.options.anchor:null},destroy:function(){var a=this.popup;a&&(a.element.off(v),a.destroy()),this.element.off(v),j.off("keydown"+v,this._documentKeyDownHandler),d.fn.destroy.call(this)}});c.ui.plugin(F)}(window.kendo.jQuery),kendo_module({id:"list",name:"List",category:"framework",depends:["data","popup"],hidden:!0}),function(a,b){function E(b,c){b.filters&&(b.filters=a.grep(b.filters,function(a){return E(a,c),a.filters?a.filters.length:a.field!=c}))}var c=window.kendo,d=c.ui,e=d.Widget,f=c.keys,g=c.support,h=c.htmlEncode,i=c._activeElement,j="id",k="li",l="change",m="character",n="k-state-focused",o="k-state-hover",p="k-loading",q="open",r="close",s="select",t="selected",u="progress",v="requestEnd",w="width",x=a.extend,y=a.proxy,z=g.browser,A=z.msie&&z.version<9,B=/"/g,C={ComboBox:"DropDownList",DropDownList:"ComboBox"},D=e.extend({init:function(b,c){var h,d=this,f=d.ns;e.fn.init.call(d,b,c),b=d.element,d._isSelect=b.is(s),d._template(),d.ul=a('<ul unselectable="on" class="k-list k-reset"/>').css({overflow:g.kineticScrollNeeded?"":"auto"}).on("mouseenter"+f,k,function(){a(this).addClass(o)}).on("mouseleave"+f,k,function(){a(this).removeClass(o)}).on("click"+f,k,y(d._click,d)).attr({tabIndex:-1,role:"listbox","aria-hidden":!0}),d.list=a("<div class='k-list-container'/>").append(d.ul).on("mousedown"+f,function(a){a.preventDefault()}),h=b.attr(j),h&&(d.list.attr(j,h+"-list"),d.ul.attr(j,h+"_listbox"),d._optionID=h+"_option_selected"),d._header(),d._accessors(),d._initValue()},options:{valuePrimitive:!1,headerTemplate:""},setOptions:function(a){e.fn.setOptions.call(this,a),a&&a.enable!==b&&(a.enabled=a.enable)},focus:function(){this._focused.focus()},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},_filterSource:function(a){var b=this,c=b.options,d=b.dataSource,e=d.filter()||{};E(e,c.dataTextField),a&&(e=e.filters||[],e.push(a)),d.filter(e)},_header:function(){var c,b=this.options.headerTemplate;a.isFunction(b)&&(b=b()),b&&(this.list.prepend(b),c=this.ul.prev(),this.header=c[0]?c:null)},_initValue:function(){var a=this,b=a.options.value;null!==b?a.element.val(b):(b=a._accessor(),a.options.value=b),a._old=b},_ignoreCase:function(){var c,a=this,b=a.dataSource.reader.model;b&&b.fields&&(c=b.fields[a.options.dataTextField],c&&c.type&&"string"!==c.type&&(a.options.ignoreCase=!1))},items:function(){return this.ul[0].children},current:function(a){var c=this,d=c._optionID;return a===b?c._current:(c._current&&(c._current.removeClass(n).removeAttr("aria-selected").removeAttr(j),c._focused.removeAttr("aria-activedescendant")),a&&(a.addClass(n),c._scroll(a),d&&(a.attr("id",d),c._focused.attr("aria-activedescendant",d))),c._current=a,void 0)},destroy:function(){var a=this,b=a.ns;e.fn.destroy.call(a),a._unbindDataSource(),a.ul.off(b),a.list.off(b),a.popup.destroy(),a._form&&a._form.off("reset",a._resetHandler)},dataItem:function(a){var c=this;return a===b&&(a=c.selectedIndex),c._data()[a]},_accessors:function(){var a=this,b=a.element,d=a.options,e=c.getter,f=b.attr(c.attr("text-field")),g=b.attr(c.attr("value-field"));f&&(d.dataTextField=f),g&&(d.dataValueField=g),a._text=e(d.dataTextField),a._value=e(d.dataValueField)},_aria:function(a){var c=this,d=c.options,e=c._focused;d.suggest!==b&&e.attr("aria-autocomplete",d.suggest?"both":"list"),a=a?a+" "+c.ul[0].id:c.ul[0].id,e.attr("aria-owns",a),c.ul.attr("aria-live",d.filter&&"none"!==d.filter?"polite":"off")},_blur:function(){var a=this;a._change(),a.close()},_change:function(){var f,a=this,c=a.selectedIndex,d=a.options.value,e=a.value();a._isSelect&&!a._bound&&d&&(e=d),e!==a._old?f=!0:c!==b&&c!==a._oldIndex&&(f=!0),f&&(a._old=e,a._oldIndex=c,a.trigger(l),a.element.trigger(l))},_click:function(b){b.isDefaultPrevented()||this._accept(a(b.currentTarget))},_data:function(){return this.dataSource.view()},_enable:function(){var a=this,c=a.options,d=a.element.is("[disabled]");c.enable!==b&&(c.enabled=c.enable),!c.enabled||d?a.enable(!1):a.readonly(a.element.is("[readonly]"))},_focus:function(a){var b=this;return b.popup.visible()&&a&&b.trigger(s,{item:a})?(b.close(),void 0):(b._select(a),b._triggerCascade(),b._blur(),void 0)},_index:function(a){var c,d,b=this,e=b._data();for(c=0,d=e.length;d>c;c++)if(b._dataValue(e[c])==a)return c;return-1},_dataValue:function(a){var c=this._value(a);return c===b&&(c=this._text(a)),c},_height:function(a){if(a){var b=this,c=b.list,d=b.popup.visible(),e=b.options.height;c=c.add(c.parent(".k-animation-container")).show().height(b.ul[0].scrollHeight>e?e:"auto"),d||c.hide()}},_adjustListWidth:function(){var d,e,a=this.list,b=a[0].style.width,c=this.wrapper;if(a.data(w)||!b)return d=window.getComputedStyle?window.getComputedStyle(c[0],null):0,e=d?parseFloat(d.width):c.outerWidth(),d&&(z.mozilla||z.msie)&&(e+=parseFloat(d.paddingLeft)+parseFloat(d.paddingRight)+parseFloat(d.borderLeftWidth)+parseFloat(d.borderRightWidth)),b="border-box"!==a.css("box-sizing")?e-(a.outerWidth()-a.width()):e,a.css({fontFamily:c.css("font-family"),width:b}).data(w,b),!0},_popup:function(){var a=this,b=a.list,e=a._focused,f=a.options,h=a.wrapper;a.popup=new d.Popup(b,x({},f.popup,{anchor:h,open:function(b){a._adjustListWidth(),a.trigger(q)?b.preventDefault():(e.attr("aria-expanded",!0),a.ul.attr("aria-hidden",!1))},close:function(b){a.trigger(r)?b.preventDefault():(e.attr("aria-expanded",!1),a.ul.attr("aria-hidden",!0))},animation:f.animation,isRtl:g.isRtl(h)})),a.popup.one(q,function(){a._height(a._data().length)}),a._touchScroller=c.touchScroller(a.popup.element)},_makeUnselectable:function(){A&&this.list.find("*").attr("unselectable","on")},_toggleHover:function(b){a(b.currentTarget).toggleClass(o,"mouseenter"===b.type)},_toggle:function(a){var c=this;a=a!==b?a:!c.popup.visible(),g.touch||c._focused[0]===i()||c._focused.focus(),c[a?q:r]()},_scroll:function(a){if(a){a[0]&&(a=a[0]);var i,j,b=this.ul[0],c=a.offsetTop,d=a.offsetHeight,e=b.scrollTop,f=b.clientHeight,g=c+d,h=this._touchScroller;h?(i=h.dimensions.y,i.enabled&&c>i.size&&(c=c-i.size+d+4,h.scrollTo(0,-c))):(j=this.header?this.header.outerHeight():0,b.scrollTop=e>c?c-j:g>e+f?g-f-j:e)}},_template:function(){var a=this,b=a.options,d=b.template,e=b.dataSource;a._isSelect&&a.element[0].length&&(e||(b.dataTextField=b.dataTextField||"text",b.dataValueField=b.dataValueField||"value")),d?(d=c.template(d),a.template=function(a){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+d(a)+"</li>"}):a.template=c.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+c.expr(b.dataTextField,"data")+"}</li>",{useWithBlock:!1})},_triggerCascade:function(){var a=this,b=a.value();(!a._bound&&b||a._old!==b)&&a.trigger("cascade")},_unbindDataSource:function(){var a=this;a.dataSource.unbind(l,a._refreshHandler).unbind(u,a._progressHandler).unbind(v,a._requestEndHandler).unbind("error",a._errorHandler)}});x(D,{caret:function(a){var b,c=a.ownerDocument.selection;return b=c?Math.abs(c.createRange().moveStart(m,-a.value.length)):a.selectionStart},selectText:function(a,b,c){try{if(a.createTextRange){a.focus();var d=a.createTextRange();d.collapse(!0),d.moveStart(m,b),d.moveEnd(m,c-b),d.select()}else a.setSelectionRange(b,c)}catch(e){}},inArray:function(a,b){var c,d,e=b.children;if(!a||a.parentNode!==b)return-1;for(c=0,d=e.length;d>c;c++)if(a===e[c])return c;return-1}}),c.ui.List=D,d.Select=D.extend({init:function(a,b){D.fn.init.call(this,a,b),this._initial=this.element.val()},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this._bound=!1,this.options.autoBind&&this.dataSource.fetch()},close:function(){this.popup.close()},select:function(a){var c=this;return a===b?c.selectedIndex:(c._select(a),c._triggerCascade(),c._old=c._accessor(),c._oldIndex=c.selectedIndex,void 0)},_accessor:function(a,c){var g,d=this.element[0],e=this._isSelect,f=d.selectedIndex;return a===b?(e?f>-1&&(g=d.options[f],g&&(a=g.value)):a=d.value,a):(e?(f>-1&&d.options[f].removeAttribute(t),d.selectedIndex=c,g=d.options[c],g&&g.setAttribute(t,t)):d.value=a,void 0)},_hideBusy:function(){var a=this;clearTimeout(a._busy),a._arrow.removeClass(p),a._focused.attr("aria-busy",!1),a._busy=null},_showBusy:function(){var a=this;a._request=!0,a._busy||(a._busy=setTimeout(function(){a._focused.attr("aria-busy",!0),a._arrow.addClass(p)},100))},_requestEnd:function(){this._request=!1},_dataSource:function(){var g,b=this,d=b.element,e=b.options,f=e.dataSource||{};f=a.isArray(f)?{data:f}:f,b._isSelect&&(g=d[0].selectedIndex,g>-1&&(e.index=g),f.select=d,f.fields=[{field:e.dataTextField},{field:e.dataValueField}]),b.dataSource&&b._refreshHandler?b._unbindDataSource():(b._refreshHandler=y(b.refresh,b),b._progressHandler=y(b._showBusy,b),b._requestEndHandler=y(b._requestEnd,b),b._errorHandler=y(b._hideBusy,b)),b.dataSource=c.data.DataSource.create(f).bind(l,b._refreshHandler).bind(u,b._progressHandler).bind(v,b._requestEndHandler).bind("error",b._errorHandler)},_get:function(b){var e,f,c=this,d=c._data();if("function"==typeof b)for(e=0,f=d.length;f>e;e++)if(b(d[e])){b=e;break}if("number"==typeof b){if(0>b)return a();b=a(c.ul[0].children[b])}return b&&b.nodeType&&(b=a(b)),b},_move:function(a){var i,j,b=this,c=a.keyCode,d=b.ul[0],e=b.popup.visible()?"_select":"_accept",g=b._current,h=c===f.DOWN;if(c===f.UP||h){if(a.altKey)b.toggle(h);else{if(i=d.firstChild,!i&&!b._accessor()&&"filter"!==b._state)return b._fetch||(b.dataSource.one(l,function(){b._move(a),b._fetch=!1}),b._fetch=!0,b._filterSource()),a.preventDefault(),!0;h?(!g||-1===b.selectedIndex&&!b.value()&&g[0]===i?g=i:(g=g[0].nextSibling,g||i!==d.lastChild||(g=i)),b[e](g)):(g=g?g[0].previousSibling:d.lastChild,g||i!==d.lastChild||(g=i),b[e](g))}a.preventDefault(),j=!0}else c===f.ENTER||c===f.TAB?(b.popup.visible()&&a.preventDefault(),b._accept(g),j=!0):c===f.ESC&&(b.popup.visible()&&a.preventDefault(),b.close(),j=!0);return j},_selectItem:function(){var d,e,a=this,b=a.options,c=a.selectedIndex;d=a._isSelect&&!a._initial&&!b.value&&b.index&&!a._bound,d||(e=a._selectedValue||b.value||a._accessor()),e?a.value(e):(!a._bound||c>-1)&&(a._bound||(c=b.index),a.select(c))},_fetchItems:function(a){var b=this,c=b.ul[0].firstChild;return b._request?!0:b._fetch||c?void 0:b.options.cascadeFrom?!c:(b.dataSource.one(l,function(){b.value(a),b._fetch=!1}),b._fetch=!0,b.dataSource.fetch(),!0)},_options:function(c,d){var k,l,m,n,e=this,f=e.element,g=f[0].selectedIndex,i=c.length,j="",o=0;for(d&&(o=1,j=d,-1===d.indexOf(a(f[0].firstChild).text())&&(g+=1));i>o;o++)k="<option",l=c[o],m=e._text(l),n=e._value(l),n!==b&&(n+="",-1!==n.indexOf('"')&&(n=n.replace(B,"&quot;")),k+=' value="'+n+'"'),k+=">",m!==b&&(k+=h(m)),k+="</option>",j+=k;f.html(j),f[0].selectedIndex=-1===g?0:g},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){setTimeout(function(){b.value(b._initial)})},b._form=e.on("reset",b._resetHandler))},_cascade:function(){var e,f,g,h,i,b=this,c=b.options,d=c.cascadeFrom;if(d){if(b._selectedValue=c.value||b._accessor(),f=a("#"+d),e=f.data("kendo"+c.name),e||(e=f.data("kendo"+C[c.name])),!e)return;c.autoBind=!1,h=c.cascadeFromField||e.options.dataValueField,i=function(){var a=b._selectedValue||b.value();a?(b.value(a),b.dataSource.view()[0]&&-1!==b.selectedIndex||b._clearSelection(e,!0)):b.select(c.index),b.enable(),b._triggerCascade()},g=function(){var d,f,a=e.dataItem(),c=a?e._value(a):null;c||0===c?(d=b.dataSource.filter()||{},E(d,h),f=d.filters||[],f.push({field:h,operator:"eq",value:c}),b.dataSource.one(l,i).filter(f)):(b.enable(!1),b._clearSelection(e),b._triggerCascade())},e.bind("cascade",function(){g()}),e._bound?g():e.value()||b.enable(!1)}}})}(window.kendo.jQuery),kendo_module({id:"calendar",name:"Calendar",category:"web",description:"The Calendar widget renders a graphical calendar that supports navigation and selection.",depends:["core"]}),function(a,b){function bb(a,b,c,d){var h,e=a.getFullYear(),f=b.getFullYear(),g=c.getFullYear();return e-=e%d,h=e+(d-1),f>e&&(e=f),h>g&&(h=g),e+"-"+h}function cb(a){for(var c,b=0,d=a.min,e=a.max,f=a.start,g=a.setter,h=a.build,i=a.cells||12,j=a.perRow||4,k=a.content||o,l=a.empty||p,m=a.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';i>b;b++)b>0&&0===b%j&&(m+='</tr><tr role="row">'),c=h(f,b),m+=gb(f,d,e)?k(c):l(c),g(f,1);return m+"</tr></tbody></table>"}function db(a,b,c){var d=a.getFullYear(),e=b.getFullYear(),f=e,g=0;return c&&(e-=e%c,f=e-e%c+c-1),d>f?g=1:e>d&&(g=-1),g}function eb(){var a=new Z;return new Z(a.getFullYear(),a.getMonth(),a.getDate())}function fb(a,b,c){var d=eb();return a&&(d=new Z(+a)),b>d?d=new Z(+b):d>c&&(d=new Z(+c)),d}function gb(a,b,c){return+a>=+b&&+c>=+a}function hb(a,b){return a.slice(b).concat(a.slice(0,b))}function ib(a,b,c){b=b instanceof Z?b.getFullYear():a.getFullYear()+c*b,a.setFullYear(b)}function jb(b){a(this).toggleClass(E,O.indexOf(b.type)>-1||b.type==M)}function kb(a){a.preventDefault()}function lb(a){return l(a).calendars.standard}function mb(a){var c=$[a.start],d=$[a.depth],e=l(a.culture);a.format=j(a.format||e.calendars.standard.patterns.d),isNaN(c)&&(c=0,a.start=z),(d===b||d>c)&&(a.depth=z),a.dates||(a.dates=[])}function nb(a){r&&a.find("*").attr("unselectable","on")}function ob(a,b){for(var c=0,d=b.length;d>c;c++)if(a===+b[c])return!0;return!1}function pb(a,b){return a?a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate():!1}function qb(a,b){return a?a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth():!1}var c=window.kendo,d=c.support,e=c.ui,f=e.Widget,g=c.keys,h=c.parseDate,i=c.date.adjustDST,j=c._extractFormat,k=c.template,l=c.getCulture,m=c.support.transitions,n=m?m.css+"transform-origin":"",o=k('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),p=k('<td role="gridcell">&nbsp;</td>',{useWithBlock:!1}),q=c.support.browser,r=q.msie&&q.version<9,s=".kendoCalendar",t="click"+s,u="keydown"+s,v="id",w="min",x="left",y="slideIn",z="month",A="century",B="change",C="navigate",D="value",E="k-state-hover",F="k-state-disabled",G="k-state-focused",H="k-other-month",I=' class="'+H+'"',J="k-nav-today",K="td:has(.k-link)",L="blur"+s,M="focus",N=M+s,O=d.touch?"touchstart":"mouseenter",P=d.touch?"touchstart"+s:"mouseenter"+s,Q=d.touch?"touchend"+s+" touchmove"+s:"mouseleave"+s,R=6e4,S=864e5,T="_prevArrow",U="_nextArrow",V="aria-disabled",W="aria-selected",X=a.proxy,Y=a.extend,Z=Date,$={month:0,year:1,decade:2,century:3},_=f.extend({init:function(b,d){var g,i,e=this;f.fn.init.call(e,b,d),b=e.wrapper=e.element,d=e.options,d.url=window.unescape(d.url),e._templates(),e._header(),e._footer(e.footer),i=b.addClass("k-widget k-calendar").on(P+" "+Q,K,jb).on(u,"table.k-content",X(e._move,e)).on(t,K,function(b){var c=b.currentTarget.firstChild;-1!=c.href.indexOf("#")&&b.preventDefault(),e._click(a(c))}).on("mouseup"+s,function(){e._focusView(e.options.focusOnNav!==!1)}).attr(v),i&&(e._cellID=i+"_cell_selected"),mb(d),g=h(d.value,d.format,d.culture),e._index=$[d.start],e._current=new Z(+fb(g,d.min,d.max)),e._addClassProxy=function(){e._active=!0,e._cell.addClass(G)},e._removeClassProxy=function(){e._active=!1,e._cell.removeClass(G)},e.value(g),c.notify(e)},options:{name:"Calendar",value:null,min:new Z(1900,0,1),max:new Z(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:z,depth:z,animation:{horizontal:{effects:y,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[B,C],setOptions:function(a){mb(a),f.fn.setOptions.call(this,a)},destroy:function(){var a=this,b=a._today;a.element.off(s),a._title.off(s),a[T].off(s),a[U].off(s),c.destroy(a._table),b&&c.destroy(b.off(s)),f.fn.destroy.call(a)},current:function(){return this._current},view:function(){return this._view},focus:function(a){a=a||this._table,this._bindTable(a),a.focus()},min:function(a){return this._option(w,a)},max:function(a){return this._option("max",a)},navigateToPast:function(){this._navigate(T,-1)},navigateToFuture:function(){this._navigate(U,1)},navigateUp:function(){var a=this,b=a._index;a._title.hasClass(F)||a.navigate(a._current,++b)},navigateDown:function(a){var b=this,c=b._index,d=b.options.depth;if(a)return c===$[d]?(+b._value!=+a&&(b.value(a),b.trigger(B)),void 0):(b.navigate(a,--c),void 0)},navigate:function(c,d){d=isNaN(d)?$[d]:d;var q,r,s,t,e=this,f=e.options,g=f.culture,h=f.min,i=f.max,j=e._title,k=e._table,l=e._oldTable,m=e._value,n=e._current,o=c&&+c>+n,p=d!==b&&d!==e._index;c||(c=n),e._current=c=new Z(+fb(c,h,i)),d===b?d=e._index:e._index=d,e._view=r=ab.views[d],s=r.compare,t=d===$[A],j.toggleClass(F,t).attr(V,t),t=s(c,h)<1,e[T].toggleClass(F,t).attr(V,t),t=s(c,i)>-1,e[U].toggleClass(F,t).attr(V,t),k&&l&&l.data("animating")&&(l.kendoStop(!0,!0),k.kendoStop(!0,!0)),e._oldTable=k,(!k||e._changeView)&&(j.html(r.title(c,h,i,g)),e._table=q=a(r.content(Y({min:h,max:i,date:c,url:f.url,dates:f.dates,format:f.format,culture:g},e[r.name]))),nb(q),e._animate({from:k,to:q,vertical:p,future:o}),e._focus(c),e.trigger(C)),d===$[f.depth]&&m&&e._class("k-state-selected",r.toDateString(m)),e._class(G,r.toDateString(c)),!k&&e._cell&&e._cell.removeClass(G),e._changeView=!0},value:function(a){var c=this,d=c._view,e=c.options,f=c._view,g=e.min,i=e.max;return a===b?c._value:(a=h(a,e.format,e.culture),null!==a&&(a=new Z(+a),gb(a,g,i)||(a=null)),c._value=a,f&&null===a&&c._cell?c._cell.removeClass("k-state-selected"):(c._changeView=!a||d&&0!==d.compare(a,c._current),c.navigate(a)),void 0)},_move:function(b){var l,m,n,o,d=this,e=d.options,f=b.keyCode,h=d._view,i=d._index,j=new Z(+d._current),k=c.support.isRtl(d.wrapper);return b.target===d._table[0]&&(d._active=!0),b.ctrlKey?f==g.RIGHT&&!k||f==g.LEFT&&k?(d.navigateToFuture(),m=!0):f==g.LEFT&&!k||f==g.RIGHT&&k?(d.navigateToPast(),m=!0):f==g.UP?(d.navigateUp(),m=!0):f==g.DOWN&&(d._click(a(d._cell[0].firstChild)),m=!0):(f==g.RIGHT&&!k||f==g.LEFT&&k?(l=1,m=!0):f==g.LEFT&&!k||f==g.RIGHT&&k?(l=-1,m=!0):f==g.UP?(l=0===i?-7:-4,m=!0):f==g.DOWN?(l=0===i?7:4,m=!0):f==g.ENTER?(d._click(a(d._cell[0].firstChild)),m=!0):f==g.HOME||f==g.END?(n=f==g.HOME?"first":"last",o=h[n](j),j=new Z(o.getFullYear(),o.getMonth(),o.getDate(),j.getHours(),j.getMinutes(),j.getSeconds(),j.getMilliseconds()),m=!0):f==g.PAGEUP?(m=!0,d.navigateToPast()):f==g.PAGEDOWN&&(m=!0,d.navigateToFuture()),(l||n)&&(n||h.setDate(j,l),d._focus(fb(j,e.min,e.max)))),m&&b.preventDefault(),d._current},_animate:function(a){var b=this,c=a.from,d=a.to,e=b._active;c?c.parent().data("animating")?(c.parent().kendoStop(!0,!0).remove(),c.remove(),d.insertAfter(b.element[0].firstChild),b._focusView(e)):c.is(":visible")&&b.options.animation!==!1?b[a.vertical?"_vertical":"_horizontal"](c,d,a.future):(d.insertAfter(c),c.remove(),b._focusView(e)):(d.insertAfter(b.element[0].firstChild),b._bindTable(d))},_horizontal:function(a,c,d){var e=this,f=e._active,g=e.options.animation.horizontal,h=g.effects,i=a.outerWidth();h&&-1!=h.indexOf(y)&&(a.add(c).css({width:i}),a.wrap("<div/>"),e._focusView(f,a),a.parent().css({position:"relative",width:2*i,"float":x,"margin-left":d?0:-i}),c[d?"insertAfter":"insertBefore"](a),Y(g,{effects:y+":"+(d?"right":x),complete:function(){a.remove(),c.unwrap(),e._focusView(f),e._oldTable=b}}),a.parent().kendoStop(!0,!0).kendoAnimate(g))},_vertical:function(a,c){var h,i,d=this,e=d.options.animation.vertical,f=e.effects,g=d._active;f&&-1!=f.indexOf("zoom")&&(c.css({position:"absolute",top:a.prev().outerHeight(),left:0}).insertBefore(a),n&&(h=d._cellByDate(d._view.toDateString(d._current)),i=h.position(),i=i.left+parseInt(h.width()/2,10)+"px"+" "+(i.top+parseInt(h.height()/2,10)+"px"),c.css(n,i)),a.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){a.remove(),c.css({position:"static",top:0,left:0}),d._focusView(g),d._oldTable=b}}),c.kendoStop(!0,!0).kendoAnimate(e))},_cellByDate:function(b){return this._table.find("td:not(."+H+")").filter(function(){return a(this.firstChild).attr(c.attr(D))===b})},_class:function(b,d){var e=this,f=e._cellID,g=e._cell;g&&g.removeAttr(W).removeAttr(v),g=e._table.find("td:not(."+H+")").removeClass(b).filter(function(){return a(this.firstChild).attr(c.attr(D))===d}).attr(W,!0),b!==G||e._active||e.options.focusOnNav===!1||(b=""),g.addClass(b),g[0]&&(e._cell=g),f&&(g.attr(v,f),e._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",f))},_bindTable:function(a){a.on(N,this._addClassProxy).on(L,this._removeClassProxy)},_click:function(a){var b=this,d=b.options,e=new Date(+b._current),f=a.attr(c.attr(D)).split("/");f=new Z(f[0],f[1],f[2]),i(f,0),b._view.setDate(e,f),b.navigateDown(fb(e,d.min,d.max))},_focus:function(a){var b=this,c=b._view;0!==c.compare(a,b._current)?b.navigate(a):(b._current=a,b._class(G,c.toDateString(a)))},_focusView:function(a,b){a&&this.focus(b)},_footer:function(b){var d=this,e=eb(),f=d.element,g=f.find(".k-footer");return b?(g[0]||(g=a('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(f)),d._today=g.show().find(".k-link").html(b(e)).attr("title",c.toString(e,"D",d.options.culture)),d._toggle(),void 0):(d._toggle(!1),g.hide(),void 0)},_header:function(){var d,a=this,b=a.element,c=a.options.focusOnNav!==!1;b.find(".k-header")[0]||b.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>'),d=b.find(".k-link").on(P+" "+Q+" "+N+" "+L,jb).click(!1),a._title=d.eq(1).on(t,function(){a._focusView(c),a.navigateUp()}),a[T]=d.eq(0).on(t,function(){a._focusView(c),a.navigateToPast()}),a[U]=d.eq(2).on(t,function(){a._focusView(c),a.navigateToFuture()})},_navigate:function(a,b){var c=this,d=c._index+1,e=new Z(+c._current);a=c[a],a.hasClass(F)||(d>3?e.setFullYear(e.getFullYear()+100*b):ab.views[d].setDate(e,b),c.navigate(e))},_option:function(a,c){var g,d=this,e=d.options,f=d._value||d._current;return c===b?e[a]:(c=h(c,e.format,e.culture),c&&(e[a]=new Z(+c),g=a===w?c>f:f>c,(g||qb(f,c))&&(d._value=null,d._changeView=!0),d._changeView||(d._changeView=!(!e.month.content&&!e.month.empty)),d.navigate(d._value),d._toggle()),void 0)},_toggle:function(a){var c=this,d=c.options,e=c._today;a===b&&(a=gb(eb(),d.min,d.max)),e&&(e.off(t),a?e.addClass(J).removeClass(F).on(t,X(c._todayClick,c)):e.removeClass(J).addClass(F).on(t,kb))},_todayClick:function(a){var b=this,c=$[b.options.depth],d=eb();a.preventDefault(),0===b._view.compare(b._current,d)&&b._index==c&&(b._changeView=!1),b._value=d,b.navigate(d,c),b.trigger(B)},_templates:function(){var a=this,b=a.options,d=b.footer,e=b.month,f=e.content,g=e.empty;a.month={content:k('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+c.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(f||"#=data.value#")+"</a></td>",{useWithBlock:!!f}),empty:k('<td role="gridcell">'+(g||"&nbsp;")+"</td>",{useWithBlock:!!g})},d!==!1&&(a.footer=k(d||'#= kendo.toString(data,"D","'+b.culture+'") #',{useWithBlock:!1}))}});e.plugin(_);var ab={firstDayOfMonth:function(a){return new Z(a.getFullYear(),a.getMonth(),1)},firstVisibleDay:function(a,b){b=b||c.culture().calendar;for(var d=b.firstDay,e=new Z(a.getFullYear(),a.getMonth(),0,a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds());e.getDay()!=d;)ab.setTime(e,-1*S);return e},setTime:function(a,b){var c=a.getTimezoneOffset(),d=new Z(a.getTime()+b),e=d.getTimezoneOffset()-c;a.setTime(d.getTime()+e*R)},views:[{name:z,title:function(a,b,c,d){return lb(d).months.names[a.getMonth()]+" "+a.getFullYear()},content:function(a){for(var b=this,d=0,e=a.min,f=a.max,g=a.date,h=a.dates,j=a.format,k=a.culture,l=a.url,m=l&&h[0],n=lb(k),o=n.firstDay,p=n.days,q=hb(p.names,o),r=hb(p.namesShort,o),s=ab.firstVisibleDay(g,n),t=b.first(g),u=b.last(g),v=b.toDateString,w=new Z,x='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';7>d;d++)x+='<th scope="col" title="'+q[d]+'">'+r[d]+"</th>";return w=new Z(w.getFullYear(),w.getMonth(),w.getDate()),i(w,0),w=+w,cb({cells:42,perRow:7,html:x+='</tr></thead><tbody><tr role="row">',start:new Z(s.getFullYear(),s.getMonth(),s.getDate()),min:new Z(e.getFullYear(),e.getMonth(),e.getDate()),max:new Z(f.getFullYear(),f.getMonth(),f.getDate()),content:a.content,empty:a.empty,setter:b.setDate,build:function(a){var b=[],d=a.getDay(),e="",f="#";return(t>a||a>u)&&b.push(H),+a===w&&b.push("k-today"),(0===d||6===d)&&b.push("k-weekend"),m&&ob(+a,h)&&(f=l.replace("{0}",c.toString(a,j,k)),e=" k-action-link"),{date:a,dates:h,ns:c.ns,title:c.toString(a,"D",k),value:a.getDate(),dateString:v(a),cssClass:b[0]?' class="'+b.join(" ")+'"':"",linkClass:e,url:f}}})},first:function(a){return ab.firstDayOfMonth(a)},last:function(a){var b=new Z(a.getFullYear(),a.getMonth()+1,0),c=ab.firstDayOfMonth(a),d=Math.abs(b.getTimezoneOffset()-c.getTimezoneOffset());return d&&b.setHours(c.getHours()+d/60),b},compare:function(a,b){var c,d=a.getMonth(),e=a.getFullYear(),f=b.getMonth(),g=b.getFullYear();return c=e>g?1:g>e?-1:d==f?0:d>f?1:-1},setDate:function(a,b){var c=a.getHours();b instanceof Z?a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()):ab.setTime(a,b*S),i(a,c)},toDateString:function(a){return a.getFullYear()+"/"+a.getMonth()+"/"+a.getDate()}},{name:"year",title:function(a){return a.getFullYear()},content:function(a){var b=lb(a.culture).months.namesAbbr,d=this.toDateString,e=a.min,f=a.max;return cb({min:new Z(e.getFullYear(),e.getMonth(),1),max:new Z(f.getFullYear(),f.getMonth(),1),start:new Z(a.date.getFullYear(),0,1),setter:this.setDate,build:function(a){return{value:b[a.getMonth()],ns:c.ns,dateString:d(a),cssClass:""}}})},first:function(a){return new Z(a.getFullYear(),0,a.getDate())},last:function(a){return new Z(a.getFullYear(),11,a.getDate())},compare:function(a,b){return db(a,b)},setDate:function(a,b){var c,d=a.getHours();b instanceof Z?(c=b.getMonth(),a.setFullYear(b.getFullYear(),c,a.getDate()),c!==a.getMonth()&&a.setDate(0)):(c=a.getMonth()+b,a.setMonth(c),c>11&&(c-=12),c>0&&a.getMonth()!=c&&a.setDate(0)),i(a,d)},toDateString:function(a){return a.getFullYear()+"/"+a.getMonth()+"/1"}},{name:"decade",title:function(a,b,c){return bb(a,b,c,10)},content:function(a){var b=a.date.getFullYear(),d=this.toDateString;return cb({start:new Z(b-b%10-1,0,1),min:new Z(a.min.getFullYear(),0,1),max:new Z(a.max.getFullYear(),0,1),setter:this.setDate,build:function(a,b){return{value:a.getFullYear(),ns:c.ns,dateString:d(a),cssClass:0===b||11==b?I:""}}})},first:function(a){var b=a.getFullYear();return new Z(b-b%10,a.getMonth(),a.getDate())},last:function(a){var b=a.getFullYear();return new Z(b-b%10+9,a.getMonth(),a.getDate())},compare:function(a,b){return db(a,b,10)},setDate:function(a,b){ib(a,b,1)},toDateString:function(a){return a.getFullYear()+"/0/1"}},{name:A,title:function(a,b,c){return bb(a,b,c,100)},content:function(a){var b=a.date.getFullYear(),d=a.min.getFullYear(),e=a.max.getFullYear(),f=this.toDateString,g=d,h=e;return g-=g%10,h-=h%10,10>h-g&&(h=g+9),cb({start:new Z(b-b%100-10,0,1),min:new Z(g,0,1),max:new Z(h,0,1),setter:this.setDate,build:function(a,b){var g=a.getFullYear(),h=g+9;return d>g&&(g=d),h>e&&(h=e),{ns:c.ns,value:g+" - "+h,dateString:f(a),cssClass:0===b||11==b?I:""}}})},first:function(a){var b=a.getFullYear();return new Z(b-b%100,a.getMonth(),a.getDate())},last:function(a){var b=a.getFullYear();return new Z(b-b%100+99,a.getMonth(),a.getDate())},compare:function(a,b){return db(a,b,100)},setDate:function(a,b){ib(a,b,10)},toDateString:function(a){var b=a.getFullYear();return b-b%10+"/0/1"}}]};ab.isEqualDatePart=pb,ab.makeUnselectable=nb,ab.restrictValue=fb,ab.isInRange=gb,ab.normalize=mb,ab.viewsEnum=$,c.calendar=ab}(window.kendo.jQuery),kendo_module({id:"datepicker",name:"DatePicker",category:"web",description:"The DatePicker widget allows the user to select a date from a calendar or by direct input.",depends:["calendar","popup"]}),function(a,b){function Q(b){var c=b.parseFormats,d=b.format;J.normalize(b),c=a.isArray(c)?c:[c],-1===a.inArray(d,c)&&c.splice(0,0,b.format),b.parseFormats=c}function R(a){a.preventDefault()}var c=window.kendo,d=c.ui,e=d.Widget,f=c.parseDate,g=c.keys,h=c.template,i=c._activeElement,j="<div />",k="<span />",l=".kendoDatePicker",m="click"+l,n="open",o="close",p="change",q="dateView",r="disabled",s="readonly",t="k-state-default",u="k-state-focused",v="k-state-selected",w="k-state-disabled",x="k-state-hover",y="keydown"+l,z="mouseenter"+l+" mouseleave"+l,A="mousedown"+l,B="id",C="min",D="max",E="month",F="aria-disabled",G="aria-expanded",H="aria-hidden",I="aria-readonly",J=c.calendar,K=J.isInRange,L=J.restrictValue,M=J.isEqualDatePart,N=a.extend,O=a.proxy,P=Date,S=function(b){var f,e=this,g=document.body,h=T.sharedCalendar,i=a(j).attr(H,"true").addClass("k-calendar-container").appendTo(g);h||(h=T.sharedCalendar=new d.Calendar(a(j).attr(B,c.guid()).hide().appendTo(g),{focusOnNav:!1}),J.makeUnselectable(h.element)),e.calendar=h,e.options=b=b||{},f=b.id,f&&(f+="_dateview",i.attr(B,f),e._dateViewID=f),e.popup=new d.Popup(i,N(b.popup,b,{name:"Popup",isRtl:c.support.isRtl(b.anchor)})),e.div=i,e._templates(),e.value(b.value)};S.prototype={_calendar:function(){var a=this,b=a.popup,c=a.options,d=a.calendar,e=d.element;e.data(q)!==a&&(e.appendTo(b.element).data(q,a).off(m+" "+y).on(m,"td:has(.k-link)",O(a._click,a)).on(A,R).show(),d.unbind(p).bind(p,c),d.month=a.month,d.options.dates=c.dates,d.options.depth=c.depth,d.options.culture=c.culture,d._footer(a.footer),d.min(c.min),d.max(c.max),d._value=null,d.navigate(a._value||a._current,c.start),a.value(a._value))},destroy:function(){var g,c=this,d=c.calendar,e=d.element,f=e.data(q);(f===b||f===c)&&(g=a(".k-calendar-container"),g.length>1?e.hide().appendTo(document.body):(e.off(l),d.destroy(),d.element.remove(),T.sharedCalendar=null)),c.popup.destroy()},open:function(){var a=this;a._calendar(),a.popup.open()},close:function(){this.popup.close()},min:function(a){this._option(C,a)},max:function(a){this._option(D,a)},toggle:function(){var a=this;a[a.popup.visible()?o:n]()},move:function(a){var b=this,c=a.keyCode,d=b.calendar,e=a.ctrlKey&&c==g.DOWN||c==g.ENTER;if(c==g.ESC)return b.close(),void 0;if(a.altKey)return c==g.DOWN?(b.open(),a.preventDefault()):c==g.UP&&(b.close(),a.preventDefault()),void 0;if(b.popup.visible())return e&&d._cell.hasClass(v)?(b.close(),a.preventDefault(),void 0):(b._current=d._move(a),void 0)
},value:function(a){var b=this,c=b.calendar,d=b.options;b._value=a,b._current=new P(+L(a,d.min,d.max)),c.element.data(q)===b&&c.value(a)},_click:function(a){-1!==a.currentTarget.className.indexOf(v)&&this.close()},_option:function(a,b){var c=this,d=c.options,e=c.calendar;d[a]=b,e.element.data(q)===c&&e[a](b)},_templates:function(){var a=this,b=a.options,d=b.footer,e=b.month||{},f=e.content,g=e.empty;a.month={content:h('<td#=data.cssClass#><a tabindex="-1" class="k-link" href="\\#" '+c.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(f||"#=data.value#")+"</a></td>",{useWithBlock:!!f}),empty:h("<td>"+(g||"&nbsp;")+"</td>",{useWithBlock:!!g})},d!==!1&&(a.footer=h(d||'#= kendo.toString(data,"D","'+b.culture+'") #',{useWithBlock:!1}))}},S.normalize=Q,c.DateView=S;var T=e.extend({init:function(a,b){var g,h,d=this;e.fn.init.call(d,a,b),a=d.element,b=d.options,Q(b),d._wrapper(),d.dateView=new S(N({},b,{id:a.attr(B),anchor:d.wrapper,change:function(){d._change(this.value()),d.close()},close:function(b){d.trigger(o)?b.preventDefault():(a.attr(G,!1),h.attr(H,!0))},open:function(b){var e,c=d.options;d.trigger(n)?b.preventDefault():(d.element.val()!==d._oldText&&(e=f(a.val(),c.parseFormats,c.culture),e?(d.dateView._current=e,d.dateView.calendar._focus(e)):d.dateView.value(e)),a.attr(G,!0),h.attr(H,!1))}})),h=d.dateView.div,d._icon();try{a[0].setAttribute("type","text")}catch(i){a[0].type="text"}a.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1,"aria-owns":d.dateView._dateViewID}),d._reset(),d._template(),g=a.is("[disabled]"),g?d.enable(!1):d.readonly(a.is("[readonly]")),d._old=d._update(b.value||d.element.val()),d._oldText=a.val(),c.notify(d)},events:[n,o,p],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:E,depth:E,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(a){var b=this,c=b.dateView,d=c.options;e.fn.setOptions.call(b,a),Q(b.options),c.options=N(d,b.options,{change:d.change,close:d.close,open:d.open})},_editable:function(a){var b=this,c=b._dateIcon.off(l),d=b.element.off(l),e=b._inputWrapper.off(l),f=a.readonly,g=a.disable;f||g?(e.addClass(g?w:t).removeClass(g?t:w),d.attr(r,g).attr(s,f).attr(F,g).attr(I,f)):(e.addClass(t).removeClass(w).on(z,b._toggleHover),d.removeAttr(r).removeAttr(s).attr(F,!1).attr(I,!1).on("keydown"+l,O(b._keydown,b)).on("blur"+l,O(b._blur,b)).on("focus"+l,function(){b._inputWrapper.addClass(u)}),c.on(m,O(b._click,b)).on(A,R))},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},destroy:function(){var a=this;e.fn.destroy.call(a),a.dateView.destroy(),a.element.off(l),a._dateIcon.off(l),a._inputWrapper.off(l),a._form&&a._form.off("reset",a._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(a){return this._option(C,a)},max:function(a){return this._option(D,a)},value:function(a){var c=this;return a===b?c._value:(c._old=c._update(a),null===c._old&&c.element.val(""),c._oldText=c.element.val(),void 0)},_toggleHover:function(b){a(b.currentTarget).toggleClass(x,"mouseenter"===b.type)},_blur:function(){var a=this,b=a.element.val();a.close(),b!==a._oldText&&a._change(b),a._inputWrapper.removeClass(u)},_click:function(){var a=this,b=a.element;a.dateView.toggle(),c.support.touch||b[0]===i()||b.focus()},_change:function(a){var b=this;a=b._update(a),+b._old!=+a&&(b._old=a,b._oldText=b.element.val(),b.trigger(p),b.element.trigger(p))},_keydown:function(a){var b=this,c=b.dateView,d=b.element.val();c.popup.visible()||a.keyCode!=g.ENTER||d===b._oldText?(c.move(a),b._updateARIA(c._current)):b._change(d)},_icon:function(){var d,b=this,c=b.element;d=c.next("span.k-select"),d[0]||(d=a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(c)),b._dateIcon=d.attr({role:"button","aria-controls":b.dateView._dateViewID})},_option:function(a,c){var d=this,e=d.options;return c===b?e[a]:(c=f(c,e.parseFormats,e.culture),c&&(e[a]=new P(+c),d.dateView[a](c)),void 0)},_update:function(a){var i,b=this,d=b.options,e=d.min,g=d.max,h=f(a,d.parseFormats,d.culture);return+h===+b._value?(i=c.toString(h,d.format,d.culture),i!==a&&b.element.val(null===h?a:i),h):(null!==h&&M(h,e)?h=L(h,e,g):K(h,e,g)||(h=null),b._value=h,b.dateView.value(h),b.element.val(h?c.toString(h,d.format,d.culture):a),b._updateARIA(h),h)},_wrapper:function(){var d,b=this,c=b.element;d=c.parents(".k-datepicker"),d[0]||(d=c.wrap(k).parent().addClass("k-picker-wrap k-state-default"),d=d.wrap(k).parent()),d[0].style.cssText=c[0].style.cssText,c.css({width:"100%",height:c[0].style.height}),b.wrapper=d.addClass("k-widget k-datepicker k-header").addClass(c[0].className),b._inputWrapper=a(d[0].firstChild)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){b.value(c[0].defaultValue)},b._form=e.on("reset",b._resetHandler))},_template:function(){this._ariaTemplate=h(this.options.ARIATemplate)},_updateARIA:function(a){this.element.attr("aria-label",this._ariaTemplate({current:a}))}});d.plugin(T)}(window.kendo.jQuery),kendo_module({id:"autocomplete",name:"AutoComplete",category:"web",description:"The AutoComplete widget provides suggestions depending on the typed text.It also allows multiple value entries.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]}]}),function(a,b){function y(a,b,c){return c?b.substring(0,a).split(c).length-1:0}function z(a,b,c){return b.split(c)[y(a,b,c)]}function A(a,b,c,d){var e=b.split(d);return e.splice(y(a,b,d),1,c),d&&""!==e[e.length-1]&&e.push(""),e.join(d)}function B(a){var b=a.value.length;w(a,b,b)}var c=window.kendo,d=c.support,e=c._activeElement,f=d.placeholder,g=c.ui,h=c.keys,i=c.data.DataSource,j=g.List,k="aria-disabled",l="aria-readonly",m="k-state-default",n="disabled",o="readonly",p="k-state-focused",q="k-state-selected",r="k-state-disabled",s="k-state-hover",t=".kendoAutoComplete",u="mouseenter"+t+" mouseleave"+t,v=j.caret,w=j.selectText,x=a.proxy,C=j.extend({init:function(b,d){var g,e=this;e.ns=t,d=a.isArray(d)?{dataSource:d}:d,j.fn.init.call(e,b,d),b=e.element,d=e.options,d.placeholder=d.placeholder||b.attr("placeholder"),f&&b.attr("placeholder",d.placeholder),e._wrapper(),e._loader(),e._dataSource(),e._ignoreCase(),b[0].type="text",g=e.wrapper,e._popup(),b.addClass("k-input").on("keydown"+t,x(e._keydown,e)).on("paste"+t,x(e._search,e)).on("focus"+t,function(){e._prev=e._accessor(),e._placeholder(!1),g.addClass(p)}).on("blur"+t,function(){e._change(),e._placeholder(),g.removeClass(p)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0}),e._enable(),e._old=e._accessor(),b[0].id&&b.attr("aria-owns",e.ul[0].id),e._aria(),e._placeholder(),c.notify(e)},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{},value:null},_dataSource:function(){var a=this;a.dataSource&&a._refreshHandler?a._unbindDataSource():(a._refreshHandler=x(a.refresh,a),a._progressHandler=x(a._showBusy,a)),a.dataSource=i.create(a.options.dataSource).bind("change",a._refreshHandler).bind("progress",a._progressHandler)},setDataSource:function(a){this.options.dataSource=a,this._dataSource()},events:["open","close","change","select","dataBinding","dataBound"],setOptions:function(a){j.fn.setOptions.call(this,a),this._template(),this._accessors(),this._aria()},_editable:function(a){var b=this,c=b.element,d=b.wrapper.off(t),e=a.readonly,f=a.disable;e||f?(d.addClass(f?r:m).removeClass(f?m:r),c.attr(n,f).attr(o,e).attr(k,f).attr(l,e)):(d.addClass(m).removeClass(r).on(u,b._toggleHover),c.removeAttr(n).removeAttr(o).attr(k,!1).attr(l,!1))},close:function(){var a=this,b=a._current;b&&b.removeClass(q),a.current(null),a.popup.close()},destroy:function(){var a=this;a.element.off(t),a.wrapper.off(t),j.fn.destroy.call(a)},refresh:function(){var k,d=this,f=d.ul[0],g=d.popup,h=d.options,i=d._data(),j=i.length;d.trigger("dataBinding"),f.innerHTML=c.render(d.template,i),d._height(j),g.visible()&&g._position(),j&&(h.highlightFirst&&d.current(a(f.firstChild)),h.suggest&&d.suggest(a(f.firstChild))),d._open&&(d._open=!1,k=j?"open":"close",d._typing&&d.element[0]!==e()&&(k="close"),g[k](),d._typing=b),d._touchScroller&&d._touchScroller.reset(),d._makeUnselectable(),d._hideBusy(),d.trigger("dataBound")},select:function(a){this._select(a)},search:function(a){var f,b=this,c=b.options,d=c.ignoreCase,e=c.separator;a=a||b._accessor(),b._current=null,clearTimeout(b._typing),e&&(a=z(v(b.element[0]),a,e)),f=a.length,f?f>=b.options.minLength&&(b._open=!0,b._filterSource({value:d?a.toLowerCase():a,operator:c.filter,field:c.dataTextField,ignoreCase:d})):b.popup.close()},suggest:function(a){var o,c=this,d=c._last,f=c._accessor(),g=c.element[0],i=v(g),k=c.options.separator,l=f.split(k),m=y(i,f,k),n=i;return d==h.BACKSPACE||d==h.DELETE?(c._last=b,void 0):(a=a||"","string"!=typeof a&&(o=j.inArray(a[0],c.ul[0]),a=o>-1?c._text(c._data()[o]):""),0>=i&&(i=f.toLowerCase().indexOf(a.toLowerCase())+1),o=f.substring(0,i).lastIndexOf(k),o=o>-1?i-(o+k.length):i,f=l[m].substring(0,o),a&&(o=a.toLowerCase().indexOf(f.toLowerCase()),o>-1&&(a=a.substring(o+f.length),n=i+a.length,f+=a),k&&""!==l[l.length-1]&&l.push("")),l[m]=f,c._accessor(l.join(k||"")),g===e()&&w(g,i,n),void 0)},value:function(a){return a===b?this._accessor():(this._accessor(a),this._old=a,void 0)},_accessor:function(a){var c=this,d=c.element[0];return a===b?(a=d.value,d.className.indexOf("k-readonly")>-1?a===c.options.placeholder?"":a:a):(d.value=null===a?"":a,c._placeholder(),void 0)},_accept:function(a){var b=this;b._focus(a),B(b.element[0])},_keydown:function(b){var c=this,d=c.ul[0],e=b.keyCode,f=c._current,g=c.popup.visible();c._last=e,e===h.DOWN?(g&&c._move(f?f.next():a(d.firstChild)),b.preventDefault()):e===h.UP?(g&&c._move(f?f.prev():a(d.lastChild)),b.preventDefault()):e===h.ENTER||e===h.TAB?(e===h.ENTER&&c.popup.visible()&&b.preventDefault(),c._accept(f)):e===h.ESC?(c.popup.visible()&&b.preventDefault(),c.close()):c._search()},_move:function(a){var b=this;a=a[0]?a:null,b.current(a),b.options.suggest&&b.suggest(a)},_hideBusy:function(){var a=this;clearTimeout(a._busy),a._loading.hide(),a.element.attr("aria-busy",!1),a._busy=null},_showBusy:function(){var a=this;a._busy||(a._busy=setTimeout(function(){a.element.attr("aria-busy",!0),a._loading.show()},100))},_placeholder:function(a){if(!f){var g,c=this,d=c.element,e=c.options.placeholder;if(e){if(g=d.val(),a===b&&(a=!g),a||(e=g!==e?g:""),g===c._old&&!a)return;d.toggleClass("k-readonly",a).val(e),e||d[0]!==document.activeElement||j.selectText(d[0],0,0)}}},_search:function(){var a=this;clearTimeout(a._typing),a._typing=setTimeout(function(){a._prev!==a._accessor()&&(a._prev=a._accessor(),a.search())},a.options.delay)},_select:function(b){var f,g,c=this,d=c.options.separator,e=c._data();b=a(b),b[0]&&!b.hasClass(q)&&(g=j.inArray(b[0],c.ul[0]),g>-1&&(e=e[g],f=c._text(e),d&&(f=A(v(c.element[0]),c._accessor(),f,d)),c._accessor(f),c.current(b.addClass(q))))},_loader:function(){this._loading=a('<span class="k-icon k-loading" style="display:none"></span>').insertAfter(this.element)},_toggleHover:function(b){a(b.currentTarget).toggleClass(s,"mouseenter"===b.type)},_wrapper:function(){var d,a=this,b=a.element,c=b[0];d=b.parent(),d.is("span.k-widget")||(d=b.wrap("<span />").parent()),d.attr("tabindex",-1),d.attr("role","presentation"),d[0].style.cssText=c.style.cssText,b.css({width:"100%",height:c.style.height}),a._focused=a.element,a.wrapper=d.addClass("k-widget k-autocomplete k-header").addClass(c.className)}});g.plugin(C)}(window.kendo.jQuery),kendo_module({id:"dropdownlist",name:"DropDownList",category:"web",description:"The DropDownList widget displays a list of values and allows the selection of a single value from the list.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]}]}),function(a,b){function u(a,b,c){for(var f,d=0,e=b.length-1;e>d;++d)f=b[d],f in a||(a[f]={}),a=a[f];a[b[e]]=c}var c=window.kendo,d=c.ui,e=d.Select,f=c.support.mobileOS,g=".kendoDropDownList",h="disabled",i="readonly",j="change",k="k-state-focused",l="k-state-default",m="k-state-disabled",n="aria-disabled",o="aria-readonly",p="k-state-selected",q="mouseenter"+g+" mouseleave"+g,r="tabindex",s=a.proxy,t=e.extend({init:function(d,f){var j,k,l,h=this,i=f&&f.index;h.ns=g,f=a.isArray(f)?{dataSource:f}:f,e.fn.init.call(h,d,f),h._focusHandler=function(){h.wrapper.focus()},f=h.options,d=h.element.on("focus"+g,h._focusHandler),this._inputTemplate(),h._reset(),h._word="",h._wrapper(),h._tabindex(),h.wrapper.data(r,h.wrapper.attr(r)),h._aria(),h._span(),h._popup(),h._mobile(),h._dataSource(),h._ignoreCase(),h._enable(),h._oldIndex=h.selectedIndex=-1,h._cascade(),i!==b&&(f.index=i),f.autoBind?h.dataSource.fetch():-1===h.selectedIndex&&(l=f.text||"",l||(j=f.optionLabel,k=j&&0===f.index,h._isSelect?l=k?j:d.children(":selected").text():!d[0].value&&k&&(l=j)),h._textAccessor(l)),c.notify(h)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,template:"",valueTemplate:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{}},events:["open","close",j,"select","dataBinding","dataBound","cascade"],setOptions:function(a){e.fn.setOptions.call(this,a),this._template(),this._inputTemplate(),this._accessors(),this._aria()},destroy:function(){var a=this;a.wrapper.off(g),a.element.off(g),a._inputWrapper.off(g),e.fn.destroy.call(a)},open:function(){var a=this;a.ul[0].firstChild?(a.popup.open(),a._scroll(a._current)):(a._open=!0,a._request||a.dataSource.fetch())},toggle:function(a){this._toggle(a)},refresh:function(){var a=this,b=a._data(),d=b.length,e=a.options.optionLabel;a.trigger("dataBinding"),a._current&&a.current(null),a.ul[0].innerHTML=c.render(a.template,b),a._height(d),a.popup.visible()&&a.popup._position(),a._isSelect&&(e&&d&&(e=a._optionLabelText(e),e='<option value="">'+e+"</option>"),a._options(b,e)),a._open&&(a._open=!1,a.toggle(!!d)),a._hideBusy(),a._makeUnselectable(),a._fetch||(d?a._selectItem():a._textAccessor()!==e&&(a.element.val(""),a._textAccessor(""))),a._bound=!!d,a.trigger("dataBound")},search:function(a){if(a){var c=this,d=c.options.ignoreCase;d&&(a=a.toLowerCase()),c._select(function(e){var f=c._text(e);return f!==b?(f+="",d&&(f=f.toLowerCase()),0===f.indexOf(a)):void 0})}},text:function(a){var d,e,c=this,f=c.options.ignoreCase;return a=null===a?"":a,a===b?c._textAccessor():("string"==typeof a&&(e=f?a.toLowerCase():a,d=c._select(function(a){return a=c._text(a),f&&(a=(a+"").toLowerCase()),a===e}),d&&(a=d)),c._textAccessor(a),void 0)},value:function(a){var d,e,c=this;return a===b?c._accessor():(null!==a&&(a=a.toString()),c._selectedValue=a,e=a||c.options.optionLabel&&!c.element[0].disabled&&""===a,e&&c._fetchItems(a)||(d=c._index(a),c.select(d>-1?d:0)),void 0)},_editable:function(a){var b=this,d=b.element,e=a.disable,f=a.readonly,j=b.wrapper.off(g),p=b._inputWrapper.off(q),t=function(){p.addClass(k),b._blured=!1},u=function(){if(!b._blured){b._triggerCascade();var a=window.self!==window.top;c.support.mobileOS.ios&&a?b._change():b._blur(),p.removeClass(k),b._blured=!0,d.blur()}};f||e?(e?(j.removeAttr(r),p.addClass(m).removeClass(l)):(p.addClass(l).removeClass(m),j.on("focusin"+g,t).on("focusout"+g,u)),d.attr(h,e).attr(i,f),j.attr(n,e).attr(o,f)):(d.removeAttr(h).removeAttr(i),p.addClass(l).removeClass(m).on(q,b._toggleHover),j.attr(r,j.data(r)).attr(n,!1).attr(o,!1).on("click"+g,function(a){b._blured=!1,a.preventDefault(),b.toggle()}).on("keydown"+g,s(b._keydown,b)).on("keypress"+g,s(b._keypress,b)).on("focusin"+g,t).on("focusout"+g,u))},_accept:function(a){this._focus(a)},_optionLabelText:function(){var a=this.options,b=a.dataTextField,c=a.optionLabel;return c&&b&&"object"==typeof c?this._text(c):c},_data:function(){var a=this,b=a.options,d=b.optionLabel,e=b.dataTextField,f=b.dataValueField,g=a.dataSource.view(),h=g.length,i=d,j=0;if(d&&h){for("object"==typeof d?i=d:e&&(i={},e=e.split("."),f=f.split("."),u(i,f,""),u(i,e,d)),i=new c.data.ObservableArray([i]);h>j;j++)i.push(g[j]);g=i}return g},_keydown:function(a){var b=this,d=a.keyCode,e=c.keys,f=b.ul[0];d===e.LEFT?d=e.UP:d===e.RIGHT&&(d=e.DOWN),a.keyCode=d,b._move(a),d===e.HOME?(a.preventDefault(),b._select(f.firstChild)):d===e.END&&(a.preventDefault(),b._select(f.lastChild))},_selectNext:function(a,b){for(var d,c=this,e=b,f=c._data(),g=f.length,h=c.options.ignoreCase,i=function(b,d){return b+="",h&&(b=b.toLowerCase()),0===b.indexOf(a)?(c._select(d),c._triggerEvents(),!0):void 0};g>b;b++)if(d=c._text(f[b]),d&&i(d,b))return!0;if(e>0)for(b=0;e>=b;b++)if(d=c._text(f[b]),d&&i(d,b))return!0;return!1},_keypress:function(a){if(0!==a.charCode){var b=this,c=String.fromCharCode(a.charCode||a.keyCode),d=b.selectedIndex,e=b._word;b.options.ignoreCase&&(c=c.toLowerCase())," "===c&&a.preventDefault(),b._last===c&&e.length<=1&&d>-1&&(e||(e=c),b._selectNext(e,d+1))||(b._word=e+c,b._last=c,b._search())}},_popup:function(){e.fn._popup.call(this),this.popup.one("open",function(){this.wrapper=c.wrap(this.element).addClass("km-popup")})},_search:function(){var a=this,b=a.dataSource,c=a.selectedIndex,d=a._word;return clearTimeout(a._typing),a._typing=setTimeout(function(){a._word=""},a.options.delay),a.ul[0].firstChild?(a._selectNext(d,c),a._triggerEvents(),void 0):(b.one(j,function(){b.data()[0]&&a._selectNext(d,c)}).fetch(),void 0)},_select:function(a){var g,h,c=this,e=c._current,f=null;return a=c._get(a),a&&a[0]&&!a.hasClass(p)&&(e&&e.removeClass(p),h=d.List.inArray(a[0],c.ul[0]),h>-1&&(f=c._data()[h],g=c._value(f),c.selectedIndex=h,c._textAccessor(f),c._accessor(g!==b?g:c._text(f),h),c._selectedValue=c._accessor(),c.current(a.addClass(p)),c._optionID&&c._current.attr("aria-selected",!0))),f},_triggerEvents:function(){this.popup.visible()||(this._triggerCascade(),this._change())},_mobile:function(){var a=this,b=a.popup,c=b.element.parents(".km-root").eq(0);c.length&&f&&(b.options.animation.open.effects=f.android||f.meego?"fadeIn":f.ios||f.wp?"slideIn:up":b.options.animation.open.effects)},_span:function(){var e,b=this,c=b.wrapper,d="span.k-input";e=c.find(d),e[0]||(c.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(b.element),e=c.find(d)),b.span=e,b._inputWrapper=a(c[0].firstChild),b._arrow=c.find(".k-icon").mousedown(function(a){a.preventDefault()})},_wrapper:function(){var d,a=this,b=a.element,c=b[0];d=b.parent(),d.is("span.k-widget")||(d=b.wrap("<span />").parent(),d[0].style.cssText=c.style.cssText),b.hide(),a._focused=a.wrapper=d.addClass("k-widget k-dropdown k-header").addClass(c.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1})},_clearSelection:function(){var a=this,b=a.options.optionLabel;return a.dataSource.view()[0]&&b?(a.select(0),void 0):(a.selectedIndex=-1,a.element.val(""),a._textAccessor(b),void 0)},_inputTemplate:function(){var b=this,d=b.options.valueTemplate;d=d?c.template(d):a.proxy(c.template("#:this._text(data)#"),b),b.valueTemplate=d},_textAccessor:function(d){var e=this.dataItem(),f=this.span;return d===b?f.text():(a.isPlainObject(d)||d instanceof c.data.ObservableObject?e=d:e&&this._text(e)===d||(this.options.dataTextField?(e={},e[this.options.dataTextField]=d,e[this.options.dataValueField]=this._accessor()):e=d),f.html(this.valueTemplate(e)),void 0)}});d.plugin(t)}(window.kendo.jQuery),kendo_module({id:"combobox",name:"ComboBox",category:"web",description:"The ComboBox widget allows the selection from pre-defined values or entering a new value.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]}]}),function(a,b){var c=window.kendo,d=c.ui,e=d.List,f=d.Select,g=c.support,h=g.placeholder,i=c._activeElement,j=c.keys,k=".kendoComboBox",l="click"+k,m="mousedown"+k,n="disabled",o="readonly",p="change",q="k-state-default",r="k-state-focused",s="k-state-disabled",t="aria-disabled",u="aria-readonly",v="k-state-selected",w="filter",x="accept",y="rebind",z="mouseenter"+k+" mouseleave"+k,A=null,B=a.proxy,C=f.extend({init:function(b,d){var g,e=this;e.ns=k,d=a.isArray(d)?{dataSource:d}:d,f.fn.init.call(e,b,d),e._focusHandler=function(){e.input.focus()},d=e.options,b=e.element.on("focus"+k,e._focusHandler),d.placeholder=d.placeholder||b.attr("placeholder"),e._reset(),e._wrapper(),e._input(),e._tabindex(e.input),e._popup(),e._dataSource(),e._ignoreCase(),e._enable(),e._cascade(),e._aria(),e._oldIndex=e.selectedIndex=-1,d.autoBind?e._filterSource():(g=d.text,!g&&e._isSelect&&(g=b.children(":selected").text()),g&&(e.input.val(g),e._prev=g)),g||e._placeholder(),c.notify(e)},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:!0,template:"",filter:"none",placeholder:"",suggest:!1,cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{}},events:["open","close",p,"select","dataBinding","dataBound","cascade"],setOptions:function(a){f.fn.setOptions.call(this,a),this._template(),this._accessors(),this._aria()},current:function(a){var c=this,d=c._current;return a===b?d:(d&&d.removeClass(v),f.fn.current.call(c,a),void 0)},destroy:function(){var a=this;a.input.off(k),a.element.off(k),a._inputWrapper.off(k),f.fn.destroy.call(a)},_editable:function(a){var b=this,c=a.disable,d=a.readonly,e=b._inputWrapper.off(k),f=b.element.add(b.input.off(k)),g=b._arrow.parent().off(l+" "+m);d||c?(e.addClass(c?s:q).removeClass(c?q:s),f.attr(n,c).attr(o,d).attr(t,c).attr(u,d)):(e.addClass(q).removeClass(s).on(z,b._toggleHover),f.removeAttr(n).removeAttr(o).attr(t,!1).attr(u,!1),g.on(l,function(){b.toggle()}).on(m,function(a){a.preventDefault()}),b.input.on("keydown"+k,B(b._keydown,b)).on("focus"+k,function(){e.addClass(r),b._placeholder(!1)}).on("blur"+k,function(){e.removeClass(r),clearTimeout(b._typing),b.options.text!==b.input.val()&&b.text(b.text()),b._placeholder(),b._blur(),b.element.blur()}))},open:function(){var a=this,b=a.dataSource.options.serverFiltering;a.popup.visible()||(!a.ul[0].firstChild||a._state===x&&!b?(a._open=!0,a._state=y,a._filterSource()):(a.popup.open(),a._scroll(a._current)))},refresh:function(){var k,l,m,n,d=this,e=d.ul[0],f=d.options,g=d._state,h=d._data(),j=h.length;d.trigger("dataBinding"),e.innerHTML=c.render(d.template,h),d._height(j),d.popup.visible()&&d.popup._position(),d._isSelect&&(k=d.element[0].firstChild,g===y&&(d._state="",l=d.value()),n=d._option,d._option=b,d._options(h),n&&n[0].selected?d._custom(n.val()):d._bound||k||d._custom("")),j&&(f.highlightFirst&&d.current(a(e.firstChild)),f.suggest&&d.input.val()&&d._request!==b&&d.suggest(a(e.firstChild))),g===w||d._fetch||d._selectItem(),d._open&&(d._open=!1,m=!!j,d._typing&&d.input[0]!==i()&&(m=!1),d.toggle(m),d._typing=b),d._touchScroller&&d._touchScroller.reset(),d._makeUnselectable(),d._hideBusy(),d._bound=!0,d.trigger("dataBound")},search:function(a){a="string"==typeof a?a:this.text();var b=this,c=a.length,d=b.options,e=d.ignoreCase,f=d.filter,g=d.dataTextField;clearTimeout(b._typing),c>=d.minLength&&(b._state=w,"none"===f?b._filter(a):(b._open=!0,b._filterSource({value:e?a.toLowerCase():a,field:g,operator:f,ignoreCase:e})))},suggest:function(a){var k,c=this,d=c.input[0],f=c.text(),g=e.caret(d),h=c._last;return h==j.BACKSPACE||h==j.DELETE?(c._last=b,void 0):(a=a||"","string"!=typeof a&&(k=e.inArray(a[0],c.ul[0]),a=k>-1?c._text(c.dataSource.view()[k]):""),0>=g&&(g=f.toLowerCase().indexOf(a.toLowerCase())+1),a?(k=a.toLowerCase().indexOf(f.toLowerCase()),k>-1&&(f+=a.substring(k+f.length))):f=f.substring(0,g),f.length===g&&a||(d.value=f,d===i()&&e.selectText(d,g,f.length)),void 0)},text:function(a){a=null===a?"":a;var g,c=this,d=c.input[0],e=c.options.ignoreCase,f=a;return a===b?d.value:(g=c.dataItem(),g&&c._text(g)===a&&c._value(g).toString()===c._old?(c._triggerCascade(),void 0):(e&&(f=f.toLowerCase()),c._select(function(a){return a=c._text(a),e&&(a=(a+"").toLowerCase()),a===f}),c.selectedIndex<0&&(c._custom(a),d.value=a),c._prev=d.value,c._triggerCascade(),void 0))},toggle:function(a){var b=this;b._toggle(a)},value:function(a){var e,c=this,d=c.options;return a===b?c._accessor():(null!==a&&(a=a.toString()),c._selectedValue=a,!c._open&&a&&c._fetchItems(a)||(e=c._index(a),e>-1?c.select(e):(c.current(A),c._custom(a),(d.value!==a||d.text!==c.input.val())&&(c.text(a),c._placeholder())),c._old=c._accessor(),c._oldIndex=c.selectedIndex),void 0)},_accept:function(a){var b=this;a?b._focus(a):(b.text(b.text()),b._change())},_custom:function(b){var c=this,d=c.element,e=c._option;c._state===w&&(c._state=x),c._isSelect?(e||(e=c._option=a("<option/>"),d.append(e)),e.text(b),e[0].selected=!0):d.val(b),c._selectedValue=b},_filter:function(a){var c=this,d=c.options,e=c.dataSource,f=d.ignoreCase,g=function(d){var e=c._text(d);return e!==b?(e+="",""!==e&&""===a?!1:(f&&(e=e.toLowerCase()),0===e.indexOf(a))):void 0};return f&&(a=a.toLowerCase()),c.ul[0].firstChild?(-1!==c._highlight(g)&&(d.suggest&&c._current&&c.suggest(c._current),c.open()),c._hideBusy(),void 0):(e.one(p,function(){e.data()[0]&&c.search(a)}).fetch(),void 0)},_highlight:function(c){var f,d=this;return c===b||null===c?-1:(c=d._get(c),f=e.inArray(c[0],d.ul[0]),-1==f&&(d.options.highlightFirst&&!d.text()?(c=d.ul[0].firstChild,c&&(c=a(c))):c=A),d.current(c),f)},_input:function(){var i,b=this,c=b.element.removeClass("k-input")[0],d=c.accessKey,e=b.wrapper,f="input.k-input",g=c.name||"";g&&(g='name="'+g+'_input" '),i=e.find(f),i[0]||(e.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+g+'class="k-input" type="text" autocomplete="off"/><span tabindex="-1" unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(b.element),i=e.find(f)),i[0].style.cssText=c.style.cssText,c.maxLength>-1&&(i[0].maxLength=c.maxLength),i.addClass(c.className).val(this.options.text||c.value).css({width:"100%",height:c.style.height}).attr({role:"combobox","aria-expanded":!1}).show(),h&&i.attr("placeholder",b.options.placeholder),d&&(c.accessKey="",i[0].accessKey=d),b._focused=b.input=i,b._inputWrapper=a(e[0].firstChild),b._arrow=e.find(".k-icon").attr({role:"button",tabIndex:-1}),c.id&&b._arrow.attr("aria-controls",b.ul[0].id)},_keydown:function(a){var b=this,c=a.keyCode;b._last=c,clearTimeout(b._typing),c==j.TAB||b._move(a)||b._search()},_placeholder:function(a){if(!h){var g,c=this,d=c.input,f=c.options.placeholder;if(f){if(g=c.value(),a===b&&(a=!g),d.toggleClass("k-readonly",a),!a){if(g)return;f=""}d.val(f),f||d[0]!==i()||e.selectText(d[0],0,0)}}},_search:function(){var a=this;a._typing=setTimeout(function(){var b=a.text();a._prev!==b&&(a._prev=b,a.search(b))},a.options.delay)},_select:function(a){var d,e,c=this,f=c._data(),g=c._highlight(a);c.selectedIndex=g,-1!==g&&(c._state===w&&(c._state=x),c._current.addClass(v),f=f[g],d=c._text(f),e=c._value(f),c._prev=c.input[0].value=d,c._accessor(e!==b?e:d,g),c._selectedValue=c._accessor(),c._placeholder(),c._optionID&&c._current.attr("aria-selected",!0))},_wrapper:function(){var a=this,b=a.element,c=b.parent();c.is("span.k-widget")||(c=b.hide().wrap("<span />").parent(),c[0].style.cssText=b[0].style.cssText),a.wrapper=c.addClass("k-widget k-combobox k-header").addClass(b[0].className).css("display","")},_clearSelection:function(a,b){var c=this,d=a._selectedValue||a.value(),e=d&&-1===a.selectedIndex;(b||!d||e)&&c.value("")}});d.plugin(C)}(window.kendo.jQuery),kendo_module({id:"multiselect",name:"MultiSelect",category:"web",description:"The MultiSelect widget allows the selection from pre-defined values.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]}]}),function(a,b){function N(a,b){var c;if(null===a&&null!==b||null!==a&&null===b)return!1;if(c=a.length,c!==b.length)return!1;for(;c--;)if(a[c]!==b[c])return!1;return!0}function O(b){var c=b.firstChild;return c&&"none"===c.style.display&&(c=Q(c,s)),c?a(c):c}function P(b){var c=b.lastChild;return c&&"none"===c.style.display&&(c=Q(c,t)),c?a(c):c}function Q(a,b){return a=a[b],a&&"none"===a.style.display&&(a=Q(a,b)),a}var c=window.kendo,d=c.ui,e=d.List,f=c.keys,g=c._activeElement,h=c.data.ObservableArray,i=a.proxy,j="id",k="li",l="accept",m="filter",n="open",o="close",p="change",q="progress",r="select",s="nextSibling",t="previousSibling",u=' style="display:none"',v="aria-disabled",w="aria-readonly",x="k-state-focused",y="k-loading-hidden",z="k-state-hover",A="k-state-disabled",B="disabled",C="readonly",D=".kendoMultiSelect",E="click"+D,F="keydown"+D,G="mouseenter"+D,H="mouseleave"+D,I=G+" "+H,J=/"/g,K=a.isArray,L=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],M=e.extend({init:function(b,d){var g,h,f=this;f.ns=D,e.fn.init.call(f,b,d),f._wrapper(),f._tagList(),f._input(),f._textContainer(),f._loader(),f._tabindex(f.input),b=f.element.attr("multiple","multiple").hide(),d=f.options,h=d.value,d.placeholder||(d.placeholder=b.data("placeholder")),g=b.attr(j),g&&(f._tagID=g+"_tag_active",g+="_taglist",f.tagList.attr(j,g)),f._aria(g),f._dataSource(),f._ignoreCase(),f._popup(),f._values=[],f._dataItems=[],f._reset(),f._enable(),f._placeholder(),d.autoBind?f.dataSource.fetch():h&&(K(h)||(h=[h]),(a.isPlainObject(h[0])||!d.dataValueField)&&(f._retrieveData=!0,f.dataSource.data(h),f.value(f._initialValues))),c.notify(f)},options:{name:"MultiSelect",enabled:!0,autoBind:!0,autoClose:!0,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:0,delay:100,value:null,maxSelectedItems:null,itemTemplate:"",tagTemplate:"",placeholder:"",height:200,animation:{}},events:[n,o,p,r,"dataBinding","dataBound"],setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this.options.autoBind&&this.dataSource.fetch()},setOptions:function(a){e.fn.setOptions.call(this,a),this._template(),this._accessors(),this._aria(this.tagList.attr(j))},current:function(a){return this.currentTag(null),e.fn.current.call(this,a)},currentTag:function(a){var c=this;return a===b?c._currentTag:(c._currentTag&&(c._currentTag.removeClass(x).removeAttr(j),c.input.removeAttr("aria-activedescendant")),a&&(a.addClass(x).attr(j,c._tagID),c.input.attr("aria-activedescendant",c._tagID)),c._currentTag=a,void 0)},dataItems:function(){return this._dataItems},destroy:function(){var a=this,b=a.ns;a.wrapper.off(b),a.tagList.off(b),a.input.off(b),e.fn.destroy.call(a)},_editable:function(b){var c=this,d=b.disable,e=b.readonly,f=c.wrapper.off(D),h=c.tagList.off(D),j=c.element.add(c.input.off(D));e||d?(d?f.addClass(A):f.removeClass(A),j.attr(B,d).attr(C,e).attr(v,d).attr(w,e)):(f.removeClass(A).on(I,c._toggleHover).on("mousedown"+D,function(a){var b=-1!==a.target.className.indexOf("k-delete");a.preventDefault(),b||(c.input[0]!==g()&&c.input.focus(),0===c.options.minLength&&c.open())}),c.input.on(F,i(c._keydown,c)).on("paste"+D,i(c._search,c)).on("focus"+D,function(){c._placeholder(!1)}).on("blur"+D,function(){clearTimeout(c._typing),c._placeholder(),c.close(),c._state===m&&(c._state=l),c.element.blur()
}),j.removeAttr(B).removeAttr(C).attr(v,!1).attr(w,!1),h.on(G,k,function(){a(this).addClass(z)}).on(H,k,function(){a(this).removeClass(z)}).on(E,".k-delete",function(b){c._unselect(a(b.target).closest(k)),c._change(),c.close()}))},_close:function(){var a=this;a.options.autoClose||!a._visibleItems?a.close():(a.current(a.options.highlightFirst?O(a.ul[0]):null),a.popup._position())},close:function(){this.popup.close(),this.current(null)},open:function(){var a=this;!a.ul[0].firstChild||a._state===l||a._retrieveData?(a._state="",a._open=!0,a._retrieveData=!1,a._filterSource()):a._visibleItems&&a._allowSelection()&&(a.popup.open(),a.current(a.options.highlightFirst?O(a.ul[0]):null))},toggle:function(a){a=a!==b?a:!this.popup.visible(),this[a?n:o]()},refresh:function(){var c,a=this,b=null;a.trigger("dataBinding"),c=a._render(a.dataSource.view()),a._height(c),a._setInitialValues&&(a._setInitialValues=!1,a.value(a._initialValues)),a._open&&(a._open=!1,a.toggle(c)),a.popup.visible()&&(a.popup._position(),a.options.highlightFirst&&(b=O(a.ul[0]))),a.current(b),a._touchScroller&&a._touchScroller.reset(),a._makeUnselectable(),a._hideBusy(),a.trigger("dataBound")},search:function(a){var b=this,c=b.options,d=c.ignoreCase,e=c.filter,f=c.dataTextField,g=b.input.val();c.placeholder===g&&(g=""),clearTimeout(b._typing),a="string"==typeof a?a:g,a.length>=c.minLength&&(b._state=m,b._open=!0,b._filterSource({value:d?a.toLowerCase():a,field:f,operator:e,ignoreCase:d}))},value:function(c){var g,d=this,e=a(d.tagList[0].children),f=e.length,i=0;if(c===b)return d._values;if(!d._fetchItems(c)){for(;f>i;i++)d._unselect(e.eq(i));if(null!==c){for(c=K(c)||c instanceof h?c:[c],i=0,f=c.length;f>i;i++)g=d._index(c[i]),g>-1&&d._select(g);d._old=d._values.slice()}}},_dataSource:function(){var a=this,b=a.element,d=a.options,e=d.dataSource||{};e=K(e)?{data:e}:e,e.select=b,e.fields=[{field:d.dataTextField},{field:d.dataValueField}],a.dataSource&&a._refreshHandler?a._unbindDataSource():(a._refreshHandler=i(a.refresh,a),a._progressHandler=i(a._showBusy,a)),a.dataSource=c.data.DataSource.create(e).bind(p,a._refreshHandler).bind(q,a._progressHandler)},_fetchItems:function(b){var c=this,d=a.isArray(b)&&0===b.length;return!d&&b?c._fetch||c.ul[0].firstChild?void 0:(c.dataSource.one(p,function(){c.value(b),c._fetch=!1}),c._fetch=!0,c.dataSource.fetch(),!0):void 0},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){setTimeout(function(){b.value(b._initialValues)})},b._form=e.on("reset",b._resetHandler))},_initValue:function(){var a=this,b=a.options.value||a.element.val();null===b?b=[]:(K(b)||(b=[b]),b=a._mapValues(b)),a._old=a._initialValues=b,a._setInitialValues=!!b[0]},_mapValues:function(b){var c=this;return b&&a.isPlainObject(b[0])&&(b=a.map(b,function(a){return c._value(a)})),b},_change:function(){var a=this,b=a.value();N(b,a._old)||(a._old=b.slice(),a.trigger(p),a.element.trigger(p))},_click:function(b){var c=this,d=a(b.currentTarget);if(!b.isDefaultPrevented()){if(c.trigger(r,{item:d}))return c._close(),void 0;c._select(d),c._change(),c._close()}},_item:function(a,b){return a=a[b](),a[0]&&!a.is(":visible")&&(a=this._item(a,b)),a},_keydown:function(b){var d=this,e=b.keyCode,g=d._currentTag,h=d._current,i=d.input.val(),j=c.support.isRtl(d.wrapper),k=d.popup.visible();if(e===f.DOWN){if(b.preventDefault(),!k)return d.open(),void 0;h=h?Q(h[0],s):O(d.ul[0]),h&&d.current(a(h))}else if(e===f.UP)k&&(h=h?Q(h[0],t):P(d.ul[0]),d.current(a(h)),d._current[0]||d.close()),b.preventDefault();else if(e===f.LEFT&&!j||e===f.RIGHT&&j)i||(g=g?g.prev():a(d.tagList[0].lastChild),g[0]&&d.currentTag(g));else if(e===f.RIGHT&&!j||e===f.LEFT&&j)!i&&g&&(g=g.next(),d.currentTag(g[0]?g:null));else if(e===f.ENTER&&k){if(h){if(d.trigger(r,{item:h}))return d._close(),void 0;d._select(h)}d._change(),d._close(),b.preventDefault()}else e===f.ESC?(k?b.preventDefault():d.currentTag(null),d.close()):e===f.HOME?k?d.current(O(d.ul[0])):i||(g=d.tagList[0].firstChild,g&&d.currentTag(a(g))):e===f.END?k?d.current(P(d.ul[0])):i||(g=d.tagList[0].lastChild,g&&d.currentTag(a(g))):e!==f.DELETE&&e!==f.BACKSPACE||i?(clearTimeout(d._typing),setTimeout(function(){d._scale()}),d._search()):(e!==f.BACKSPACE||g||(g=a(d.tagList[0].lastChild)),g&&g[0]&&(d._unselect(g),d._change(),d._close()))},_hideBusy:function(){var a=this;clearTimeout(a._busy),a.input.attr("aria-busy",!1),a._loading.addClass(y),a._busy=null},_showBusy:function(){var a=this;a._busy||(a._busy=setTimeout(function(){a.input.attr("aria-busy",!0),a._loading.removeClass(y)},100))},_placeholder:function(a){var c=this,d=c.input,f=g();a===b?(a=!1,d[0]!==f&&(a=!c._dataItems[0]),c.wrapper.removeClass(x)):c.wrapper.addClass(x),c._prev="",d.toggleClass("k-readonly",a).val(a?c.options.placeholder:""),d[0]===f&&e.selectText(d[0],0,0),c._scale()},_scale:function(){var e,a=this,b=a.wrapper,c=b.width(),d=a._span.text(a.input.val());b.is(":visible")?e=d.width()+25:(d.appendTo(document.documentElement),c=e=d.width()+25,d.appendTo(b)),a.input.width(e>c?c:e)},_option:function(a,d){var e="<option",f=this._text(a),g=this._value(a);return g!==b&&(g+="",-1!==g.indexOf('"')&&(g=g.replace(J,"&quot;")),e+=' value="'+g+'"'),d&&(e+=' selected="selected"'),e+=">",f!==b&&(e+=c.htmlEncode(f)),e+="</option>"},_render:function(a){for(var j,k,b=this,c=a.length,d=b.itemTemplate,e=b._dataItems.slice(0),f=0,g=0,h="",i="";c>g;g++)j=a[g],k=b._selected(e,j),i+=d(j,g,k),h+=b._option(j,k),k||(f+=1);if(c=e.length)for(g=0;c>g;g++)h+=b._option(e[g],!0);return b.ul[0].innerHTML=i,b.element.html(h),b._visibleItems=f,f},_selected:function(a,c){var j,d=this,e=d._text,f=d._value,g=f(c),h=a.length,i=!1,k=0;for(g===b&&(g=e(c));h>k;k++)if(c=a[k],j=f(c),j===b&&(j=e(c)),j!==b&&j===g){i=!0;break}return i&&a.splice(k,1),i},_search:function(){var a=this;a._typing=setTimeout(function(){var b=a.input.val();a._prev!==b&&(a._prev=b,a.search(b))},a.options.delay)},_allowSelection:function(){var a=this.options.maxSelectedItems;return null===a||a>this._values.length},_select:function(a){var d,e,b=this,c=b._values;b._allowSelection()&&(isNaN(a)?e=a.hide().data("idx"):(e=a,b.ul[0].children[e].style.display="none"),b.element[0].children[e].selected=!0,d=b.dataSource.view()[e],b.tagList.append(b.tagTemplate(d)),b._dataItems.push(d),c.push(b._dataValue(d)),b._visibleItems-=1,b.currentTag(null),b._placeholder(),b._height(b._visibleItems),b._state===m&&(b._state=l))},_unselect:function(b){var e,f,g,h,i,c=this,d=b.index();if(b.remove(),c.currentTag(null),c._values.splice(d,1),e=c._dataItems.splice(d,1)[0],f=c._dataValue(e),d=c._index(f),-1!==d)a(c.ul[0].children[d]).show(),c.element[0].children[d].selected=!1,c._visibleItems+=1,c._height(c._visibleItems);else for(d=c.dataSource.view().length,g=c.element[0].children,i=g.length;i>d;d++)if(h=g[d],h.value==f){h.selected=!1;break}c._placeholder()},_template:function(){var g,a=this,b=a.options,d=b.itemTemplate,e=b.tagTemplate,f=b.dataSource;a.element[0].length&&!f&&(b.dataTextField=b.dataTextField||"text",b.dataValueField=b.dataValueField||"value"),g=c.template("#:"+c.expr(b.dataTextField,"data")+"#",{useWithBlock:!1}),d=d?c.template(d):g,e=e?c.template(e):g,a.itemTemplate=function(a,b,c){return'<li tabindex="-1" role="option" data-idx="'+b+'" unselectable="on" class="k-item"'+(c?u:"")+">"+d(a)+"</li>"},a.tagTemplate=function(a){return'<li class="k-button" unselectable="on"><span unselectable="on">'+e(a)+'</span><span unselectable="on" class="k-icon k-delete">delete</span></li>'}},_input:function(){var b=this,c=b.element[0].accessKey,d=b._innerWrapper.children("input.k-input");d[0]||(d=a('<input class="k-input" style="width: 25px" />').appendTo(b._innerWrapper)),b.element.removeAttr("accesskey"),b._focused=b.input=d.attr({accesskey:c,role:"listbox","aria-expanded":!1})},_tagList:function(){var b=this,c=b._innerWrapper.children("ul");c[0]||(c=a('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(b._innerWrapper)),b.tagList=c},_loader:function(){this._loading=a('<span class="k-icon k-loading '+y+'"></span>').insertAfter(this.input)},_textContainer:function(){var b=c.getComputedStyles(this.input[0],L);b.position="absolute",b.visibility="hidden",this._span=a("<span/>").css(b).appendTo(this.wrapper)},_wrapper:function(){var b=this,c=b.element,d=c.parent("span.k-multiselect");d[0]||(d=c.wrap('<div class="k-widget k-multiselect k-header" unselectable="on" />').parent(),d[0].style.cssText=c[0].style.cssText,a('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(c)),b.wrapper=d.addClass(c[0].className).css("display",""),b._innerWrapper=a(d[0].firstChild)}});d.plugin(M)}(window.kendo.jQuery),kendo_module({id:"colorpicker",name:"Color tools",category:"web",description:"Color selection widgets",depends:["core","popup","slider","userevents"]}),function(a,b,c){function t(a,b,c){c=C(c),c&&!c.equals(a.color())&&("change"==b&&(a._value=c),c=1!=c.a?c.toCssRgba():c.toCss(),a.trigger(b,{value:c}))}function w(a,b,c){for(c||(c="0"),a=a.toString(16);b>a.length;)a="0"+a;return a}function x(a){return parseFloat((+a).toFixed(3))}function C(a,d){if(null==a||"transparent"==a)return null;if(a instanceof y)return a;var e=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(a);if(e)return new A(b(e[1],16),b(e[2],16),b(e[3],16),1);if(e=/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(a))return new A(b(e[1]+e[1],16),b(e[2]+e[2],16),b(e[3]+e[3],16),1);if(e=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(a))return new A(b(e[1],10),b(e[2],10),b(e[3],10),1);if(e=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(a))return new A(b(e[1],10),b(e[2],10),b(e[3],10),parseFloat(e[4]));if(e=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(a))return new z(parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])/100,1);if(e=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(a))return new z(parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])/100,parseFloat(e[4]));if(!d)throw new Error("Cannot parse color: "+a);return c}function D(a,b,c){a=Array.prototype.slice.call(a);var d=a.length,e=a.indexOf(b);return 0>e?0>c?a[d-1]:a[0]:(e+=c,0>e?e+=d:e%=d,a[e])}function F(a){a.preventDefault()}function G(a,b){return function(){return a.apply(b,arguments)}}var d=window.kendo,e=d.Class,f=d.ui,g=f.Widget,h=d.keys,i="background-color",j="k-state-selected",k="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",l="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",m={apply:"Apply",cancel:"Cancel"},n=".kendoColorTools",o="click"+n,p="keydown"+n,q=d.support.browser,r=q.msie&&q.version<9,s=g.extend({init:function(a,b){var d,c=this;g.fn.init.call(c,a,b),a=c.element,b=c.options,c._value=b.value=C(b.value),d=c._ariaId=b.ariaId,d&&a.attr("aria-labelledby",d),b._standalone&&(c._triggerSelect=c._triggerChange)},options:{name:"ColorSelector",value:null,_standalone:!0},events:["change","select","cancel"],color:function(a){return a!==c&&(this._value=C(a),this._updateUI(this._value)),this._value},value:function(a){return a=this.color(a),a&&(a=this.options.opacity?a.toCssRgba():a.toCss()),a||null},enable:function(b){0===arguments.length&&(b=!0),b?a(".k-disabled-overlay",this.wrapper).remove():this.wrapper.append("<div class='k-disabled-overlay'></div>"),this._onEnable(b)},_select:function(a,b){var c=this._value;a=this.color(a),b||(a.equals(c)?this._standalone||this.trigger("cancel"):this.trigger("change",{value:this.value()}))},_triggerSelect:function(a){t(this,"select",a)},_triggerChange:function(a){t(this,"change",a)},destroy:function(){this.element&&this.element.off(n),this.wrapper&&this.wrapper.off(n).find("*").off(n),this.wrapper=null,g.fn.destroy.call(this)},_updateUI:a.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}}),u=s.extend({init:function(b,c){var d=this;s.fn.init.call(d,b,c),b=d.wrapper=d.element,c=d.options;var e=c.palette;"websafe"==e?(e=l,c.columns=18):"basic"==e&&(e=k),"string"==typeof e&&(e=e.split(",")),a.isArray(e)&&(e=a.map(e,function(a){return C(a)})),b.addClass("k-widget k-colorpalette").append(a(d._template({colors:e,columns:c.columns,tileSize:c.tileSize,value:d._value,id:c.ariaId}))).on(o,".k-item",function(b){d._select(a(b.currentTarget).css(i))}).attr("tabIndex",0).on(p,G(d._keydown,d));var g,h,f=c.tileSize;if(f){if(/number|string/.test(typeof f))g=h=parseFloat(f);else{if("object"!=typeof f)throw new Error("Unsupported value for the 'tileSize' argument");g=parseFloat(f.width),h=parseFloat(f.height)}b.find(".k-item").css({width:g,height:h})}},focus:function(){this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(a){a?this.wrapper.removeAttr("tabIndex"):this.wrapper.attr("tabIndex",0)},_keydown:function(b){var c,d=this,e=d.wrapper,f=e.find(".k-item"),g=f.filter("."+j).get(0),k=b.keyCode;if(k==h.LEFT?c=D(f,g,-1):k==h.RIGHT?c=D(f,g,1):k==h.DOWN?c=D(f,g,d.options.columns):k==h.UP?c=D(f,g,-d.options.columns):k==h.ENTER?(F(b),g&&this._select(a(g).css(i))):k==h.ESC&&this._cancel(),c){F(b),c=a(c),a(g).removeClass(j).removeAttr("aria-selected"),c.addClass(j).attr("aria-selected",!0);try{var l=C(c.css(i));d._triggerSelect(l)}catch(m){}}},_updateUI:function(b){var c=this,d=null;c.wrapper.find(".k-item."+j).removeClass(j).removeAttr("aria-selected"),c.wrapper.find(".k-item").each(function(){var c=C(a(this).css(i));c&&c.equals(b)&&(d=this)}),a(d).addClass(j).attr("aria-selected",!0)},_template:d.template('<table class="k-palette k-reset"><tr># for (var i = 0; i < colors.length; ++i) { ## if (i && i % columns == 0) { # </tr><tr> # } #<td unselectable="on" style="background-color:#= colors[i].toCss() #" #=(id && i === 0) ? "id=\\""+id+"\\" aria-selected=\\"true\\"" : "" # class="k-item #= colors[i].equals(value) ? "'+j+'" : "" #" aria-label="#= colors[i].toCss() #"></td>'+"# } #"+"</tr></table>")}),v=s.extend({init:function(b,c){var d=this;s.fn.init.call(d,b,c),c=d.options,b=d.element,d.wrapper=b.addClass("k-widget k-flatcolorpicker").append(d._template(c)),d._hueElements=a(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",b),d._selectedColor=a(".k-selected-color-display",b),d._colorAsText=a("input.k-color-value",b),d._sliders(),d._hsvArea(),d._updateUI(d._value||new z(1,0,0,1)),b.find("input.k-color-value").on(p,function(b){var c=this;if(b.keyCode==h.ENTER)try{var e=C(c.value),f=d.color();d._select(e,e.equals(f))}catch(g){a(c).addClass("k-state-error")}else d.options.autoupdate&&setTimeout(function(){var a=C(c.value,!0);a&&d._updateUI(a,!0)},10)}).end().on(o,".k-controls button.apply",function(){d._select(d._getHSV())}).on(o,".k-controls button.cancel",function(){d._updateUI(d.color()),d._cancel()}),r&&d._applyIEFilter()},destroy:function(){this._hueSlider.destroy(),this._opacitySlider&&this._opacitySlider.destroy(),this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null,s.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:!1,buttons:!1,input:!0,preview:!0,autoupdate:!0,messages:m},_applyIEFilter:function(){var a=this.element.find(".k-hue-slider .k-slider-track")[0],b=a.currentStyle.backgroundImage;b=b.replace(/^url\([\'\"]?|[\'\"]?\)$/g,""),a.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+b+"', sizingMethod='scale')"},_sliders:function(){function c(b){a._updateUI(a._getHSV(b.value,null,null,null))}function d(b){a._updateUI(a._getHSV(null,null,null,b.value/100))}var a=this,b=a.element;a._hueSlider=b.find(".k-hue-slider").kendoSlider({min:0,max:359,tickPlacement:"none",showButtons:!1,slide:c,change:c}).data("kendoSlider"),a._opacitySlider=b.find(".k-transparency-slider").kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:!1,slide:d,change:d}).data("kendoSlider")},_hsvArea:function(){function f(b,c){var d=this.offset,e=b-d.left,f=c-d.top,g=this.width,h=this.height;e=0>e?0:e>g?g:e,f=0>f?0:f>h?h:f,a._svChange(e/g,1-f/h)}var a=this,b=a.element,c=b.find(".k-hsv-rectangle"),e=c.find(".k-draghandle").attr("tabIndex",0).on(p,G(a._keydown,a));a._hsvEvents=new d.UserEvents(c,{global:!0,press:function(a){this.offset=d.getOffset(c),this.width=c.width(),this.height=c.height(),e.focus(),f.call(this,a.x.location,a.y.location)},start:function(){c.addClass("k-dragging"),e.focus()},move:function(a){a.preventDefault(),f.call(this,a.x.location,a.y.location)},end:function(){c.removeClass("k-dragging")}}),a._hsvRect=c,a._hsvHandle=e},_onEnable:function(a){this._hueSlider.enable(a),this._opacitySlider&&this._opacitySlider.enable(a),this.wrapper.find("input").attr("disabled",!a);var b=this._hsvRect.find(".k-draghandle");a?b.attr("tabIndex",0):b.removeAttr("tabIndex")},_keydown:function(a){function c(c,d){var e=b._getHSV();e[c]+=d*(a.shiftKey?.01:.05),e[c]<0&&(e[c]=0),e[c]>1&&(e[c]=1),b._updateUI(e),F(a)}function d(c){var d=b._getHSV();d.h+=c*(a.shiftKey?1:5),d.h<0&&(d.h=0),d.h>359&&(d.h=359),b._updateUI(d),F(a)}var b=this;switch(a.keyCode){case h.LEFT:a.ctrlKey?d(-1):c("s",-1);break;case h.RIGHT:a.ctrlKey?d(1):c("s",1);break;case h.UP:c(a.ctrlKey&&b._opacitySlider?"a":"v",1);break;case h.DOWN:c(a.ctrlKey&&b._opacitySlider?"a":"v",-1);break;case h.ENTER:b._select(b._getHSV());break;case h.F2:b.wrapper.find("input.k-color-value").focus().select();break;case h.ESC:b._cancel()}},focus:function(){this._hsvHandle.focus()},_getHSV:function(a,b,c,d){var e=this._hsvRect,f=e.width(),g=e.height(),h=this._hsvHandle.position();return null==a&&(a=this._hueSlider.value()),null==b&&(b=h.left/f),null==c&&(c=1-h.top/g),null==d&&(d=this._opacitySlider?this._opacitySlider.value()/100:1),new B(a,b,c,d)},_svChange:function(a,b){var c=this._getHSV(null,a,b,null);this._updateUI(c)},_updateUI:function(a,b){var c=this,d=c._hsvRect;a&&(this._colorAsText.removeClass("k-state-error"),c._selectedColor.css(i,a.toDisplay()),b||c._colorAsText.val(c._opacitySlider?a.toCssRgba():a.toCss()),c._triggerSelect(a),a=a.toHSV(),c._hsvHandle.css({left:a.s*d.width()+"px",top:(1-a.v)*d.height()+"px"}),c._hueElements.css(i,new B(a.h,1,1,1).toCss()),c._hueSlider.value(a.h),c._opacitySlider&&c._opacitySlider.value(100*a.a))},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:d.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><input class="k-color-value" #= !data.input ? \'style="visibility: hidden;"\' : "" #></div></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')}),y=e.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var a=this.toBytes();return"rgba("+a.r+", "+a.g+", "+a.b+", "+x(this.a)+")"},toDisplay:function(){return r?this.toCss():this.toCssRgba()},equals:function(a){return a===this||null!==a&&this.toCssRgba()==C(a).toCssRgba()},diff:function(a){if(null==a)return 0/0;var b=this.toBytes();return a=a.toBytes(),Math.sqrt(Math.pow(.3*(b.r-a.r),2)+Math.pow(.59*(b.g-a.g),2)+Math.pow(.11*(b.b-a.b),2))},clone:function(){var a=this.toBytes();return a===this&&(a=new A(a.r,a.g,a.b,a.a)),a}}),z=y.extend({init:function(a,b,c,d){this.r=a,this.g=b,this.b=c,this.a=d},toHSV:function(){var a,b,c,d,e,f,g=this.r,h=this.g,i=this.b;return a=Math.min(g,h,i),b=Math.max(g,h,i),f=b,c=b-a,0===c?new B(0,0,f,this.a):(0!==b?(e=c/b,d=g==b?(h-i)/c:h==b?2+(i-g)/c:4+(g-h)/c,d*=60,0>d&&(d+=360)):(e=0,d=-1),new B(d,e,f,this.a))},toBytes:function(){return new A(255*this.r,255*this.g,255*this.b,this.a)}}),A=z.extend({init:function(a,b,c,d){this.r=Math.round(a),this.g=Math.round(b),this.b=Math.round(c),this.a=d},toRGB:function(){return new z(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return w(this.r,2)+w(this.g,2)+w(this.b,2)},toBytes:function(){return this}}),B=y.extend({init:function(a,b,c,d){this.h=a,this.s=b,this.v=c,this.a=d},toRGB:function(){var d,e,f,g,h,i,j,k,a=this.h,b=this.s,c=this.v;if(0===b)e=f=g=c;else switch(a/=60,d=Math.floor(a),h=a-d,i=c*(1-b),j=c*(1-b*h),k=c*(1-b*(1-h)),d){case 0:e=c,f=k,g=i;break;case 1:e=j,f=c,g=i;break;case 2:e=i,f=c,g=k;break;case 3:e=i,f=j,g=c;break;case 4:e=k,f=i,g=c;break;default:e=c,f=i,g=j}return new z(e,f,g,this.a)},toBytes:function(){return this.toRGB().toBytes()}}),E=g.extend({init:function(b,c){var d=this;g.fn.init.call(d,b,c),c=d.options,b=d.element;var e=b.attr("value")||b.val();e=e?C(e,!0):C(c.value,!0),d._value=c.value=e;var f=d.wrapper=a(d._template(c));b.hide().after(f),b.is("input")&&b.appendTo(f),d.enable(!b.attr("disabled"));var h=b.attr("accesskey");h&&(b.attr("accesskey",null),f.attr("accesskey",h)),d.bind("activate",function(a){a.isDefaultPrevented()||d.toggle()}),d._updateUI(e)},destroy:function(){this.wrapper.off(n).find("*").off(n),this._popup&&(this._selector.destroy(),this._popup.destroy()),this._selector=this._popup=this.wrapper=null,g.fn.destroy.call(this)},enable:function(a){var b=this,c=b.wrapper,d=c.children(".k-picker-wrap"),e=d.find(".k-select");0===arguments.length&&(a=!0),b.element.attr("disabled",!a),c.attr("disabled",!a),e.off(n).on("mousedown"+n,F),c.addClass("k-state-disabled").removeAttr("tabIndex").add("*",c).off(n),a&&c.removeClass("k-state-disabled").attr("tabIndex",0).on("mouseenter"+n,function(){d.addClass("k-state-hover")}).on("mouseleave"+n,function(){d.removeClass("k-state-hover")}).on("focus"+n,function(){d.addClass("k-state-focused")}).on("blur"+n,function(){d.removeClass("k-state-focused")}).on(p,G(b._keydown,b)).on(o,".k-icon",G(b.toggle,b)).on(o,b.options.toolIcon?".k-tool-icon":".k-selected-color",function(){b.trigger("activate")})},_template:d.template('<span class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"></span># } #<span class="k-select" unselectable="on"><span class="k-icon k-i-arrow-s" unselectable="on"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:m,opacity:!1,buttons:!0,preview:!0},events:["activate","change","select","open","close"],open:function(){this._getPopup().open()},close:function(){this._getPopup().close()},toggle:function(){this._getPopup().toggle()},color:s.fn.color,value:s.fn.value,_select:s.fn._select,_triggerSelect:s.fn._triggerSelect,_isInputTypeColor:function(){var a=this.element[0];return/^input$/i.test(a.tagName)&&/^color$/i.test(a.type)},_updateUI:function(a){a&&(this._isInputTypeColor()||1==a.a?this.element.val(a.toCss()):this.element.val(a.toCssRgba())),this._triggerSelect(a),this.wrapper.find(".k-selected-color").css(i,a?a.toDisplay():"transparent")},_keydown:function(a){var b=a.keyCode;this._getPopup().visible()?(b==h.ESC?this._selector._cancel():this._selector._keydown(a),F(a)):(b==h.ENTER||b==h.DOWN)&&(this.open(),F(a))},_getPopup:function(){var b=this,c=b._popup;if(!c){var e,d=this.options;e=d.palette?u:v,d._standalone=!1,delete d.select,delete d.change,delete d.cancel;var f=this._selector=new e(a("<div />").appendTo(document.body),d);b._popup=c=f.wrapper.kendoPopup({anchor:b.wrapper}).data("kendoPopup"),f.bind({select:function(a){b._updateUI(C(a.value))},change:function(){b._select(f.color()),b.close()},cancel:function(){b.close()}}),c.bind({close:function(a){if(b.trigger("close"))return a.preventDefault(),void 0;b.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var c=f._selectOnHide();c?b._select(c):(b.wrapper.focus(),b._updateUI(b.color()))},open:function(a){b.trigger("open")?a.preventDefault():b.wrapper.children(".k-picker-wrap").addClass("k-state-focused")},activate:function(){f._select(b.color(),!0),f.focus(),b.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})}return c}});f.plugin(u),f.plugin(v),f.plugin(E),d.parseColor=C,d.Color={fromBytes:function(a,b,c,d){return new A(a,b,c,null!=d?d:1)},fromRGB:function(a,b,c,d){return new z(a,b,c,null!=d?d:1)},fromHSV:function(a,b,c,d){return new B(a,b,c,null!=d?d:1)}}}(jQuery,parseInt),kendo_module({id:"columnmenu",name:"Column Menu",category:"framework",depends:["popup","filtermenu","menu"],advanced:!0}),function(a,b){function u(b){return a.trim(b).replace(/&nbsp;/gi,"")}var c=window.kendo,d=c.ui,e=a.proxy,f=a.extend,g=a.grep,h=a.map,i=a.inArray,j="k-state-selected",k="asc",l="desc",m="change",n="init",o="select",p="kendoPopup",q="kendoFilterMenu",r="kendoMenu",s=".kendoColumnMenu",t=d.Widget,v=t.extend({init:function(b,d){var g,f=this;t.fn.init.call(f,b,d),b=f.element,d=f.options,f.owner=d.owner,f.dataSource=d.dataSource,f.field=b.attr(c.attr("field")),g=b.find(".k-header-column-menu"),g[0]||(g=b.prepend('<a class="k-header-column-menu" href="#"><span class="k-icon k-i-arrowhead-s"/></a>').find(".k-header-column-menu")),f.link=g.attr("tabindex",-1).on("click"+s,e(f._click,f)),f.wrapper=a('<div class="k-column-menu"/>')},_init:function(){var a=this;a.pane=a.element.closest(c.roleSelector("pane")).data("kendoMobilePane"),a.pane&&(a._isMobile=!0),a._isMobile?a._createMobileMenu():a._createMenu(),a._sort(),a._columns(),a._filter(),a.trigger(n,{field:a.field,container:a.wrapper})},events:[n],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns",done:"Done",settings:"Column Settings"},filter:"",columns:!0,sortable:!0,filterable:!0,animations:{left:"slide"}},_createMenu:function(){var a=this,b=a.options;a.wrapper.html(c.template(w)({ns:c.ns,messages:b.messages,sortable:b.sortable,filterable:b.filterable,columns:a._ownerColumns(),showColumns:b.columns})),a.popup=a.wrapper[p]({anchor:a.link,open:e(a._open,a),activate:e(a._activate,a),close:a.options.closeCallback}).data(p),a.menu=a.wrapper.children()[r]({orientation:"vertical",closeOnClick:!1}).data(r)},_createMobileMenu:function(){var a=this,b=a.options,d=c.template(x)({ns:c.ns,field:a.field,messages:b.messages,sortable:b.sortable,filterable:b.filterable,columns:a._ownerColumns(),showColumns:b.columns});a.view=a.pane.append(d),a.wrapper=a.view.element.find(".k-column-menu"),a.menu=new y(a.wrapper.children(),{pane:a.pane}),a.view.element.on("click",".k-done",function(b){a.close(),b.preventDefault()})},destroy:function(){var a=this;t.fn.destroy.call(a),a.filterMenu&&a.filterMenu.destroy(),a._refreshHandler&&a.dataSource.unbind(m,a._refreshHandler),a.options.columns&&(a.owner.unbind("columnShow",a._updateColumnsMenuHandler),a.owner.unbind("columnHide",a._updateColumnsMenuHandler)),a.menu&&(a.menu.element.off(s),a.menu.destroy()),a.wrapper.off(s),a.popup&&a.popup.destroy(),a.view&&a.view.purge(),a.link.off(s)},close:function(){this.menu.close(),this.popup&&(this.popup.close(),this.popup.element.off("keydown"+s))},_click:function(a){a.preventDefault(),a.stopPropagation();var b=this.options;b.filter&&this.element.is(!b.filter)||(this.popup||this.pane||this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle())},_open:function(){var b=this;a(".k-column-menu").not(b.wrapper).each(function(){a(this).data(p).close()}),b.popup.element.on("keydown"+s,function(a){a.keyCode==c.keys.ESC&&b.close()})},_activate:function(){this.menu.element.focus()},_ownerColumns:function(){var a=this.owner.columns,b=g(a,function(a){var b=!0,c=u(a.title||"");return(a.menu===!1||!a.field&&!c.length)&&(b=!1),b});return h(b,function(b){return{originalField:b.field,field:b.field||b.title,title:b.title||b.field,hidden:b.hidden,index:i(b,a)}})},_sort:function(){var b=this;b.options.sortable&&(b.refresh(),b._refreshHandler=e(b.refresh,b),b.dataSource.bind(m,b._refreshHandler),b.menu.bind(o,function(c){var e,d=a(c.item);d.hasClass("k-sort-asc")?e=k:d.hasClass("k-sort-desc")&&(e=l),e&&(d.parent().find(".k-sort-"+(e==k?l:k)).removeClass(j),b._sortDataSource(d,e),b.close())}))},_sortDataSource:function(a,c){var g,h,d=this,e=d.options.sortable,f=d.dataSource,i=f.sort()||[];if(a.hasClass(j)&&e&&e.allowUnsort!==!1?(a.removeClass(j),c=b):a.addClass(j),e===!0||"single"===e.mode)i=[{field:d.field,dir:c}];else{for(g=0,h=i.length;h>g;g++)if(i[g].field===d.field){i.splice(g,1);break}i.push({field:d.field,dir:c})}f.sort(i)},_columns:function(){var b=this;b.options.columns&&(b._updateColumnsMenu(),b._updateColumnsMenuHandler=e(b._updateColumnsMenu,b),b.owner.bind(["columnHide","columnShow"],b._updateColumnsMenuHandler),b.menu.bind(o,function(d){var f,h,j,l,e=a(d.item),k=b.owner.columns;b._isMobile&&d.preventDefault(),e.parent().closest("li.k-columns-item")[0]&&(f=e.find(":checkbox"),f.attr("disabled")||(l=f.attr(c.attr("field")),j=g(k,function(a){return a.field==l||a.title==l})[0],h=i(j,k),j.hidden===!0?b.owner.showColumn(h):b.owner.hideColumn(h)))}))},_updateColumnsMenu:function(){var b=c.attr("field"),d=g(this._ownerColumns(),function(a){return!a.hidden}),e=g(d,function(a){return a.originalField}).length;d=h(d,function(a){return a.field}),this.wrapper.find(".k-columns-item input["+b+"]").prop("checked",!1).filter(function(){return i(a(this).attr(b),d)>-1}).prop("checked",!0).prop("disabled",1==e)},_filter:function(){var b=this,c=b.options;c.filterable!==!1&&(b.filterMenu=b.wrapper.find(".k-filterable")[q](f(!0,{},{appendToElement:!0,dataSource:c.dataSource,values:c.values,field:b.field},c.filterable)).data(q),b._isMobile&&b.menu.bind(o,function(c){var d=a(c.item);d.hasClass("k-filter-item")&&b.pane.navigate(b.filterMenu.view,b.options.animations.left)}))},refresh:function(){var c,e,f,a=this,b=a.options.dataSource.sort()||[],d=a.field;for(a.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(j),e=0,f=b.length;f>e;e++)c=b[e],d==c.field&&a.wrapper.find(".k-sort-"+c.dir).addClass(j)}}),w='<ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item"><span class="k-link"><span class="k-sprite k-i-columns"></span>${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li><input type="checkbox" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#"/>#=columns[idx].title#</li>#}#</ul></li>#if(filterable){#<li class="k-separator"></li>#}##}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link"><span class="k-sprite k-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#}#</ul>',x='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-column-menu"><div data-#=ns#role="header" class="k-header">${messages.settings}<button class="k-button k-done">#=messages.done#</button></div><div class="k-column-menu k-mobile-list"><ul><li><span class="k-link">${field}</span><ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link k-filterable"><span class="k-sprite k-filter"></span>${messages.filter}</span></li>#}#</ul></li>#if(showColumns){#<li class="k-columns-item"><span class="k-link">${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li class="k-item"><label class="k-label"><input type="checkbox" class="k-check" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#"/>#=columns[idx].title#</label></li>#}#</ul></li>#}#</ul></div></div>',y=t.extend({init:function(a,b){t.fn.init.call(this,a,b),this.element.on("click"+s,"li:not(.k-separator)","_click")
},events:[o],_click:function(a){this.trigger(o,{item:a.currentTarget})&&a.preventDefault()},close:function(){this.options.pane.navigate("")},destroy:function(){t.fn.destroy.call(this),this.element.off(s)}});d.plugin(v)}(window.kendo.jQuery),kendo_module({id:"grid",name:"Grid",category:"web",description:"The Grid widget displays tabular data and offers rich support for interacting with data,including paging, sorting, grouping, and selection.",depends:["data"],features:[{id:"grid-editing",name:"Editing",description:"Support for record editing",depends:["editable","window"]},{id:"grid-filtering",name:"Filtering",description:"Support for record filtering",depends:["filtermenu"]},{id:"grid-columnmenu",name:"Column menu",description:"Support for header column menu",depends:["columnmenu"]},{id:"grid-grouping",name:"Grouping",description:"Support for grid grouping",depends:["groupable"]},{id:"grid-paging",name:"Paging",description:"Suppot for grid paging",depends:["pager"]},{id:"grid-selection",name:"Selection",description:"Support for row selection",depends:["selectable"]},{id:"grid-sorting",name:"Sorting",description:"Support for grid sorting",depends:["sortable"]},{id:"grid-column-reorder",name:"Column reordering",description:"Support for column reordering",depends:["reorderable"]},{id:"grid-column-resize",name:"Column resizing",description:"Support for column resizing",depends:["resizable"]},{id:"grid-mobile",name:"Grid adaptive rendering",description:"Support for adaptive rendering",depends:["mobile.actionsheet","mobile.pane"]}]}),function(a,b){function kb(a){return new Array(a+1).join('<td class="k-group-cell">&nbsp;</td>')}function lb(a){var b,c=" ";if(a){if(typeof a===Y)return a;for(b in a)c+=b+'="'+a[b]+'"'}return c}function nb(b){var c=0;return a("> .k-grouping-header, > .k-grid-toolbar",b).each(function(){c+=this.offsetHeight}),c}function ob(b,c){a("th, th .k-grid-filter, th .k-link",b).add(document.body).css("cursor",c)}function pb(a){var b,c,d={},e={};if(!s(a))for(o(a)||(a=[a]),b=0,c=a.length;c>b;b++)d[a[b].aggregate]=0,e[a[b].field]=d;return e}function qb(a,b,c){var d=a.eq(b),e=a.eq(c);d[b>c?"insertBefore":"insertAfter"](e)}function rb(a,b,c){var d,e,f,g;for(c=o(c)?c:[c],d=0,e=c.length;e>d;d++)f=c[d],k(f)&&f.click&&(g=f.name||f.text,b.on(U+C,"a.k-grid-"+(g||"").replace(/\s/g,""),{commandName:g},q(f.click,a)))}function sb(a){return n(a,function(a){return!a.hidden})}function tb(a){a=a||{};var b=a.style;return b?(b=b.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"),b===a.style&&(b=b.replace(/(.*)?/i,"display:none;$1"))):b="display:none",l({},a,{style:b})}function ub(a){a=a||{};var b=a.style;return b&&(a.style=b.replace(/(display\s*:\s*none\s*;?)*/gi,"")),a}function vb(b,d,e,f){var h,g=b.find(">colgroup"),i=m(d,function(a){return h=a.width,h&&0!==parseInt(h,10)?c.format('<col style="width:{0}"/>',typeof h===Y?h:h+"px"):"<col />"});(e||g.find(".k-hierarchy-col").length)&&i.splice(0,0,'<col class="k-hierarchy-col" />'),g.length&&g.remove(),g=a(new Array(f+1).join('<col class="k-group-col">')+i.join("")),g.is("colgroup")||(g=a("<colgroup/>").append(g)),b.prepend(g),gb.msie&&8==gb.version&&(b.css("display","inline-table"),window.setTimeout(function(){b.css("display","")},1))}function wb(a){var c,d,e,b={};for(d=0,e=a.length;e>d;d++)c=a[d],b[c.value]=c.text;return b}function xb(a,b,d){var e=d&&d.length&&k(d[0])&&"value"in d[0],f=e?wb(d)[a]:a;return f=null!=f?f:"",b?c.format(b,f):f}function yb(a,b,c){for(var e,d=0,f=a[d];f;){if(e=c?!0:"none"!==f.style.display,e&&!db.test(f.className)&&--b<0){f.style.display=c?"":"none";break}f=a[++d]}}function Ab(a,b){var c,d,e;if(typeof a===Y&&a===b)return a;if(k(a)&&a.name===b)return a;if(o(a))for(c=0,d=a.length;d>c;c++)if(e=a[c],typeof e===Y&&e===b||e.name===b)return e;return null}function Bb(b,c){var d=gb.msie;if(c===!0){b=a(b);var f,g,e=d&&b.parent().is(".k-grid-content,.k-grid-header-wrap");if(e&&(f=b.parent().scrollTop(),g=b.parent().scrollLeft()),d)try{b[0].setActive()}catch(h){b[0].focus()}else b[0].focus();e&&(b.parent().scrollTop(f),b.parent().scrollLeft(g))}else a(b).one("focusin",function(a){a.preventDefault()}).focus()}function Cb(b){var d=a(b.currentTarget),e=d.is("th"),f=d.closest("table")[0];c.support.touch||(f===this.table[0]||f===this.thead.parent()[0])&&(this.current(d),(e||!a(b.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap"))&&setTimeout(function(){ib&&a(c._activeElement()).hasClass("k-widget")||Bb(f,!0)}),e&&b.preventDefault())}var c=window.kendo,d=c.ui,e=c.data.DataSource,f=d.Groupable,g=c.support.tbodyInnerHtml,h=c._activeElement,i=d.Widget,j=c.keys,k=a.isPlainObject,l=a.extend,m=a.map,n=a.grep,o=a.isArray,p=a.inArray,q=a.proxy,r=c.isFunction,s=a.isEmptyObject,t=Math,u="progress",v="error",w=":not(.k-group-cell):not(.k-hierarchy-cell):visible",x="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",y="tr:not(.k-footer-template):visible",z=":not(.k-group-cell):not(.k-hierarchy-cell):visible",A=y+":first>"+z+":first",B="th.k-header:not(.k-group-cell,.k-hierarchy-cell)",C=".kendoGrid",D="edit",E="save",F="remove",G="detailInit",H="filterMenuInit",I="columnMenuInit",J="change",K="columnHide",L="columnShow",M="saveChanges",N="dataBound",O="detailExpand",P="detailCollapse",Q="k-state-focused",R="k-state-selected",S="columnResize",T="columnReorder",U="click",V="height",W="tabIndex",X="function",Y="string",Z="Are you sure you want to delete this record?",$="Delete",_="Cancel",ab=/(\}|\#)/gi,bb=/#/gi,cb="[\\x20\\t\\r\\n\\f]",db=new RegExp("(^|"+cb+")"+"(k-group-cell|k-hierarchy-cell)"+"("+cb+"|$)"),eb='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',fb=!1,gb=c.support.browser,hb=gb.msie&&7==gb.version,ib=gb.msie&&8==gb.version,jb=i.extend({init:function(a,b){var c=this;i.fn.init.call(c,a,b),c._refreshHandler=q(c.refresh,c),c.setDataSource(b.dataSource),c.wrap()},setDataSource:function(a){var b=this;b.dataSource&&b.dataSource.unbind(J,b._refreshHandler),b.dataSource=a,b.dataSource.bind(J,b._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:a.noop},destroy:function(){var a=this;i.fn.destroy.call(a),a.dataSource.unbind(J,a._refreshHandler),a.wrapper.add(a.verticalScrollbar).off(C),a.drag&&a.drag.destroy()},wrap:function(){var f,b=this,d=c.support.scrollbar()+1,e=b.element;e.css({width:"auto",overflow:"hidden"}).css(fb?"padding-left":"padding-right",d),b.content=e.children().first(),f=b.wrapper=b.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+C+" mousewheel"+C,q(b._wheelScroll,b)),c.support.kineticScrollNeeded&&(b.drag=new c.UserEvents(b.wrapper,{global:!0,move:function(a){b.verticalScrollbar.scrollTop(b.verticalScrollbar.scrollTop()-a.y.delta),f.scrollLeft(f.scrollLeft()-a.x.delta),a.preventDefault()}})),b.verticalScrollbar=a('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:d}).appendTo(e).bind("scroll"+C,q(b._scroll,b))},_wheelScroll:function(a){var g,c=this,d=c.verticalScrollbar.scrollTop(),e=a.originalEvent,f=e.wheelDeltaY;e.wheelDelta?(f===b||f)&&(g=e.wheelDelta):e.detail&&e.axis===e.VERTICAL_AXIS&&(g=10*-e.detail),g&&(a.preventDefault(),c.verticalScrollbar.scrollTop(d+-g))},_scroll:function(a){var b=this,c=a.currentTarget.scrollTop,d=b.dataSource,e=b.itemHeight,f=d.skip()||0,g=b._rangeStart||f,h=b.element.innerHeight(),i=!!(b._scrollbarTop&&b._scrollbarTop>c),j=t.max(t.floor(c/e),0),k=t.max(j+t.floor(h/e),0);b._scrollTop=c-g*e,b._scrollbarTop=c,b._fetch(j,k,i)||(b.wrapper[0].scrollTop=b._scrollTop)},_fetch:function(a,b,c){var d=this,e=d.dataSource,f=d.itemHeight,g=e.take(),h=d._rangeStart||e.skip()||0,i=t.floor(a/g)*g,j=!1,k=.33;return h>a?(j=!0,h=t.max(0,b-g),d._scrollTop=(a-h)*f,d._page(h,g)):b>=h+g&&!c?(j=!0,h=a,d._scrollTop=f,d._page(h,g)):d._fetching||(i+g-g*k>a&&a>g&&e.prefetch(i-g,g),b>i+g*k&&e.prefetch(i+g,g)),j},_page:function(a,b){var d=this,e=d.dataSource;clearTimeout(d._timeout),d._fetching=!0,d._rangeStart=a,e.inRange(a,b)?e.range(a,b):(c.ui.progress(d.wrapper.parent(),!0),d._timeout=setTimeout(function(){e.range(a,b)},100))},refresh:function(){var i,j,k,a=this,b="",d=25e4,e=a.dataSource,f=a._rangeStart,g=c.support.kineticScrollNeeded?0:c.support.scrollbar(),h=a.wrapper[0];c.ui.progress(a.wrapper.parent(),!1),clearTimeout(a._timeout),k=a.itemHeight=a.options.itemHeight()||0;var l=h.scrollWidth>h.offsetWidth?g:0;for(i=e.total()*k+l,j=0;j<t.floor(i/d);j++)b+='<div style="width:1px;height:'+d+'px"></div>';i%d&&(b+='<div style="width:1px;height:'+i%d+'px"></div>'),a.verticalScrollbar.html(b),h.scrollTop=a._scrollTop,a.drag&&a.drag.cancel(),f&&!a._fetching&&(a._rangeStart=e.skip()),a._fetching=!1}}),mb={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"}},zb=i.extend({init:function(a,b){var d=this;b=o(b)?{dataSource:b}:b,i.fn.init.call(d,a,b),fb=c.support.isRtl(a),d._element(),d._aria(),d._columns(d.options.columns),d._dataSource(),d._tbody(),d._pageable(),d._thead(),d._groupable(),d._toolbar(),d._setContentHeight(),d._templates(),d._navigatable(),d._selectable(),d._details(),d._editable(),d._attachCustomCommandsEvent(),d.options.autoBind?d.dataSource.fetch():d._footer(),c.notify(d)},events:[J,"dataBinding","cancel",N,O,P,G,H,I,D,E,F,M,S,T,L,K],setDataSource:function(a){var b=this;b.options.dataSource=a,b._dataSource(),b._pageable(),b.options.groupable&&b._groupable(),b._thead(),b.virtualScrollable&&b.virtualScrollable.setDataSource(b.options.dataSource),b.options.autoBind&&a.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,navigatable:!1,pageable:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3},destroy:function(){var d,b=this;i.fn.destroy.call(b),b.pager&&b.pager.destroy(),b.groupable&&b.groupable.destroy(),b.options.reorderable&&b.wrapper.data("kendoReorderable").destroy(),b.resizable&&(b.resizable.destroy(),b._resizeUserEvents&&(b._resizeHandleDocumentClickHandler&&a(document).off("click",b._resizeHandleDocumentClickHandler),b._resizeUserEvents.destroy())),b.virtualScrollable&&b.virtualScrollable.destroy(),b._destroyColumnAttachments(),b._destroyEditable(),b.dataSource.unbind(J,b._refreshHandler).unbind(u,b._progressHandler).unbind(v,b._errorHandler),d=b.element.add(b.wrapper).add(b.table).add(b.thead).add(b.wrapper.find(">.k-grid-toolbar")),b.content&&(d=d.add(b.content).add(b.content.find(">.k-virtual-scrollable-wrap"))),b.pane&&b.pane.destroy(),d.off(C),c.destroy(b.wrapper)},setOptions:function(a){var b=this;i.fn.setOptions.call(this,a),b._templates()},items:function(){return this.tbody.children(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")},_destroyColumnAttachments:function(){var b=this;b.resizeHandle=null,b.thead.find("th").each(function(){var b=a(this),c=b.data("kendoFilterMenu"),d=b.data("kendoSortable"),e=b.data("kendoColumnMenu");c&&c.destroy(),d&&d.destroy(),e&&e.destroy()})},_attachCustomCommandsEvent:function(){var c,d,e,a=this,b=a.columns||[];for(d=0,e=b.length;e>d;d++)c=b[d].command,c&&rb(a,a.wrapper,c)},_aria:function(){var a=this.element.attr("id")||"aria";a&&(this._cellId=a+"_active_cell")},_element:function(){var b=this,c=b.element;c.is("table")||(c=b.options.scrollable?b.element.find("> .k-grid-content > table"):b.element.children("table"),c.length||(c=a("<table />").appendTo(b.element))),hb&&c.attr("cellspacing",0),b.table=c.attr("role",b._hasDetails()?"treegrid":"grid"),b._wrapper()},_createResizeHandle:function(b,c){var h,d=this,e=d.options.columnResizeHandleWidth,f=d.options.scrollable,g=d.resizeHandle;if(g||(g=d.resizeHandle=a('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>'),b.append(g)),fb){var i=c.closest(".k-grid-header-wrap"),j=gb.msie?i.scrollLeft():0,k=gb.webkit?i[0].scrollWidth-i[0].offsetWidth-i.scrollLeft():0,l=gb.mozilla?i[0].scrollWidth-i[0].offsetWidth-(i[0].scrollWidth-i[0].offsetWidth-i.scrollLeft()):0;h=c.position().left-k+l-j}else h=c[0].offsetWidth,c.prevAll(":visible").each(function(){h+=this.offsetWidth});g.css({top:f?0:nb(d.wrapper),left:h-e,height:c.outerHeight(),width:3*e}).data("th",c).show()},_positionColumnResizeHandle:function(b){var c=this,d=c.resizeHandle,e=c.options.columnResizeHandleWidth;c.thead.on("mousemove"+C,"th:not(.k-group-cell,.k-hierarchy-cell)",function(f){var g=a(this),h=f.clientX,i=a(window).scrollLeft(),j=g.offset().left+(fb?0:this.offsetWidth);h+i>j-e&&j+e>h+i?c._createResizeHandle(b,g):d?d.hide():ob(c.wrapper,"")})},_resizeHandleDocumentClick:function(b){a(b.target).closest(".k-column-active").length||(a(document).off(b),this._hideResizeHandle())},_hideResizeHandle:function(){this.resizeHandle&&(this.resizeHandle.data("th").removeClass("k-column-active"),this.resizeHandle.hide())},_positionColumnResizeHandleTouch:function(b){var d=this;d._resizeUserEvents=new c.UserEvents(d.thead,{filter:"th:not(.k-group-cell,.k-hierarchy-cell)",threshold:10,hold:function(c){var e=a(c.target);c.preventDefault(),e.addClass("k-column-active"),d._createResizeHandle(b,e),d._resizeHandleDocumentClickHandler||(d._resizeHandleDocumentClickHandler=q(d._resizeHandleDocumentClick,d)),a(document).on("click",d._resizeHandleDocumentClickHandler)}})},_resizable:function(){var e,f,g,h,j,k,b=this,c=b.options,i=this._isMobile;c.resizable&&(e=c.scrollable?b.wrapper.find(".k-grid-header-wrap:first"):b.wrapper,i?b._positionColumnResizeHandleTouch(e):b._positionColumnResizeHandle(e),b.resizable=new d.Resizable(e,{handle:".k-resize-handle",hint:function(c){return a('<div class="k-grid-resize-indicator" />').css({height:c.data("th").outerHeight()+b.tbody.attr("clientHeight")})},start:function(d){k=a(d.currentTarget).data("th"),i&&b._hideResizeHandle();var e=a.inArray(k[0],k.parent().children(":visible")),l=b.tbody.parent(),m=b.footer||a();ob(b.wrapper,"col-resize"),j=c.scrollable?b.thead.parent().find("col:eq("+e+")").add(l.children("colgroup").find("col:eq("+e+")")).add(m.find("colgroup").find("col:eq("+e+")")):l.children("colgroup").find("col:eq("+e+")"),f=d.x.location,g=k.outerWidth(),h=b.tbody.outerWidth()},resize:function(d){var e=fb?-1:1,i=g+d.x.location*e-f*e,k=b.footer||a();i>10&&(j.css("width",i),c.scrollable&&h&&(b._footerWidth=h+d.x.location*e-f*e,b.tbody.parent().add(b.thead.parent()).add(k.find("table")).css("width",b._footerWidth)))},resizeend:function(){var c,a=k.outerWidth();ob(b.wrapper,""),g!=a&&(c=b.columns[k.parent().find("th:not(.k-group-cell,.k-hierarchy-cell)").index(k)],c.width=a,b.trigger(S,{column:c,oldWidth:g,newWidth:a})),b._hideResizeHandle(),k=null}}))},_draggable:function(){var b=this;b.options.reorderable&&(b._draggableInstance&&b._draggableInstance.destroy(),b._draggableInstance=b.wrapper.kendoDraggable({group:c.guid(),filter:b.content?".k-grid-header:first "+B:"table:first>.k-grid-header "+B,drag:function(){b._hideResizeHandle()},hint:function(b){return a('<div class="k-header k-drag-clue" />').css({width:b.width(),paddingLeft:b.css("paddingLeft"),paddingRight:b.css("paddingRight"),lineHeight:b.height()+"px",paddingTop:b.css("paddingTop"),paddingBottom:b.css("paddingBottom")}).html(b.attr(c.attr("title"))||b.attr(c.attr("field"))||b.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable"))},_reorderable:function(){var a=this;a.options.reorderable&&a.wrapper.kendoReorderable({draggable:a._draggableInstance,change:function(b){var c=p(a.columns[b.newIndex],a.columns),d=a.columns[b.oldIndex];a.trigger(T,{newIndex:c,oldIndex:p(d,a.columns),column:d}),a.reorderColumn(c,d)}})},reorderColumn:function(a,b){var g,h,i,c=this,d=p(b,c.columns),e=p(b,sb(c.columns)),f=p(c.columns[a],sb(c.columns)),j=c.footer||c.wrapper.find(".k-grid-footer");if(d!==a)for(c._hideResizeHandle(),c.columns.splice(d,1),c.columns.splice(a,0,b),c._templates(),qb(c.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),e,f),c.options.scrollable&&qb(c.tbody.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),e,f),qb(c.thead.find(".k-header:not(.k-group-cell,.k-hierarchy-cell)"),d,a),j&&j.length&&(qb(j.find(".k-grid-footer-wrap>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),e,f),qb(j.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),d,a)),g=c.tbody.children(":not(.k-grouping-row,.k-detail-row)"),h=0,i=g.length;i>h;h+=1)qb(g.eq(h).find(">td:not(.k-group-cell,.k-hierarchy-cell)"),d,a)},cellIndex:function(b){return a(b).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(b)},_modelForContainer:function(b){b=a(b),b.is("tr")||"popup"===this._editMode()||(b=b.closest("tr"));var d=b.attr(c.attr("uid"));return this.dataSource.getByUid(d)},_editable:function(){var b=this,c=b.selectable&&b.selectable.options.multiple,d=b.options.editable,e=function(){var c=h(),d=b._editContainer;!d||a.contains(d[0],c)||d[0]===c||a(c).closest(".k-animation-container").length||b.editable.end()&&b.closeCell()};if(d){var f=b._editMode();"incell"===f?d.update!==!1&&b.wrapper.on(U+C,"tr:not(.k-grouping-row) > td",function(d){var e=a(this);e.hasClass("k-hierarchy-cell")||e.hasClass("k-detail-cell")||e.hasClass("k-group-cell")||e.hasClass("k-edit-cell")||e.has("a.k-grid-delete").length||e.has("button.k-grid-delete").length||e.closest("tbody")[0]!==b.tbody[0]||a(d.target).is(":input")||(b.editable?b.editable.end()&&(c&&a(h()).blur(),b.closeCell(),b.editCell(e)):b.editCell(e))}).on("focusin"+C,function(){clearTimeout(b.timer),b.timer=null}).on("focusout"+C,function(){b.timer=setTimeout(e,1)}):d.update!==!1&&b.wrapper.on(U+C,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(c){c.preventDefault(),b.editRow(a(this).closest("tr"))}),d.destroy!==!1?b.wrapper.on(U+C,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(c){c.preventDefault(),c.stopPropagation(),b.removeRow(a(this).closest("tr"))}):b.wrapper.on(U+C,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(a){a.stopPropagation(),b._confirmation()||a.preventDefault()})}},editCell:function(b){b=a(b);var c=this,d=c.columns[c.cellIndex(b)],e=c._modelForContainer(b);!e||e.editable&&!e.editable(d.field)||d.command||!d.field||(c._attachModelChange(e),c._editContainer=b,c.editable=b.addClass("k-edit-cell").kendoEditable({fields:{field:d.field,format:d.format,editor:d.editor,values:d.values},model:e,change:function(a){c.trigger(E,{values:a.values,container:b,model:e})&&a.preventDefault()}}).data("kendoEditable"),b.parent().addClass("k-grid-edit-row"),c.trigger(D,{container:b,model:e}))},_destroyEditable:function(){var a=this,b=function(){a.editable&&(a._detachModelChange(),a.editable.destroy(),a.editable=null,a._editContainer=null,a._destroyEditView())};a.editable&&("popup"!==a._editMode()||a._isMobile?b():a._editContainer.data("kendoWindow").bind("deactivate",b).close())},_destroyEditView:function(){this.editView&&(this.editView.purge(),this.editView=null,this.pane.navigate(""))},_attachModelChange:function(a){var b=this;b._modelChangeHandler=function(a){b._modelChange({field:a.field,model:this})},a.bind("change",b._modelChangeHandler)},_detachModelChange:function(){var a=this,b=a._editContainer,c=a._modelForContainer(b);c&&c.unbind(J,a._modelChangeHandler)},closeCell:function(b){var f,g,h,d=this,e=d._editContainer;e&&(f=e.closest("tr").attr(c.attr("uid")),h=d.dataSource.getByUid(f),b&&d.trigger("cancel",{container:e,model:h})||(e.removeClass("k-edit-cell"),g=d.columns[d.cellIndex(e)],e.parent().removeClass("k-grid-edit-row"),d._destroyEditable(),d._displayCell(e,g,h),e.hasClass("k-dirty-cell")&&a('<span class="k-dirty"/>').prependTo(e)))},_displayCell:function(a,b,d){var e=this,f={storage:{},count:0},g=l({},c.Template,e.options.templateSettings),h=c.template(e._cellTmpl(b,f),g);f.count>0&&(h=q(h,f.storage)),a.empty().html(h(d))},removeRow:function(a){this._confirmation(a)&&this._removeRow(a)},_removeRow:function(b){var d,e,c=this;b=a(b).hide(),d=c._modelForContainer(b),d&&!c.trigger(F,{row:b,model:d})&&(e=c._editMode(),"incell"!==e&&c.cancelRow(),c.dataSource.remove(d),("inline"===e||"popup"===e)&&c.dataSource.sync())},_editMode:function(){var a="incell",b=this.options.editable;return b!==!0&&(a="string"==typeof b?b:b.mode||a),a},editRow:function(b){var d,e=this;b instanceof c.data.ObservableObject?d=b:(b=a(b),d=e._modelForContainer(b));var h,f=e._editMode(),g=e.options.navigatable;e.cancelRow(),d&&(e._attachModelChange(d),"popup"===f?e._createPopupEditor(d):"inline"===f?e._createInlineEditor(b,d):"incell"===f&&a(b).children(w).each(function(){var b=a(this),c=e.columns[b.index()];return d=e._modelForContainer(b),d&&(!d.editable||d.editable(c.field))&&c.field?(e.editCell(b),!1):void 0}),h=e.editView?e.editView.element:e._editContainer,h.on(U+C,"a.k-grid-cancel",function(b){if(b.preventDefault(),b.stopPropagation(),!e.trigger("cancel",{container:h,model:d})){var c=e.items().index(a(e.current()).parent());e.cancelRow(),g&&(e.current(e.items().eq(c).children().filter(z).first()),Bb(e.table,!0))}}),h.on(U+C,"a.k-grid-update",function(a){a.preventDefault(),a.stopPropagation(),e.saveRow()}))},_createPopupEditor:function(b){var f,g,i,j,m,n,o,p,r,d=this,e="<div "+c.attr("uid")+'="'+b.uid+'" class="k-popup-edit-form'+(d._isMobile?" k-mobile-list":"")+'"><div class="k-edit-form-container">',h=[],s=d.options.editable,t=s.template,u=k(s)?s.window:{},v=l({},c.Template,d.options.templateSettings);if(u=u||{},t)for(typeof t===Y&&(t=window.unescape(t)),e+=c.template(t,v)(b),i=0,j=d.columns.length;j>i;i++)f=d.columns[i],f.command&&(p=Ab(f.command,"edit"),p&&(g=p));else for(i=0,j=d.columns.length;j>i;i++)if(f=d.columns[i],f.command)f.command&&(p=Ab(f.command,"edit"),p&&(g=p));else if(e+='<div class="k-edit-label"><label for="'+f.field+'">'+(f.title||f.field||"")+"</label></div>",b.editable&&!b.editable(f.field)||!f.field){var w={storage:{},count:0};m=c.template(d._cellTmpl(f,w),v),w.count>0&&(m=q(m,w.storage)),e+='<div class="k-edit-field">'+m(b)+"</div>"}else h.push({field:f.field,format:f.format,editor:f.editor,values:f.values}),e+="<div "+c.attr("container-for")+'="'+f.field+'" class="k-edit-field"></div>';g&&k(g)&&(g.text&&k(g.text)&&(n=g.text.update,o=g.text.cancel),g.attr&&(r=g.attr));var x;d._isMobile?(e+="</div></div>",d.editView=d.pane.append("<div data-"+c.ns+'role="view" data-'+c.ns+'init-widgets="false" class="k-grid-edit-form">'+"<div data-"+c.ns+'role="header" class="k-header">'+d._createButton({name:"update",text:n,attr:r})+(u.title||"Edit")+d._createButton({name:"canceledit",text:o,attr:r})+"</div>"+e+"</div>"),x=d._editContainer=d.editView.element.find(".k-popup-edit-form")):(e+='<div class="k-edit-buttons k-state-default">',e+=d._createButton({name:"update",text:n,attr:r})+d._createButton({name:"canceledit",text:o,attr:r}),e+="</div></div></div>",x=d._editContainer=a(e).appendTo(d.wrapper).eq(0).kendoWindow(l({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(c){if(c.userTriggered){if(d.trigger("cancel",{container:x,model:b}))return c.preventDefault(),void 0;var e=d.items().index(a(d.current()).parent());d.cancelRow(),d.options.navigatable&&(d.current(d.items().eq(e).children().filter(z).first()),Bb(d.table,!0))}}},u))),d.editable=d._editContainer.kendoEditable({fields:h,model:b,clearContainer:!1}).data("kendoEditable"),d._isMobile&&x.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){a(this).next().children("input").click()}),d._openPopUpEditor(),d.trigger(D,{container:x,model:b})},_openPopUpEditor:function(){this._isMobile?this.pane.navigate(this.editView,this._editAnimation):this._editContainer.data("kendoWindow").center().open()},_createInlineEditor:function(b,d){var f,g,h,e=this,i=[];b.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(g=a(this),f=e.columns[e.cellIndex(g)],f.command||!f.field||d.editable&&!d.editable(f.field)){if(f.command&&(h=Ab(f.command,"edit"))){g.empty();var b,j,l;k(h)&&(h.text&&k(h.text)&&(b=h.text.update,j=h.text.cancel),h.attr&&(l=h.attr)),a(e._createButton({name:"update",text:b,attr:l})+e._createButton({name:"canceledit",text:j,attr:l})).appendTo(g)}}else i.push({field:f.field,format:f.format,editor:f.editor,values:f.values}),g.attr(c.attr("container-for"),f.field),g.empty()}),e._editContainer=b,e.editable=b.addClass("k-grid-edit-row").kendoEditable({fields:i,model:d,clearContainer:!1}).data("kendoEditable"),e.trigger(D,{container:b,model:d})},cancelRow:function(){var d,a=this,b=a._editContainer;b&&(d=a._modelForContainer(b),a._destroyEditable(),a.dataSource.cancelChanges(d),"popup"!==a._editMode()?a._displayRow(b):a._displayRow(a.items().filter("["+c.attr("uid")+"="+d.uid+"]")))},saveRow:function(){var a=this,b=a._editContainer,c=a._modelForContainer(b),d=a.editable;b&&d&&d.end()&&!a.trigger(E,{container:b,model:c})&&a.dataSource.sync()},_displayRow:function(b){var c=this,d=c._modelForContainer(b);d&&b.replaceWith(a((b.hasClass("k-alt")?c.altRowTemplate:c.rowTemplate)(d)))},_showMessage:function(b,d){var e=this;if(!e._isMobile)return window.confirm(b.title);var f=c.template('<ul><li class="km-actionsheet-title">#:title#</li><li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#</a></li></ul>'),g=a(f(b)).appendTo(e.view.element),h=new c.mobile.ui.ActionSheet(g,{cancel:b.cancelDelete,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(b){var c=a(b.currentTarget).parent();c.hasClass("km-actionsheet-cancel")||e._removeRow(d)},popup:e._actionSheetPopupOptions});return h.open(d),!1},_confirmation:function(a){var b=this,c=b.options.editable,d=c===!0||typeof c===Y?Z:c.confirmation;return d!==!1&&null!=d?b._showMessage({confirmDelete:c.confirmDelete||$,cancelDelete:c.cancelDelete||_,title:d===!0?Z:d},a):!0},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var a=this;(a.editable&&a.editable.end()||!a.editable)&&!a.trigger(M)&&a.dataSource.sync()},addRow:function(){var b,a=this,d=a.dataSource,e=a._editMode(),f=a.options.editable.createAt||"",g=d.pageSize(),h=d.view()||[];if(a.editable&&a.editable.end()||!a.editable){"incell"!=e&&a.cancelRow(),b=d.indexOf(h[0]),"bottom"==f.toLowerCase()&&(b+=h.length,g&&!d.options.serverPaging&&g<=h.length&&(b-=1)),0>b&&(b=d.page()>d.totalPages()?(d.page()-1)*g:0);var i=d.insert(b,{}),j=i.uid,k=a.table.find("tr["+c.attr("uid")+"="+j+"]"),l=k.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(a._firstEditableColumnIndex(k));"inline"===e&&k.length?a.editRow(k):"popup"===e?a.editRow(i):l.length&&a.editCell(l)}},_firstEditableColumnIndex:function(a){var c,e,f,b=this,d=b.columns,g=b._modelForContainer(a);for(e=0,f=d.length;f>e;e++)if(c=d[e],g&&(!g.editable||g.editable(c.field))&&!c.command&&c.field)return e;return-1},_toolbar:function(){var g,b=this,d=b.wrapper,e=b.options.toolbar,f=b.options.editable;e&&(g=b.wrapper.find(".k-grid-toolbar"),g.length||(r(e)||(e=typeof e===Y?e:b._toolbarTmpl(e).replace(bb,"\\#"),e=q(c.template(e),b)),g=a('<div class="k-toolbar k-grid-toolbar" />').html(e({})).prependTo(d)),f&&f.create!==!1&&g.on(U+C,".k-grid-add",function(a){a.preventDefault(),b.addRow()}).on(U+C,".k-grid-cancel-changes",function(a){a.preventDefault(),b.cancelChanges()}).on(U+C,".k-grid-save-changes",function(a){a.preventDefault(),b.saveChanges()}))},_toolbarTmpl:function(a){var c,d,b=this,e="";if(o(a))for(c=0,d=a.length;d>c;c++)e+=b._createButton(a[c]);return e},_createButton:function(a){var b=a.template||eb,d=typeof a===Y?a:a.name||a.text,e=mb[d]?mb[d].className:"k-grid-"+(d||"").replace(/\s/g,""),f={className:e,text:d,imageClass:"",attr:"",iconClass:""};if(!(d||k(a)&&a.template))throw new Error("Custom commands should have name specified");return k(a)?(a.className&&(a.className+=" "+f.className),"edit"===d&&k(a.text)&&(a=l(!0,{},a),a.text=a.text.edit),a.attr&&k(a.attr)&&(a.attr=lb(a.attr)),f=l(!0,f,mb[d],a)):f=l(!0,f,mb[d]),c.template(b)(f)},_hasFooters:function(){var c,a=this.columns,b=a.length;for(c=0;b>c;c++)if(""!==a[c].footerTemplate||""!==a[c].groupFooterTemplate)return!0;return!1},_groupable:function(){var b=this;b._groupableClickHandler?b.table.off(U+C,b._groupableClickHandler):b._groupableClickHandler=function(c){var d=a(this),e=d.closest("tr");d.hasClass("k-i-collapse")?b.collapseGroup(e):b.expandGroup(e),c.preventDefault(),c.stopPropagation()},b.table.on(U+C,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",b._groupableClickHandler),b._attachGroupable()},_attachGroupable:function(){var b=this,d=b.wrapper,e=b.options.groupable,g=B+":visible["+c.attr("field")+"]",h=B+"["+c.attr("field")+"]";e&&(d.has("div.k-grouping-header")[0]||a("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(d),b.groupable&&b.groupable.destroy(),b.groupable=new f(d,l({},e,{draggable:b._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:b.dataSource,draggableElements:b.content?".k-grid-header:first "+g:"table:first>.k-grid-header "+g,filter:b.content?".k-grid-header:first "+h:"table:first>.k-grid-header "+h,allowDrag:b.options.reorderable})))},_selectable:function(){var b,d,a=this,e=[],f=a.options.selectable;f&&(b=typeof f===Y&&f.toLowerCase().indexOf("multiple")>-1,d=typeof f===Y&&f.toLowerCase().indexOf("cell")>-1,a._hasDetails()&&(e[e.length]=".k-detail-row"),(a.options.groupable||a._hasFooters())&&(e[e.length]=".k-grouping-row,.k-group-footer"),e=e.join(","),""!==e&&(e=":not("+e+")"),a.selectable=new c.ui.Selectable(a.table,{filter:">"+(d?x:"tbody>tr"+e),aria:!0,multiple:b,change:function(){a.trigger(J)}}),a.options.navigatable&&a.table.on("keydown"+C,function(c){var e=a.current();if(c.keyCode===j.SPACEBAR&&c.target==a.table[0]&&!e.is(".k-edit-cell,.k-header")&&e.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(c.preventDefault(),c.stopPropagation(),e=d?e:e.parent(),b)if(c.ctrlKey){if(e.hasClass(R))return e.removeClass(R),a.trigger(J),void 0}else a.selectable.clear();else a.selectable.clear();a.selectable.value(e)}}))},clearSelection:function(){var a=this;a.selectable.clear(),a.trigger(J)},select:function(b){var c=this,d=c.selectable;return b=a(b),b.length?(d.options.multiple||(d.clear(),b=b.first()),d.value(b),void 0):d.value()},current:function(c){var d=this,e=d.options.scrollable,f=d._current,g=d.table.add(d.thead.parent());return c!==b&&c.length&&(f&&f[0]===c[0]||(f&&(f.removeClass(Q).removeAttr("id"),g.removeAttr("aria-activedescendant")),c.attr("id",d._cellId),d._current=c.addClass(Q),g.attr("aria-activedescendant",d._cellId),c.length&&e&&(a.contains(d.content[0],c[0])&&d._scrollTo(c.parent()[0],d.content[0]),e.virtual?d._scrollTo(c[0],d.content.find(">.k-virtual-scrollable-wrap")[0]):d._scrollTo(c[0],d.content[0])))),d._current},_removeCurrent:function(){this._current&&(this._current.removeClass(Q),this._current=null)},_scrollTo:function(a,b){var c=a.tagName.toLowerCase(),d="td"===c||"th"===c,e=a[d?"offsetLeft":"offsetTop"],f=a[d?"offsetWidth":"offsetHeight"],g=b[d?"scrollLeft":"scrollTop"],h=b[d?"clientWidth":"clientHeight"],i=e+f,j=0;j=g>e?e:i>g+h?h>=f?i-h:e:g,b[d?"scrollLeft":"scrollTop"]=j},_navigatable:function(){var b=this,d=q(b.current,b),e=b.table,f=b.thead.parent(),g=e,i=c.support.isRtl(b.element);
b.options.navigatable&&(b.options.scrollable&&(g=e.add(f),f.attr(W,-1)),f.on("keydown"+C,function(a){a.altKey&&a.keyCode==j.DOWN&&(d().find(".k-grid-filter, .k-header-column-menu").click(),a.stopImmediatePropagation())}).find("a.k-link").attr("tabIndex",-1),e.attr(W,t.max(e.attr(W)||0,0)).on("mousedown"+C+" keydown"+C,".k-detail-cell",function(a){a.target!==a.currentTarget&&a.stopImmediatePropagation()}),g.on(c.support.touch?"touchstart"+C:"mousedown"+C,y+">"+z,q(Cb,b)).on("focus"+C,function(){if(!c.support.touch){var b=d();b&&b.is(":visible")?b.addClass(Q):d(a(this).find(A)),this==e[0]?(f.attr(W,-1),e.attr(W,0)):(e.attr(W,-1),f.attr(W,0))}}).on("focusout"+C,function(){var a=d();a&&a.removeClass(Q)}).on("keydown"+C,function(c){var o,p,q,r,s,f=c.keyCode,g=!1,k=!c.isDefaultPrevented()&&!a(c.target).is(":button,a,:input,a>.k-icon"),l=b.options.pageable,m=b.dataSource,n="incell"==b._editMode(),t=c.shiftKey,u=d();if(u&&u.is("th")&&(k=!0),k&&f==j.UP)u?(q=u.parent().prevAll(y).first(),q[0]||(s=b.thead.parent(),Bb(s,!0),q=s.find(y).first()),r=u.index(),u=q.children().eq(r),u[0]&&u.is(z)||(u=q.children(z).first())):u=e.find(A),g=!0,d(u);else if(k&&f==j.DOWN)u?(q=u.parent().nextAll(y).first(),!q[0]&&u.is("th")&&(Bb(b.tbody.parent()),q=b.tbody.find(y).first()),r=u.index(),u=q.children().eq(r),u[0]&&u.is(z)||(u=q.children(z).first())):u=e.find(A),g=!0,d(u);else if(k&&f==(i?j.RIGHT:j.LEFT))d(u?u.prevAll(w+":first"):e.find(A)),g=!0;else if(k&&f==(i?j.LEFT:j.RIGHT))u?u.next()[0]&&(u=u.nextAll(w+":first")):u=e.find(A),g=!0,d(u);else if(k&&l&&j.PAGEDOWN==f)m.page(m.page()+1),g=!0;else if(k&&l&&j.PAGEUP==f)m.page(m.page()-1),g=!0;else if(f==j.ENTER||j.F2==f)if(u=u?u:e.find(A),u.is("th"))u.find(".k-link").click(),g=!0;else if(u.parent().is(".k-master-row,.k-grouping-row"))u.parent().find(".k-icon:first").click(),g=!0;else{var v=u.find(":kendoFocusable:first");if(!u.hasClass("k-edit-cell")&&v[0]&&u.hasClass("k-state-focused"))v.focus(),g=!0;else if(b.options.editable&&!a(c.target).is(":button,.k-button,textarea")){var x=a(c.target).closest("[role=gridcell]");x[0]||(x=u),b._handleEditing(x),g=!0}}else if(j.ESC==f)o=h(),u&&a.contains(u[0],o)&&!u.hasClass("k-edit-cell")&&!u.parent().hasClass("k-grid-edit-row")?(Bb(b.table[0],!0),g=!0):!b._editContainer||u&&!b._editContainer.has(u[0])&&u[0]!==b._editContainer[0]||(n?b.closeCell(!0):(p=b.items().index(a(u).parent()),o&&o.blur(),b.cancelRow(),p>=0&&b.current(b.items().eq(p).children().filter(z).first())),gb.msie&&gb.version<9&&document.body.focus(),Bb(e,!0),g=!0);else if(j.TAB==f){var B;u=a(u),b.options.editable&&n&&(B=a(h()).closest(".k-edit-cell"),B[0]&&B[0]!==u[0]&&(u=B)),B=t?u.prevAll(w+":first"):u.nextAll(":visible:first"),B.length||(B=u.parent()[t?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first").children(w+(t?":last":":first"))),!u.is("th")&&B.length&&b.options.editable&&n&&(b._handleEditing(u,B),g=!0)}g&&(c.preventDefault(),c.stopPropagation())}))},_handleEditing:function(b,c){var k,l,d=this,e=a(h()),f=d._editMode(),g=gb.msie,i=g&&gb.version<9,j=d._editContainer;if(l="incell"==f?b.hasClass("k-edit-cell"):b.parent().hasClass("k-grid-edit-row"),d.editable){if(a.contains(j[0],e[0])&&(gb.opera||i?e.change().triggerHandler("blur"):(e.blur(),g&&e.blur())),!d.editable)return Bb(d.table),void 0;if(!d.editable.end())return"incell"==f?d.current(j):d.current(j.children().filter(w).first()),k=j.find(":kendoFocusable:first")[0],k&&k.focus(),void 0;"incell"==f?d.closeCell():(d.saveRow(),l=!0)}c&&d.current(c),i&&document.body.focus(),Bb(d.table,!0),(!l&&!c||c)&&("incell"==f?d.editCell(d.current()):d.editRow(d.current().parent()))},_wrapper:function(){var a=this,b=a.table,c=a.options.height,d=a.element;d.is("div")||(d=d.wrap("<div/>").parent()),a.wrapper=d.addClass("k-grid k-widget k-secondary"),c&&(a.wrapper.css(V,c),b.css(V,"auto")),a._initMobile()},_initMobile:function(){var b=this.options;if(this._isMobile=b.mobile===!0&&c.support.mobileOS||"phone"===b.mobile||"tablet"===b.mobile,this._isMobile){var d=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+c.ns+'role="view" '+"data-"+c.ns+'init-widgets="false"></div>').parent();this.pane=c.mobile.ui.Pane.wrap(d),this.view=this.pane.view(),this._actionSheetPopupOptions=a(document.documentElement).hasClass("km-root")?{modal:!1}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"},b.height&&this.pane.element.parent().css(V,b.height),this._editAnimation="slide"}},_tbody:function(){var d,b=this,c=b.table;d=c.find(">tbody"),d.length||(d=a("<tbody/>").appendTo(c)),b.tbody=d},_scrollable:function(){var d,e,b=this,f=b.options,g=f.scrollable,h=g!==!0&&g.virtual&&!b.virtualScrollable,i=!c.support.kineticScrollNeeded||h?c.support.scrollbar():0;if(g){d=b.wrapper.children(".k-grid-header"),d[0]||(d=a('<div class="k-grid-header" />').insertBefore(b.table)),d.css(fb?"padding-left":"padding-right",g.virtual?i+1:i),e=a('<table role="grid" />'),hb&&e.attr("cellspacing",0),e.append(b.thead),d.empty().append(a('<div class="k-grid-header-wrap" />').append(e)),b.content=b.table.parent(),b.content.is(".k-virtual-scrollable-wrap")&&(b.content=b.content.parent()),b.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(b.content=b.table.wrap('<div class="k-grid-content" />').parent()),h&&(b.virtualScrollable=new jb(b.content,{dataSource:b.dataSource,itemHeight:q(b._averageRowHeight,b)})),b.scrollables=d.children(".k-grid-header-wrap");var j=b.wrapper.find(".k-grid-footer"),k=fb&&gb.webkit?i:0;if(j.length&&(b.scrollables=b.scrollables.add(j.children(".k-grid-footer-wrap"))),g.virtual)b.content.find(">.k-virtual-scrollable-wrap").bind("scroll"+C,function(){b.scrollables.scrollLeft(this.scrollLeft+k)});else{b.content.bind("scroll"+C,function(){b.scrollables.scrollLeft(this.scrollLeft+k)});var l=c.touchScroller(b.content);l&&l.movable&&l.movable.bind("change",function(a){b.scrollables.scrollLeft(-a.sender.x)})}}},_setContentWidth:function(){var f,b=this,c="k-grid-content-expander",d='<div class="'+c+'"></div>',e=b.resizable;b.options.scrollable&&(f=b.table.parent().children("."+c),b._setContentWidthHandler=q(b._setContentWidth,b),b.dataSource.view().length?f[0]&&(f.remove(),e&&e.unbind("resize",b._setContentWidthHandler)):(f[0]||(f=a(d).appendTo(b.table.parent()),e&&e.bind("resize",b._setContentWidthHandler)),f.width(b.thead.width())))},_setContentHeight:function(){var a=this,b=a.options,d=a.wrapper.innerHeight(),e=a.wrapper.children(".k-grid-header"),f=c.support.scrollbar();if(b.scrollable){d-=e.outerHeight(),a.pager&&(d-=a.pager.element.outerHeight()),b.groupable&&(d-=a.wrapper.children(".k-grouping-header").outerHeight()),b.toolbar&&(d-=a.wrapper.children(".k-grid-toolbar").outerHeight()),a.footerTemplate&&(d-=a.wrapper.children(".k-grid-footer").outerHeight());var g=function(a){var b,c;return a[0].style.height?!0:(b=a.height(),a.height("auto"),c=a.height(),b!=c?(a.height(""),!0):(a.height(""),!1))};g(a.wrapper)&&(d>2*f?a.content.height(d):a.content.height(2*f+1))}},_averageRowHeight:function(){var a=this,b=a._rowHeight;a._rowHeight||(a._rowHeight=b=a.table.outerHeight()/a.items().length,a._sum=b,a._measures=1);var c=a.table.outerHeight()/a.items().length;return b!==c&&(a._measures++,a._sum+=c,a._rowHeight=a._sum/a._measures),b},_dataSource:function(){var d,a=this,c=a.options,f=c.dataSource;f=o(f)?{data:f}:f,k(f)&&(l(f,{table:a.table,fields:a.columns}),d=c.pageable,k(d)&&d.pageSize!==b&&(f.pageSize=d.pageSize)),a.dataSource&&a._refreshHandler?a.dataSource.unbind(J,a._refreshHandler).unbind(u,a._progressHandler).unbind(v,a._errorHandler):(a._refreshHandler=q(a.refresh,a),a._progressHandler=q(a._requestStart,a),a._errorHandler=q(a._error,a)),a.dataSource=e.create(f).bind(J,a._refreshHandler).bind(u,a._progressHandler).bind(v,a._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(b){var h,i,k,m,e=this,f=b.model,g=e.tbody.find("tr["+c.attr("uid")+"="+f.uid+"]"),j=g.hasClass("k-alt"),l=e.items().index(g);if(g.children(".k-edit-cell").length&&!e.options.rowTemplate)g.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){h=a(this),i=e.columns[e.cellIndex(h)],i.field===b.field&&(h.hasClass("k-edit-cell")?h.addClass("k-dirty-cell"):(e._displayCell(h,i,f),a('<span class="k-dirty"/>').prependTo(h)))});else if(!g.hasClass("k-grid-edit-row")){for(k=(j?e.altRowTemplate:e.rowTemplate)(f),g.replaceWith(k),k=e.items().eq(l),l=0,m=e.columns.length;m>l;l++)i=e.columns[l],i.field===b.field&&(h=k.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(l),a('<span class="k-dirty"/>').prependTo(h));e.trigger("itemChange",{item:k,data:f,ns:d})}},_pageable:function(){var d,b=this,e=b.options.pageable;e&&(d=b.wrapper.children("div.k-grid-pager"),d.length||(d=a('<div class="k-pager-wrap k-grid-pager"/>').appendTo(b.wrapper)),b.pager&&b.pager.destroy(),b.pager="object"==typeof e&&e instanceof c.ui.Pager?e:new c.ui.Pager(d,l({},e,{dataSource:b.dataSource})))},_footer:function(){var g,b=this,c=b.dataSource.aggregates(),d="",e=b.footerTemplate,f=b.options,h=b.footer||b.wrapper.find(".k-grid-footer");if(e)if(c=s(c)?pb(b.dataSource.aggregate()):c,d=a(b._wrapFooter(e(c))),h.length){var i=d;h.replaceWith(i),h=b.footer=i}else h=b.footer=f.scrollable?f.pageable?d.insertBefore(b.wrapper.children("div.k-grid-pager")):d.appendTo(b.wrapper):d.insertBefore(b.tbody);else h&&!b.footer&&(b.footer=h);h.length&&(f.scrollable&&(g=h.attr("tabindex",-1).children(".k-grid-footer-wrap"),b.scrollables=b.scrollables.not(".k-grid-footer-wrap").add(g)),b._footerWidth&&h.find("table").css("width",b._footerWidth),g&&g.scrollLeft(b.content.scrollLeft()))},_wrapFooter:function(b){var d=this,e="",f=c.support.mobileOS?0:c.support.scrollbar();return d.options.scrollable?(e=a('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(hb?' cellspacing="0"':"")+"><tbody>"+b+"</tbody></table></div></div>"),d._appendCols(e.find("table")),e.css(fb?"padding-left":"padding-right",f),e):'<tfoot class="k-grid-footer">'+b+"</tfoot>"},_columnMenu:function(){var d,f,i,j,k,p,b=this,e=b.columns,g=b.options,h=g.columnMenu,m=this._isMobile,n=function(){Bb(b.thead.parent(),!0)},o=function(a){b.trigger(I,{field:a.field,container:a.container})};h&&("boolean"==typeof h&&(h={}),b.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(q){f=e[q],p=a(this),f.command||!f.field&&!p.attr("data-"+c.ns+"field")||(d=p.data("kendoColumnMenu"),d&&d.destroy(),j=f.sortable!==!1&&h.sortable!==!1?g.sortable:!1,k=g.filterable&&f.filterable!==!1&&h.filterable!==!1?l({},f.filterable,g.filterable):!1,i={dataSource:b.dataSource,values:f.values,columns:h.columns,sortable:j,filterable:k,messages:h.messages,owner:b,closeCallback:n,init:o,filter:m?":not(.k-column-active)":""},p.kendoColumnMenu(i))}))},_filterable:function(){var e,f,b=this,d=b.columns,g=function(){Bb(b.thead.parent(),!0)},h=b.options.filterable;h&&!b.options.columnMenu&&b.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(i){if(e=a(this),d[i].filterable!==!1&&!d[i].command&&(d[i].field||e.attr("data-"+c.ns+"field"))){f=e.data("kendoFilterMenu"),f&&f.destroy();var j=d[i].filterable,k=l({},h,j,{dataSource:b.dataSource,values:d[i].values,closeCallback:g,init:function(a){b.trigger(H,{field:a.field,container:a.container})}});j&&j.messages&&(k.messages=l(!0,{},h.messages,j.messages)),e.kendoFilterMenu(k)}})},_sortable:function(){var e,f,g,b=this,d=b.columns,h=b.options.sortable;h&&b.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(i){e=d[i],e.sortable!==!1&&!e.command&&e.field&&(f=a(this),g=f.data("kendoSortable"),g&&g.destroy(),f.attr("data-"+c.ns+"field",e.field).kendoSortable(l({},h,e.sortable,{dataSource:b.dataSource,aria:!0,filter:":not(.k-column-active)"})))})},_columns:function(b){var f,d=this,e=d.table,g=e.find("col"),h=d.options.dataSource;b=b.length?b:m(e.find("th"),function(b,d){b=a(b);var e=b.attr(c.attr("sortable")),f=b.attr(c.attr("filterable")),h=b.attr(c.attr("type")),i=b.attr(c.attr("groupable")),j=b.attr(c.attr("field")),k=b.attr(c.attr("menu"));return j||(j=b.text().replace(/\s|[^A-z0-9]/g,"")),{field:j,type:h,sortable:"false"!==e,filterable:"false"!==f,groupable:"false"!==i,menu:k,template:b.attr(c.attr("template")),width:g.eq(d).css("width")}}),f=!(d.table.find("tbody tr").length>0&&(!h||!h.transport)),d.columns=m(b,function(a){return a=typeof a===Y?{field:a}:a,a.hidden&&(a.attributes=tb(a.attributes),a.footerAttributes=tb(a.footerAttributes),a.headerAttributes=tb(a.headerAttributes)),l({encoded:f},a)})},_groups:function(){var a=this.dataSource.group();return a?a.length:0},_tmpl:function(a,b){var f,h,j,k,d=this,e=l({},c.Template,d.options.templateSettings),g=d.columns.length,i={storage:{},count:0},m=d._hasDetails(),n=[],o=d._groups();if(!a){for(a="<tr",b&&n.push("k-alt"),m&&n.push("k-master-row"),n.length&&(a+=' class="'+n.join(" ")+'"'),g&&(a+=" "+c.attr("uid")+'="#='+c.expr("uid",e.paramName)+'#"'),a+=" role='row'>",o>0&&(a+=kb(o)),m&&(a+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'),f=0;g>f;f++)j=d.columns[f],h=j.template,k=typeof h,a+="<td"+lb(j.attributes)+" role='gridcell'>",a+=d._cellTmpl(j,i),a+="</td>";a+="</tr>"}return a=c.template(a,e),i.count>0?q(a,i.storage):a},_headerCellText:function(a){var b=this,d=l({},c.Template,b.options.templateSettings),e=a.headerTemplate,f=typeof e,g=a.title||a.field||"";return f===X?g=c.template(e,d)({}):f===Y&&(g=e),g},_cellTmpl:function(a,b){var j,m,d=this,e=l({},c.Template,d.options.templateSettings),f=a.template,g=e.paramName,h=a.field,i="",n=a.format,p=typeof f,q=a.values;if(a.command){if(o(a.command)){for(j=0,m=a.command.length;m>j;j++)i+=d._createButton(a.command[j]);return i.replace(bb,"\\#")}return d._createButton(a.command).replace(bb,"\\#")}return p===X?(b.storage["tmpl"+b.count]=f,i+="#=this.tmpl"+b.count+"("+g+")#",b.count++):p===Y?i+=f:q&&q.length&&k(q[0])&&"value"in q[0]&&h?(i+="#var v ="+c.stringify(wb(q))+"#",i+="#var f = v[",e.useWithBlock||(i+=g+"."),i+=h+"]#",i+="${f != null ? f : ''}"):(i+=a.encoded?"#:":"#=",n&&(i+='kendo.format("'+n.replace(ab,"\\$1")+'",'),h?(h=c.expr(h,g),i+=h+"==null?'':"+h):i+="''",n&&(i+=")"),i+="#"),i},_templates:function(){var b=this,c=b.options,d=b.dataSource,e=d.group(),f=b.footer||b.wrapper.find(".k-grid-footer"),g=d.aggregate();b.rowTemplate=b._tmpl(c.rowTemplate),b.altRowTemplate=b._tmpl(c.altRowTemplate||c.rowTemplate,!0),b._hasDetails()&&(b.detailTemplate=b._detailTmpl(c.detailTemplate||"")),(b._group&&!s(g)||!s(g)&&!f.length||n(b.columns,function(a){return a.footerTemplate}).length)&&(b.footerTemplate=b._footerTmpl(g,"footerTemplate","k-footer-template")),e&&n(b.columns,function(a){return a.groupFooterTemplate}).length&&(g=a.map(e,function(a){return a.aggregates}),b.groupFooterTemplate=b._footerTmpl(g,"groupFooterTemplate","k-group-footer"))},_footerTmpl:function(a,b,d){var i,j,m,n,u,e=this,f=l({},c.Template,e.options.templateSettings),g=f.paramName,h="",k=e.columns,o={},p=0,r={},s=e._groups(),t=pb(a);for(h+='<tr class="'+d+'">',s>0&&(h+=kb(s)),e._hasDetails()&&(h+='<td class="k-hierarchy-cell">&nbsp;</td>'),i=0,j=e.columns.length;j>i;i++)u=k[i],m=u[b],n=typeof m,h+="<td"+lb(u.footerAttributes)+">",m?(n!==X&&(r=t[u.field]?l({},f,{paramName:g+"."+u.field}):{},m=c.template(m,r)),o["tmpl"+p]=m,h+="#=this.tmpl"+p+"("+g+")#",p++):h+="&nbsp;",h+="</td>";return h+="</tr>",h=c.template(h,f),p>0?q(h,o):h},_detailTmpl:function(a){var b=this,d="",e=l({},c.Template,b.options.templateSettings),f=e.paramName,g={},h=0,i=b._groups(),j=sb(b.columns).length,k=typeof a;return d+='<tr class="k-detail-row">',i>0&&(d+=kb(i)),d+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(j?' colspan="'+j+'"':"")+">",k===X?(g["tmpl"+h]=a,d+="#=this.tmpl"+h+"("+f+")#",h++):d+=a,d+="</td></tr>",d=c.template(d,e),h>0?q(d,g):d},_hasDetails:function(){var a=this;return null!==a.options.detailTemplate||(a._events[G]||[]).length},_details:function(){var b=this;b.table.on(U+C,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(c){var g,i,d=a(this),e=d.hasClass("k-plus"),f=d.closest("tr.k-master-row"),h=b.detailTemplate,j=b._hasDetails();return d.toggleClass("k-plus",!e).toggleClass("k-minus",e),j&&!f.next().hasClass("k-detail-row")&&(i=b.dataItem(f),a(h(i)).addClass(f.hasClass("k-alt")?"k-alt":"").insertAfter(f),b.trigger(G,{masterRow:f,detailRow:f.next(),data:i,detailCell:f.next().find(".k-detail-cell")})),g=f.next(),b.trigger(e?O:P,{masterRow:f,detailRow:g}),g.toggle(e),b._current&&b._current.attr("aria-expanded",e),c.preventDefault(),!1})},dataItem:function(b){if(b=a(b)[0],!b)return null;var f,g,c=this.tbody.children(),d=/k-grouping-row|k-detail-row|k-group-footer/,e=b.sectionRowIndex;for(g=e,f=0;e>f;f++)d.test(c[f].className)&&g--;return this._data[g]},expandRow:function(b){a(b).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(b){a(b).find("> td .k-minus, > td .k-i-collapse").click()},_thead:function(){var g,h,k,l,m,d=this,e=d.columns,f=d._hasDetails()&&e.length,i="",j=d.table.find(">thead");if(j.length||(j=a("<thead/>").insertBefore(d.tbody)),k=d.element.find("tr:has(th):first"),k.length||(k=j.children().first(),k.length||(k=a("<tr/>"))),k.children().length)f&&!k.find(".k-hierarchy-cell")[0]&&k.prepend('<th class="k-hierarchy-cell">&nbsp;</th>');else{for(f&&(i+='<th class="k-hierarchy-cell">&nbsp;</th>'),g=0,h=e.length;h>g;g++)m=e[g],l=d._headerCellText(m),m.command?i+="<th"+lb(m.headerAttributes)+">"+l+"</th>":(i+="<th role='columnheader' "+c.attr("field")+"='"+(m.field||"")+"' ",m.title&&(i+=c.attr("title")+'="'+m.title.replace(/'/g,"'")+'" '),m.groupable!==b&&(i+=c.attr("groupable")+"='"+m.groupable+"' "),m.aggregates&&(i+=c.attr("aggregates")+"='"+m.aggregates+"'"),i+=lb(m.headerAttributes),i+=">"+l+"</th>");k.html(i)}k.find("th").addClass("k-header"),d.options.scrollable||j.addClass("k-grid-header"),k.find("script").remove().end().appendTo(j),d.thead&&d._destroyColumnAttachments(),d.thead=j,d._sortable(),d._filterable(),d._scrollable(),d._updateCols(),d._resizable(),d._draggable(),d._reorderable(),d.groupable&&d._attachGroupable(),d._columnMenu()},_updateCols:function(){var a=this;a._appendCols(a.thead.parent().add(a.table))},_appendCols:function(a){var b=this;vb(a,sb(b.columns),b._hasDetails(),b._groups())},_autoColumns:function(a){if(a&&a.toJSON){var c,b=this;a=a.toJSON();for(c in a)b.columns.push({field:c});b._thead(),b._templates()}},_rowsHtml:function(a){var d,e,b=this,c="",f=b.rowTemplate,g=b.altRowTemplate;for(d=0,e=a.length;e>d;d++)c+=d%2?g(a[d]):f(a[d]),b._data.push(a[d]);return c},_groupRowHtml:function(a,b,d){var g,h,e=this,f="",i=a.field,j=n(e.columns,function(a){return a.field==i})[0]||{},k=j.groupHeaderTemplate,m=(j.title||i)+": "+xb(a.value,j.format,j.values),o=l({},{field:a.field,value:a.value},a.aggregates[a.field]),p=e._groupAggregatesDefaultObject||{},q=a.items;if(k&&(m=typeof k===X?k(o):c.template(k)(o)),f+='<tr class="k-grouping-row">'+kb(d)+'<td colspan="'+b+'" aria-expanded="true">'+'<p class="k-reset">'+'<a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+m+"</p></td></tr>",a.hasSubgroups)for(g=0,h=q.length;h>g;g++)f+=e._groupRowHtml(q[g],b-1,d+1);else f+=e._rowsHtml(q);return e.groupFooterTemplate&&(f+=e.groupFooterTemplate(l(p,a.aggregates))),f},collapseGroup:function(b){b=a(b).find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse").end();var e,f,c=b.find(".k-group-cell").length,d=1;b.find("td:first").attr("aria-expanded",!1),b.nextAll("tr").each(function(){return f=a(this),e=f.find(".k-group-cell").length,f.hasClass("k-grouping-row")?d++:f.hasClass("k-group-footer")&&d--,c>=e||f.hasClass("k-group-footer")&&0>d?!1:(f.hide(),void 0)})},expandGroup:function(b){b=a(b).find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand").end();var e,f,c=this,d=b.find(".k-group-cell").length,g=1;b.find("td:first").attr("aria-expanded",!0),b.nextAll("tr").each(function(){return e=a(this),f=e.find(".k-group-cell").length,d>=f?!1:(f!=d+1||e.hasClass("k-detail-row")||(e.show(),e.hasClass("k-grouping-row")&&e.find(".k-icon").hasClass("k-i-collapse")&&c.expandGroup(e),e.hasClass("k-master-row")&&e.find(".k-icon").hasClass("k-minus")&&e.next().show()),e.hasClass("k-grouping-row")&&g++,e.hasClass("k-group-footer")&&(1==g?e.show():g--),void 0)})},_updateHeader:function(b){var c=this,d=c.thead.find("th.k-group-cell"),e=d.length;b>e?a(new Array(b-e+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(c.thead.find("tr")):e>b&&(e-=b,a(n(d,function(a,b){return e>b})).remove())},_firstDataItem:function(a,b){return a&&b&&(a=a.hasSubgroups?this._firstDataItem(a.items[0],b):a.items[0]),a},hideColumn:function(b){var d,e,f,g,h,i,j,l,q,c=this,k=0,m=c.footer||c.wrapper.find(".k-grid-footer"),o=c.columns;if(b="number"==typeof b?o[b]:n(o,function(a){return a.field===b})[0],b&&!b.hidden){for(q=p(b,sb(o)),b.hidden=!0,b.attributes=tb(b.attributes),b.footerAttributes=tb(b.footerAttributes),b.headerAttributes=tb(b.headerAttributes),c._templates(),c._updateCols(),yb(c.thead.find(">tr")[0].cells,q,!1),m[0]&&(c._appendCols(m.find("table:first")),yb(m.find(".k-footer-template")[0].cells,q,!1)),d=c.tbody.children(),h=0,l=d.length;l>h;h+=1)e=d.eq(h),e.is(".k-grouping-row,.k-detail-row")?(f=e.children(":not(.k-group-cell):first,.k-detail-cell").last(),f.attr("colspan",parseInt(f.attr("colspan"),10)-1)):(e.hasClass("k-grid-edit-row")&&(f=e.children(".k-edit-container")[0])&&(f=a(f),f.attr("colspan",parseInt(f.attr("colspan"),10)-1),f.find("col").eq(q).remove(),e=f.find("tr:first")),yb(e[0].cells,q,!1));for(i=c.thead.prev().find("col"),h=0,l=i.length;l>h;h+=1){if(j=i[h].style.width,!j||-1!=j.indexOf("%")){k=0;break}k+=parseInt(j,10)}g=a(">.k-grid-header table:first,>.k-grid-footer table:first",c.wrapper).add(c.table),c._footerWidth=null,k&&(g.width(k),c._footerWidth=k),gb.msie&&8==gb.version&&(g.css("display","inline-table"),setTimeout(function(){g.css("display","table")},1)),c.trigger(K,{column:b})}},showColumn:function(b){var d,e,f,g,h,i,j,k,l,q,c=this,m=c.columns,o=c.footer||c.wrapper.find(".k-grid-footer");if(b="number"==typeof b?m[b]:n(m,function(a){return a.field===b})[0],b&&b.hidden){for(q=p(b,m),b.hidden=!1,b.attributes=ub(b.attributes),b.footerAttributes=ub(b.footerAttributes),b.headerAttributes=ub(b.headerAttributes),c._templates(),c._updateCols(),yb(c.thead.find(">tr")[0].cells,q,!0),o[0]&&(c._appendCols(o.find("table:first")),yb(o.find(".k-footer-template")[0].cells,q,!0)),d=c.tbody.children(),e=0,f=d.length;f>e;e+=1)g=d.eq(e),g.is(".k-grouping-row,.k-detail-row")?(h=g.children(":not(.k-group-cell):first,.k-detail-cell").last(),h.attr("colspan",parseInt(h.attr("colspan"),10)+1)):(g.hasClass("k-grid-edit-row")&&(h=g.children(".k-edit-container")[0])&&(h=a(h),h.attr("colspan",parseInt(h.attr("colspan"),10)+1),vb(h.find(">form>table"),sb(m),!1,0),g=h.find("tr:first")),yb(g[0].cells,q,!0));if(i=a(">.k-grid-header table:first,>.k-grid-footer table:first",c.wrapper).add(c.table),b.width){for(j=0,l=c.thead.prev().find("col"),e=0,f=l.length;f>e;e+=1){if(k=l[e].style.width,k.indexOf("%")>-1){j=0;break}j+=parseInt(k,10)}c._footerWidth=null,j&&(i.width(j),c._footerWidth=j)}else i.width("");c.trigger(L,{column:b})}},_progress:function(a){var b=this,d=b.element.is("table")?b.element.parent():b.content&&b.content.length?b.content:b.element;c.ui.progress(d,a)},refresh:function(b){var d,e,k,l,m,r,c=this,f="",i=c.dataSource.view(),j=c.options.navigatable,n=a(c.current()),o=!1,p=(c.dataSource.group()||[]).length,q=p+sb(c.columns).length;if(!(b&&"itemchange"===b.action&&c.editable||(b=b||{},c.trigger("dataBinding",{action:b.action||"rebind",index:b.index,items:b.items})))){if(r=h(),j&&(c.table[0]===r||a.contains(c.table[0],r)||c._editContainer&&c._editContainer.data("kendoWindow"))&&(o=n.is("th"),m=0,o&&(m=c.thead.find("th:not(.k-group-cell)").index(n))),c._destroyEditable(),c._progress(!1),c._hideResizeHandle(),c._data=[],c.columns.length||(c._autoColumns(c._firstDataItem(i[0],p)),q=p+c.columns.length),c._group=p>0||c._group,c._group&&(c._templates(),c._updateCols(),c._updateHeader(p),c._group=p>0),p>0)for(c.detailTemplate&&q++,c.groupFooterTemplate&&(c._groupAggregatesDefaultObject=pb(c.dataSource.aggregate())),e=0,d=i.length;d>e;e++)f+=c._groupRowHtml(i[e],q,0);else f+=c._rowsHtml(i);g?c.tbody[0].innerHTML=f:(l=document.createElement("div"),l.innerHTML="<table><tbody>"+f+"</tbody></table>",k=l.firstChild.firstChild,c.table[0].replaceChild(k,c.tbody[0]),c.tbody=a(k)),c._footer(),c._setContentHeight(),c._setContentWidth(),m>=0&&(c._removeCurrent(),o?c.current(c.thead.find("th:not(.k-group-cell)").eq(m)):c.current(c.items().eq(m).children().filter(w).first()),c._current&&Bb(c._current.closest("table")[0],!0)),c.trigger(N)}}});d.plugin(zb),d.plugin(jb)}(window.kendo.jQuery),kendo_module({id:"listview",name:"ListView",category:"web",description:"The ListView widget offers rich support for interacting with data.",depends:["data"],features:[{id:"listview-editing",name:"Editing",description:"Support for record editing",depends:["editable"]},{id:"listview-selection",name:"Selection",description:"Support for selection",depends:["selectable"]}]}),function(a,b){var c=window.kendo,d="change",e="cancel",f="dataBound",g="dataBinding",h=c.ui.Widget,i=c.keys,j=">*",k="progress",l="error",m="k-state-focused",n="k-state-selected",o="k-edit-item",p="string",q="edit",r="remove",s="save",t="click",u=".kendoListView",v=a.proxy,w=c._activeElement,x=c.ui.progress,y=c.data.DataSource,z=h.extend({init:function(b,d){var e=this;d=a.isArray(d)?{dataSource:d}:d,h.fn.init.call(e,b,d),d=e.options,e.wrapper=b=e.element,b[0].id&&(e._itemId=b[0].id+"_lv_active"),e._element(),e._dataSource(),e._templates(),e._navigatable(),e._selectable(),e._pageable(),e._crudHandlers(),e.options.autoBind&&e.dataSource.fetch(),c.notify(e)},events:[d,e,g,f,q,r,s],options:{name:"ListView",autoBind:!0,selectable:!1,navigatable:!1,template:"",altTemplate:"",editTemplate:""},setOptions:function(a){h.fn.setOptions.call(this,a),this._templates()},_templates:function(){var a=this.options;this.template=c.template(a.template||""),this.altTemplate=c.template(a.altTemplate||a.template),this.editTemplate=c.template(a.editTemplate||"")},_item:function(a){return this.element.children()[a]()},items:function(){return this.element.children()},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this.options.autoBind&&a.fetch()},_unbindDataSource:function(){var a=this;a.dataSource.unbind(d,a._refreshHandler).unbind(k,a._progressHandler).unbind(l,a._errorHandler)},_dataSource:function(){var a=this;a.dataSource&&a._refreshHandler?a._unbindDataSource():(a._refreshHandler=v(a.refresh,a),a._progressHandler=v(a._progress,a),a._errorHandler=v(a._error,a)),a.dataSource=y.create(a.options.dataSource).bind(d,a._refreshHandler).bind(k,a._progressHandler).bind(l,a._errorHandler)},_progress:function(){x(this.element,!0)},_error:function(){x(this.element,!1)},_element:function(){this.element.addClass("k-widget k-listview").attr("role","listbox")},refresh:function(a){var e,h,i,k,l,b=this,d=b.dataSource.view(),j="",m=b.template,n=b.altTemplate,o=w();if(a=a||{},"itemchange"===a.action)return b._hasBindingTarget()||b.editable||(e=a.items[0],i=b.items().filter("["+c.attr("uid")+"="+e.uid+"]"),i.length>0&&(k=i.index(),i.replaceWith(m(e)),i=b.items().eq(k),i.attr(c.attr("uid"),e.uid),b.trigger("itemChange",{item:i,data:e}))),void 0;if(!b.trigger(g,{action:a.action||"rebind",items:a.items,index:a.index})){for(b._destroyEditable(),k=0,l=d.length;l>k;k++)j+=k%2?n(d[k]):m(d[k]);for(b.element.html(j),h=b.items(),k=0,l=d.length;l>k;k++)h.eq(k).attr(c.attr("uid"),d[k].uid).attr("role","option").attr("aria-selected","false");b.element[0]===o&&b.options.navigatable&&b.current(h.eq(0)),b.trigger(f)}},_pageable:function(){var e,f,b=this,d=b.options.pageable;a.isPlainObject(d)&&(f=d.pagerId,e=a.extend({},d,{dataSource:b.dataSource,pagerId:null}),b.pager=new c.ui.Pager(a("#"+f),e))},_selectable:function(){var b,e,a=this,f=a.options.selectable,g=a.options.navigatable;f&&(b=typeof f===p&&f.toLowerCase().indexOf("multiple")>-1,b&&a.element.attr("aria-multiselectable",!0),a.selectable=new c.ui.Selectable(a.element,{aria:!0,multiple:b,filter:j,change:function(){a.trigger(d)}}),g&&a.element.on("keydown"+u,function(c){if(c.keyCode===i.SPACEBAR){if(e=a.current(),c.target==c.currentTarget&&c.preventDefault(),b)if(c.ctrlKey){if(e&&e.hasClass(n))return e.removeClass(n),void 0}else a.selectable.clear();else a.selectable.clear();a.selectable.value(e)}}))},current:function(a){var c=this,d=c.element,e=c._current,f=c._itemId;return a===b?e:(e&&e[0]&&(e[0].id===f&&e.removeAttr("id"),e.removeClass(m),d.removeAttr("aria-activedescendant")),a&&a[0]&&(f=a[0].id||f,c._scrollTo(a[0]),d.attr("aria-activedescendant",f),a.addClass(m).attr("id",f)),c._current=a,void 0)},_scrollTo:function(b){var d,c=this,e=!1,f="scroll";"auto"==c.wrapper.css("overflow")||c.wrapper.css("overflow")==f?d=c.wrapper[0]:(d=window,e=!0);var g=function(c,g){var h=e?a(b).offset()[c.toLowerCase()]:b["offset"+c],i=b["client"+g],j=a(d)[f+c](),k=a(d)[g.toLowerCase()]();h+i>j+k?a(d)[f+c](h+i-k):j>h&&a(d)[f+c](h)};g("Top","Height"),g("Left","Width")},_navigatable:function(){var b=this,d=b.options.navigatable,e=b.element,f=function(c){b.current(a(c.currentTarget)),a(c.target).is(":button,a,:input,a>.k-icon,textarea")||e.focus()};d&&(b._tabindex(),e.on("focus"+u,function(){var a=b._current;a&&a.is(":visible")||(a=b._item("first")),b.current(a)}).on("focusout"+u,function(){b._current&&b._current.removeClass(m)}).on("keydown"+u,function(d){var p,f=d.keyCode,g=b.current(),h=a(d.target),j=!h.is(":button,textarea,a,a>.t-icon,input"),k=h.is(":text"),l=c.preventDefault,m=e.find("."+o),n=w();if(!(!j&&!k&&i.ESC!=f||k&&i.ESC!=f&&i.ENTER!=f))if(i.UP===f||i.LEFT===f)g&&(g=g.prev()),b.current(g&&g[0]?g:b._item("last")),l(d);else if(i.DOWN===f||i.RIGHT===f)g&&(g=g.next()),b.current(g&&g[0]?g:b._item("first")),l(d);else if(i.PAGEUP===f)b.current(null),b.dataSource.page(b.dataSource.page()-1),l(d);else if(i.PAGEDOWN===f)b.current(null),b.dataSource.page(b.dataSource.page()+1),l(d);else if(i.HOME===f)b.current(b._item("first")),l(d);else if(i.END===f)b.current(b._item("last")),l(d);else if(i.ENTER===f)if(0!==m.length&&(j||k)){p=b.items().index(m),n&&n.blur(),b.save();var q=function(){b.element.trigger("focus"),b.current(b.items().eq(p))};b.one("dataBound",q)}else""!==b.options.editTemplate&&b.edit(g);else if(i.ESC===f){if(m=e.find("."+o),0===m.length)return;p=b.items().index(m),b.cancel(),b.element.trigger("focus"),b.current(b.items().eq(p))}}),e.on("mousedown"+u+" touchstart"+u,j,v(f,b)))},clearSelection:function(){var a=this;a.selectable.clear(),a.trigger(d)},select:function(b){var c=this,d=c.selectable;return b=a(b),b.length?(d.options.multiple||(d.clear(),b=b.first()),d.value(b),void 0):d.value()},_destroyEditable:function(){var a=this;a.editable&&(a.editable.destroy(),delete a.editable)},_modelFromElement:function(a){var b=a.attr(c.attr("uid"));return this.dataSource.getByUid(b)},_closeEditable:function(a){var e,f,b=this,d=b.editable,g=b.template,h=!0;return d&&(a&&(h=d.end()),h&&(d.element.index()%2&&(g=b.altTemplate),e=b._modelFromElement(d.element),b._destroyEditable(),f=d.element.index(),d.element.replaceWith(g(e)),b.items().eq(f).attr(c.attr("uid"),e.uid))),h},edit:function(a){var e,g,b=this,d=b._modelFromElement(a),f=d.uid;b.cancel(),a=b.items().filter("["+c.attr("uid")+"="+f+"]"),g=a.index(),a.replaceWith(b.editTemplate(d)),e=b.items().eq(g).addClass(o).attr(c.attr("uid"),d.uid),b.editable=e.kendoEditable({model:d,clearContainer:!1,errorTemplate:!1}).data("kendoEditable"),b.trigger(q,{model:d,item:e})},save:function(){var c,a=this,b=a.editable;b&&(b=b.element,c=a._modelFromElement(b),!a.trigger(s,{model:c,item:b})&&a._closeEditable(!0)&&a.dataSource.sync())},remove:function(a){var b=this,c=b.dataSource,d=b._modelFromElement(a);b.trigger(r,{model:d,item:a})||(a.hide(),c.remove(d),c.sync())
},add:function(){var a=this,b=a.dataSource,c=b.indexOf((b.view()||[])[0]);0>c&&(c=0),a.cancel(),b.insert(c,{}),a.edit(a.element.children().first())},cancel:function(){var a=this,b=a.dataSource;if(a.editable){var c=a.editable.element,d=a._modelFromElement(c);a.trigger(e,{model:d,container:c})||(b.cancelChanges(d),a._closeEditable(!1))}},_crudHandlers:function(){var b=this,d=t+u;b.element.on(d,".k-edit-button",function(d){var e=a(this).closest("["+c.attr("uid")+"]");b.edit(e),d.preventDefault()}),b.element.on(d,".k-delete-button",function(d){var e=a(this).closest("["+c.attr("uid")+"]");b.remove(e),d.preventDefault()}),b.element.on(d,".k-update-button",function(a){b.save(),a.preventDefault()}),b.element.on(d,".k-cancel-button",function(a){b.cancel(),a.preventDefault()})},destroy:function(){var a=this;h.fn.destroy.call(a),a._unbindDataSource(),a._destroyEditable(),a.element.off(u),a.pager&&a.pager.destroy(),a.selectable&&a.selectable.destroy(),c.destroy(a.element)}});c.ui.plugin(z)}(window.kendo.jQuery),kendo_module({id:"imagebrowser",name:"ImageBrowser",category:"web",description:"",hidden:!0,depends:["listview","dropdownlist","upload"]}),function(a,b){function y(a,b,c){var d,e;a.on("dragenter"+p,function(){b(),e=new Date,d||(d=setInterval(function(){var a=new Date-e;a>100&&(c(),clearInterval(d),d=null)},100))}).on("dragover"+p,function(){e=new Date})}function A(a,c){return a!==b&&a.match(/\/$/)||(a=(a||"")+"/"),a+c}function B(a){if(!a)return"";var b=" bytes";return a>=1073741824?(b=" GB",a/=1073741824):a>=1048576?(b=" MB",a/=1048576):a>=1024&&(b=" KB",a/=1024),Math.round(100*a)/100+b}function C(a,b){var c=a[b];return e(c)?c.from||c.field||b:c}var c=window.kendo,d=c.ui.Widget,e=a.isPlainObject,f=a.proxy,g=a.extend,h=c.support.placeholder,i=c.support.browser,j=c.isFunction,k=/(^\/|\/$)/g,l="change",m="apply",n="error",o="click",p=".kendoImageBrowser",q=".kendoBreadcrumbs",r=".kendoSearchBox",s="name",t="size",u="type",v={field:u,dir:"asc"},w=c.template('<li class="k-tile-empty"><strong>${text}</strong></li>'),x='<div class="k-widget k-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"># if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-add"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showCreate) { #<button type="button" class="k-button k-button-icon"><span class="k-icon k-addfolder" /></button># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-delete" /></button>&nbsp;# } #</div><div class="k-tiles-arrange"><label>#=messages.orderBy#: <select /></label></a></div></div>';g(!0,c.data,{schemas:{imagebrowser:{data:function(a){return a.items||a||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}}),g(!0,c.data,{transports:{imagebrowser:c.data.RemoteTransport.extend({init:function(b){c.data.RemoteTransport.fn.init.call(this,a.extend(!0,{},this.options,b))},_call:function(b,d){d.data=a.extend({},d.data,{path:this.options.path()}),j(this.options[b])?this.options[b].call(this,d):c.data.RemoteTransport.fn[b].call(this,d)},read:function(a){this._call("read",a)},create:function(a){this._call("create",a)},destroy:function(a){this._call("destroy",a)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});var z;z=i.msie&&i.version<8?function(a){return a.offsetTop}:function(b){return b.offsetTop-a(b).height()};var D=d.extend({init:function(a,b){var c=this;b=b||{},d.fn.init.call(c,a,b),c.element.addClass("k-imagebrowser k-secondary"),c.element.on(o+p,".k-toolbar button:not(.k-state-disabled):has(.k-delete)",f(c._deleteClick,c)).on(o+p,".k-toolbar button:not(.k-state-disabled):has(.k-addfolder)",f(c._addClick,c)).on("keydown"+p,"li.k-state-selected input",f(c._directoryKeyDown,c)).on("blur"+p,"li.k-state-selected input",f(c._directoryBlur,c)),c._dataSource(),c.refresh(),c.path(c.options.path)},options:{name:"ImageBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop file here to upload",search:"Search"},transport:{},path:"/",fileTypes:"*.png,*.gif,*.jpg,*.jpeg"},events:[n,l,m],destroy:function(){var a=this;d.fn.destroy.call(a),a.dataSource.unbind(n,a._errorHandler),a.element.add(a.list).add(a.toolbar).off(p),a.arrangeBy&&a.arrangeBy.destroy(),c.destroy(a.element)},value:function(){var d,a=this,b=a._selectedItem(),e=a.options.transport.imageUrl;return b&&"f"===b.get(u)?(d=A(a.path(),b.get(s)).replace(k,""),e&&(d=j(e)?e(d):c.format(e,encodeURIComponent(d))),d):void 0},_selectedItem:function(){var a=this.listView,b=a.select();return b.length?this.dataSource.getByUid(b.attr(c.attr("uid"))):void 0},_toolbar:function(){var b=this,d=c.template(x),e=b.options.messages,g=[{text:e.orderByName,value:"name"},{text:e.orderBySize,value:"size"}];b.toolbar=a(d({messages:e,showUpload:b.options.transport.uploadUrl,showCreate:b.options.transport.create,showDelete:b.options.transport.destroy})).appendTo(b.element).find(".k-upload input").kendoUpload({multiple:!1,localization:{dropFilesHere:e.dropFilesHere},async:{saveUrl:b.options.transport.uploadUrl,autoUpload:!0},upload:f(b._fileUpload,b),error:function(a){b._error({xhr:a.XMLHttpRequest,status:"error"})}}).end(),b.upload=b.toolbar.find(".k-upload input").data("kendoUpload"),b.arrangeBy=b.toolbar.find(".k-tiles-arrange select").kendoDropDownList({dataSource:g,dataTextField:"text",dataValueField:"value",change:function(){b.orderBy(this.value())}}).data("kendoDropDownList"),b._attachDropzoneEvents()},_attachDropzoneEvents:function(){var b=this;b.options.transport.uploadUrl&&(y(a(document.documentElement),a.proxy(b._dropEnter,b),a.proxy(b._dropLeave,b)),b._scrollHandler=f(b._positionDropzone,b))},_dropEnter:function(){this._positionDropzone(),a(document).on("scroll"+p,this._scrollHandler)},_dropLeave:function(){this._removeDropzone(),a(document).off("scroll"+p,this._scrollHandler)},_positionDropzone:function(){var a=this,b=a.element,c=b.offset();a.toolbar.find(".k-dropzone").addClass("k-imagebrowser-dropzone").offset(c).css({width:b[0].clientWidth,height:b[0].clientHeight,lineHeight:b[0].clientHeight+"px"})},_removeDropzone:function(){this.toolbar.find(".k-dropzone").removeClass("k-imagebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""})},_deleteClick:function(){var a=this,b=a.listView.select(),d=c.format(a.options.messages.deleteFile,b.find("strong").text());b.length&&a._showMessage(d,"confirm")&&a.listView.remove(b)},_addClick:function(){this.createDirectory()},_getFieldName:function(a){return C(this.dataSource.reader.model.fields,a)},_fileUpload:function(a){var j,b=this,d=b.options,e=d.fileTypes,f=new RegExp(("("+e.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),g=a.files[0].name,h=s,i=t;f.test(g)?(a.data={path:b.path()},j=b._createFile(g),j?b.upload.one("success",function(a){j.set(h,a.response[b._getFieldName(h)]),j.set(i,a.response[b._getFieldName(i)]),b._tiles=b.listView.items().filter("["+c.attr("type")+"=f]"),b._scroll()}):a.preventDefault()):(a.preventDefault(),b._showMessage(c.format(d.messages.invalidFileType,g,e)))},_findFile:function(a){var c,d,g,b=this.dataSource.data(),e=u,f=s;for(a=a.toLowerCase(),c=0,g=b.length;g>c;c++)if("f"===b[c].get(e)&&b[c].get(f).toLowerCase()===a){d=b[c];break}return d},_createFile:function(a){var d,e,b=this,f=0,g={},h=u,i=b.dataSource.view(),j=b._findFile(a);if(j&&!b._showMessage(c.format(b.options.messages.overwriteFile,a),"confirm"))return null;if(j)return j;for(d=0,e=i.length;e>d;d++)if("f"===i[d].get(h)){f=d;break}return g[h]="f",g[s]=a,g[t]=0,b.dataSource.insert(++f,g)},createDirectory:function(){var b,d,a=this,e=0,f=u,g=s,h=a.dataSource.data(),i=a._nameDirectory(),j=new a.dataSource.reader.model;for(b=0,d=h.length;d>b;b++)"d"===h[b].get(f)&&(e=b);j.set(f,"d"),j.set(g,i),a.listView.one("dataBound",function(){var b=a.listView.items().filter("["+c.attr("uid")+"="+j.uid+"]"),d=b.find("input");b.length&&this.edit(b),this.element.scrollTop(b.attr("offsetTop")-this.element[0].offsetHeight),setTimeout(function(){d.select()})}).one("save",function(b){var c=b.model.get(g);c?b.model.set(g,a._nameExists(c,j.uid)?a._nameDirectory():c):b.model.set(g,i)}),a.dataSource.insert(++e,j)},_directoryKeyDown:function(a){13==a.keyCode&&a.currentTarget.blur()},_directoryBlur:function(){this.listView.save()},_nameExists:function(a,b){var f,g,c=this.dataSource.data(),d=u,e=s;for(f=0,g=c.length;g>f;f++)if("d"===c[f].get(d)&&c[f].get(e).toLowerCase()===a.toLowerCase()&&c[f].uid!==b)return!0;return!1},_nameDirectory:function(){var g,h,i,b="New folder",c=this.dataSource.data(),d=[],e=u,f=s;for(h=0,i=c.length;i>h;h++)"d"===c[h].get(e)&&c[h].get(f).toLowerCase().indexOf(b.toLowerCase())>-1&&d.push(c[h].get(f));if(a.inArray(b,d)>-1){h=2;do g=b+" ("+h+")",h++;while(a.inArray(g,d)>-1);b=g}return b},orderBy:function(a){this.dataSource.sort([{field:u,dir:"asc"},{field:a,dir:"asc"}])},search:function(a){this.dataSource.filter({field:s,operator:"contains",value:a})},_content:function(){var b=this;b.list=a('<ul class="k-reset k-floats k-tiles" />').appendTo(b.element).on("scroll"+p,f(b._scroll,b)).on("dblclick"+p,"li",f(b._dblClick,b)),b.listView=new c.ui.ListView(b.list,{dataSource:b.dataSource,template:b._itemTmpl(),editTemplate:b._editTmpl(),selectable:!0,autoBind:!1,dataBinding:function(a){b.toolbar.find(".k-delete").parent().addClass("k-state-disabled"),("remove"===a.action||"sync"===a.action)&&a.preventDefault()},dataBound:function(){b.dataSource.view().length?(b._tiles=this.items().filter("["+c.attr("type")+"=f]"),b._scroll()):this.wrapper.append(w({text:b.options.messages.emptyFolder}))},change:f(b._listViewChange,b)})},_dblClick:function(b){var d=this,e=a(b.currentTarget);if(e.filter("["+c.attr("type")+"=d]").length){var f=d.dataSource.getByUid(e.attr(c.attr("uid")));f&&(d.path(A(d.path(),f.get(s))),d.breadcrumbs.value(d.path()))}else e.filter("["+c.attr("type")+"=f]").length&&d.trigger(m)},_listViewChange:function(){var a=this._selectedItem();a&&(this.toolbar.find(".k-delete").parent().removeClass("k-state-disabled"),"f"===a.get(u)&&this.trigger(l))},_dataSource:function(){var j,a=this,b=a.options,d=b.transport,h=g({},v),i={field:s,dir:"asc"},k={type:d.type||"imagebrowser",sort:[h,i]};e(d)&&(d.path=f(a.path,a),k.transport=d),e(b.schema)?k.schema=b.schema:d.type&&e(c.data.schemas[d.type])&&(j=c.data.schemas[d.type]),a.dataSource&&a._errorHandler?a.dataSource.unbind(n,a._errorHandler):a._errorHandler=f(a._error,a),a.dataSource=c.data.DataSource.create(k).bind(n,a._errorHandler)},_navigation:function(){var b=this,c=a('<div class="k-floatwrap"><input/><input/></div>').appendTo(this.element);b.breadcrumbs=c.find("input:first").kendoBreadcrumbs({value:b.options.path,change:function(){b.path(this.value())}}).data("kendoBreadcrumbs"),b.searchBox=c.parent().find("input:last").kendoSearchBox({label:b.options.messages.search,change:function(){b.search(this.value())}}).data("kendoSearchBox")},_error:function(a){var c,b=this;b.trigger(n,a)||(c=a.xhr.status,"error"==a.status?"404"==c?b._showMessage(b.options.messages.directoryNotFound):"0"!=c&&b._showMessage("Error! The requested URL returned "+c+" - "+a.xhr.statusText):"timeout"==c&&b._showMessage("Error! Server timeout."))},_showMessage:function(a,b){return window[b||"alert"](a)},refresh:function(){var a=this;a._navigation(),a._toolbar(),a._content()},_loadImage:function(b){var d=this,e=a(b),f=d.dataSource.getByUid(e.attr(c.attr("uid"))),g=f.get(s),h=d.options.transport.thumbnailUrl,i=a("<img />",{alt:g}),k="?";i.hide().on("load"+p,function(){a(this).prev().remove().end().addClass("k-image").fadeIn()}),e.find(".k-loading").after(i),j(h)?h=h(d.path(),encodeURIComponent(g)):(h.indexOf("?")>=0&&(k="&"),h=h+k+"path="+d.path()+encodeURIComponent(g)),i.attr("src",h),b.loaded=!0},_scroll:function(){var a=this;a.options.transport&&a.options.transport.thumbnailUrl&&(clearTimeout(a._timeout),a._timeout=setTimeout(function(){var b=a.list.outerHeight(),c=a.list.scrollTop(),d=c+b;a._tiles.each(function(){var b=z(this),e=b+this.offsetHeight;return(b>=c&&d>b||e>=c&&d>e)&&a._loadImage(this),b>d?!1:void 0}),a._tiles=a._tiles.filter(function(){return!this.loaded})},250))},_editTmpl:function(){var a='<li class="k-tile k-state-selected" '+c.attr("uid")+'="#=uid#" ';return a+=c.attr("type")+'="${'+u+'}">',a+="#if("+u+' == "d") { #',a+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>',a+="#}else{#",a+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>',a+="#}#",a+="#if("+u+' == "d") { #',a+='<input class="k-input" '+c.attr("bind")+'="value:'+s+'"/>',a+="#}#",a+="</li>",f(c.template(a),{sizeFormatter:B})},_itemTmpl:function(){var a=this,b='<li class="k-tile" '+c.attr("uid")+'="#=uid#" ';return b+=c.attr("type")+'="${'+u+'}">',b+="#if("+u+' == "d") { #',b+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>',b+="#}else{#",b+=a.options.transport&&a.options.transport.thumbnailUrl?'<div class="k-thumb"><span class="k-icon k-loading"></span></div>':'<div class="k-thumb"><span class="k-icon k-file"></span></div>',b+="#}#",b+="<strong>${"+s+"}</strong>",b+="#if("+u+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+t+")}</span> #}#",b+="</li>",f(c.template(b),{sizeFormatter:B})},path:function(a){var c=this,d=c._path||"";return a!==b?(c._path=a.replace(k,"")+"/",c.dataSource.read({path:c._path}),void 0):(d&&(d=d.replace(k,"")),"/"===d||""===d?"":d+"/")}}),E=d.extend({init:function(a,b){var c=this;b=b||{},d.fn.init.call(c,a,b),h&&c.element.attr("placeholder",c.options.label),c._wrapper(),c.element.on("keydown"+r,f(c._keydown,c)).on("change"+r,f(c._updateValue,c)),c.wrapper.on(o+r,"a",f(c._click,c)),h||c.element.on("focus"+r,f(c._focus,c)).on("blur"+r,f(c._blur,c))},options:{name:"SearchBox",label:"Search",value:""},events:[l],destroy:function(){var a=this;a.wrapper.add(a.element).add(a.label).off(r),d.fn.destroy.call(a)},_keydown:function(a){13===a.keyCode&&this._updateValue()},_click:function(a){a.preventDefault(),this._updateValue()},_updateValue:function(){var a=this,b=a.element.val();b!==a.value()&&(a.value(b),a.trigger(l))},_blur:function(){this._updateValue(),this._toggleLabel()},_toggleLabel:function(){h||this.label.toggle(!this.element.val())},_focus:function(){this.label.hide()},_wrapper:function(){var b=this.element,c=b.parents(".k-search-wrap");b[0].style.width="",b.addClass("k-input"),c.length||(c=b.wrap(a('<div class="k-widget k-search-wrap k-textbox"/>')).parent(),h||a('<label style="display:block">'+this.options.label+"</label>").insertBefore(b),a('<a href="#" class="k-icon k-i-search k-search"/>').appendTo(c)),this.wrapper=c,this.label=c.find(">label")},value:function(a){var c=this;return a!==b?(c.options.value=a,c.element.val(a),c._toggleLabel(),void 0):c.options.value}}),F=d.extend({init:function(a,b){var c=this;b=b||{},d.fn.init.call(c,a,b),c._wrapper(),c.wrapper.on("focus"+q,"input",f(c._focus,c)).on("blur"+q,"input",f(c._blur,c)).on("keydown"+q,"input",f(c._keydown,c)).on(o+q,"a.k-i-arrow-n:first",f(c._rootClick,c)).on(o+q,"a:not(.k-i-arrow-n)",f(c._click,c)),c.value(c.options.value)},options:{name:"Breadcrumbs",gap:50},events:[l],destroy:function(){var a=this;d.fn.destroy.call(a),a.wrapper.add(a.wrapper.find("input")).add(a.wrapper.find("a")).off(q)},_update:function(a){a="/"===(a||"").charAt(0)?a:"/"+(a||""),a!==this.value()&&(this.value(a),this.trigger(l))},_click:function(b){b.preventDefault(),this._update(this._path(a(b.target).prevAll("a:not(.k-i-arrow-n)").addBack()))},_rootClick:function(a){a.preventDefault(),this._update("")},_focus:function(){var a=this,b=a.element;a.overlay.hide(),a.element.val(a.value()),setTimeout(function(){b.select()})},_blur:function(){if(!this.overlay.is(":visible")){var a=this,b=a.element,c=b.val().replace(/\/{2,}/g,"/");a.overlay.show(),b.val(""),a._update(c)}},_keydown:function(a){var b=this;13===a.keyCode&&(b._blur(),setTimeout(function(){b.overlay.find("a:first").focus()}))},_wrapper:function(){var d,b=this.element,c=b.parents(".k-breadcrumbs");b[0].style.width="",b.addClass("k-input"),c.length||(c=b.wrap(a('<div class="k-widget k-breadcrumbs k-textbox"/>')).parent()),d=c.find(".k-breadcrumbs-wrap"),d.length||(d=a('<div class="k-breadcrumbs-wrap"/>').appendTo(c)),this.wrapper=c,this.overlay=d},refresh:function(){var e,f,g,h,c="",d=this.value();for(d!==b&&d.match(/^\//)||(d="/"+(d||"")),e=d.split("/"),g=0,h=e.length;h>g;g++)f=e[g],f&&(c||(c+='<a href="#" class="k-icon k-i-arrow-n">root</a>'),c+='<a class="k-link" href="#">'+e[g]+"</a>",c+='<span class="k-icon k-i-arrow-e">&gt;</span>');this.overlay.empty().append(a(c)),this._adjustSectionWidth()},_adjustSectionWidth:function(){var f,b=this,c=b.wrapper,d=c.width()-b.options.gap,e=b.overlay.find("a");e.each(function(b){f=a(this),f.parent().width()>d&&(b==e.length-1?f.width(d):f.prev().addBack().hide())})},value:function(a){return a!==b?(this._value=a.replace(/\/{2,}/g,"/"),this.refresh(),void 0):this._value},_path:function(b){return"/"+a.map(b,function(b){return a(b).text()}).join("/")}});c.ui.plugin(D),c.ui.plugin(F),c.ui.plugin(E)}(window.kendo.jQuery),kendo_module({id:"editor",name:"Editor",category:"web",description:"Rich text editor component",depends:["combobox","dropdownlist","window","colorpicker"],features:[{id:"editor-imagebrowser",name:"Image Browser",description:"Support for uploading and inserting images",depends:["imagebrowser"]}]}),function(a,b){var c=window.kendo,d=c.Class,e=c.ui.Widget,f=c.support.mobileOS,g=c.support.browser,h=a.extend,i=a.proxy,j=c.deepExtend,k=".kendoEditor",l=c.keys,m=d.extend({init:function(a){this.options=a},getHtml:function(){var a=this.options;return c.template(a.template,{useWithBlock:!1})(a)}}),n={editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap k-secondary" role="presentation"><ul class="k-editor-toolbar" role="toolbar" /></td></tr><tr><td class="k-editable-area" /></tr></tbody></table>',buttonTemplate:'<a href="" role="button" class="k-tool"#= data.popup ? " data-popup" : "" # unselectable="on" title="#= data.title #"><span class="k-tool-icon #= data.cssClass #">#= data.title #</span></a>',colorPickerTemplate:'<div class="k-colorpicker #= data.cssClass #" />',comboBoxTemplate:'<select title="#= data.title #" class="#= data.cssClass #" />',dropDownListTemplate:'<span class="k-editor-dropdown"><select title="#= data.title #" class="#= data.cssClass #" /></span>',separatorTemplate:'<span class="k-separator" />',formatByName:function(b,c){for(var d=0;d<c.length;d++)if(a.inArray(b,c[d].tags)>=0)return c[d]},registerTool:function(a,b){var c=b.options;c&&c.template&&(c.template.options.cssClass="k-"+a),b.name||(b.options.name=a,b.name=a.toLowerCase()),r.defaultTools[a]=b},registerFormat:function(a,b){r.fn.options.formats[a]=b}},o={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogButtonSeparator:"or",dialogCancel:"Cancel",createTable:"Create table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column"},p=!f||f.ios&&f.flatVersion>=500||!f.ios&&"undefined"!=typeof document.documentElement.contentEditable,q={basic:["bold","italic","underline"],alignment:["justifyLeft","justifyCenter","justifyRight"],lists:["insertUnorderedList","insertOrderedList"],indenting:["indent","outdent"],links:["createLink","unlink"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"]},r=e.extend({init:function(b,d){var g,m,n,f=this,l=c.ui.editor,o=l.Dom.name(b);p&&(e.fn.init.call(f,b,d),f.options=j({},f.options,d),b=f.element,b.closest("form").on("submit"+k,function(){f.update()}),n=h({},f.options),n.editor=f,"textarea"==o?(f._wrapTextarea(),m=f.wrapper.find(".k-editor-toolbar"),b[0].id&&m.attr("aria-controls",b[0].id)):(f.element.addClass("k-widget k-editor k-editor-inline"),n.popup=!0,m=a('<ul class="k-editor-toolbar k-secondary" role="toolbar" />').insertBefore(b)),f.toolbar=new l.Toolbar(m[0],n),f.toolbar.bindTo(f),f._initializeContentElement(f),f.keyboard=new l.Keyboard([new l.TypingHandler(f),new l.SystemHandler(f)]),f.clipboard=new l.Clipboard(this),f.undoRedoStack=new l.UndoRedoStack,g=d&&d.value?d.value:f.textarea?b.val().replace(/[\r\n\v\f\t ]+/gi," "):b[0].innerHTML,f.value(g),a(document).on("mousedown",i(f._endTyping,f)).on("mouseup",i(f._mouseup,f)),c.notify(f))},_endTyping:function(){var a=this.keyboard;try{a.isTypingInProgress()&&(a.endTyping(!0),this.saveSelection())}catch(b){}},_selectionChange:function(){this._selectionStarted=!1,this.saveSelection(),this.trigger("select",{})},_wrapTextarea:function(){var b=this,c=b.element,d=c[0].style.width,e=c[0].style.height,f=n.editorWrapperTemplate,g=a(f).insertBefore(c).width(d).height(e),h=g.find(".k-editable-area");c.attr("autocomplete","off").appendTo(h).addClass("k-content k-raw-content").css("display","none"),b.textarea=c,b.wrapper=g},_createContentElement:function(b){var e,f,g,d=this,h=d.textarea,i=document.domain,j='javascript:""';return i!=location.hostname&&(j="javascript:document.write('<script>document.domain=\""+i+"\"</script>'"+")"),h.hide(),e=a("<iframe />",{frameBorder:"0"})[0],a(e).css("display","").addClass("k-content").insertBefore(h),e.src=j,f=e.contentWindow||e,g=f.document||e.contentDocument,a(e).one("load",function(){var a=d.toolbar.items().filter(".k-decorated");a.kendoSelectBox("decorate",g)}),g.open(),g.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;background:#fff;height:100%;min-height:100%;}body{font-size:12px;font-family:Verdana,Geneva,sans-serif;padding-top:1px;margin-top:-1px;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+(c.support.isRtl(h)?"direction:rtl;":"")+"}"+"h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}"+"p{margin:0 0 1em;padding:0 .2em}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}"+"ul,ol{padding-left:2.5em}"+"a{color:#00a}"+"code{font-size:1.23em}"+".k-table{width:100%;border-spacing:0;margin: 0 0 1em;}"+".k-table td{min-width:1px;padding:.2em .3em;}"+".k-table,.k-table td{outline:0;border: 1px dotted #ccc;}"+".k-table p{margin:0;padding:0;}"+"</style>"+"<script>(function(d,c){d[c]('header'),d[c]('article'),d[c]('nav'),d[c]('section'),d[c]('footer');})(document, 'createElement');</script>"+a.map(b,function(a){return"<link rel='stylesheet' href='"+a+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>"),g.close(),f},_initializeContentElement:function(){var d,e,b=this;if(b.textarea)b.window=b._createContentElement(b.options.stylesheets),d=b.document=b.window.contentDocument||b.window.document,b.body=d.body,e=b.window,a(d).on("mouseup"+k,i(b._mouseup,b));else{b.window=window,d=b.document=document,b.body=b.element[0],e=b.body;var f=b.toolbar.items().filter(".k-decorated");f.kendoSelectBox("decorate",d)}a(e).on("blur"+k,function(){var a=b.textarea?b.textarea.val():b._oldValue,c=b.options.encoded?b.encodedValue():b.value();b.update(),c!=a&&b.trigger("change")});try{d.execCommand("enableInlineTableEditing",null,!1)}catch(h){}c.support.touch&&a(d).on("selectionchange"+k,function(){b._selectionChange()}),a(b.body).on("keydown"+k,function(a){var d;if(a.keyCode===l.F10)return setTimeout(i(b.toolbar.focus,b.toolbar),100),a.preventDefault(),void 0;if(a.keyCode===l.BACKSPACE){d=b.getRange();var e,f=g.msie?"":'<br _moz_dirty="" />',h=c.ui.editor.Dom;d.deleteContents(),e=d.commonAncestorContainer,"p"===h.name(e)&&""===e.innerHTML&&(e.innerHTML=f,d.setStart(e,0),d.collapse(!0),b.selectRange(d))}else if(a.keyCode==l.LEFT||a.keyCode==l.RIGHT){d=b.getRange();var j=a.keyCode==l.LEFT,k=d[j?"startContainer":"endContainer"],m=d[j?"startOffset":"endOffset"],n=j?-1:1;j&&(m-=1),m+n>0&&3==k.nodeType&&"\ufeff"==k.nodeValue[m]&&(d.setStart(k,m+n),d.collapse(!0),b.selectRange(d))}var o=b.keyboard.toolFromShortcut(b.toolbar.tools,a);return o?(a.preventDefault(),/^(undo|redo)$/.test(o)||b.keyboard.endTyping(!0),b.trigger("keydown",a),b.exec(o),!1):(b.keyboard.clearTimeout(),b.keyboard.keydown(a),void 0)}).on("keyup"+k,function(c){var d=[8,9,33,34,35,36,37,38,39,40,40,45,46];(a.inArray(c.keyCode,d)>-1||65==c.keyCode&&c.ctrlKey&&!c.altKey&&!c.shiftKey)&&b._selectionChange(),b.keyboard.keyup(c)}).on("mousedown"+k,function(c){b._selectionStarted=!0;var d=a(c.target);!g.gecko&&2==c.which&&d.is("a[href]")&&window.open(d.attr("href"),"_new")}).on("click"+k,function(a){var e,d=c.ui.editor.Dom;"img"===d.name(a.target)&&(e=b.createRange(),e.selectNode(a.target),b.selectRange(e))}).on("cut"+k+" paste"+k,function(a){b.clipboard["on"+a.type](a)}).on("focusin"+k,function(){a(this).addClass("k-state-active"),b.toolbar.show()}).on("focusout"+k,function(){setTimeout(function(){var d=c._activeElement(),e=b.body,f=b.toolbar;d==e||a.contains(e,d)||f.focused()||(a(e).removeClass("k-state-active"),f.hide())},10)})},_mouseup:function(){var a=this;a._selectionStarted&&setTimeout(function(){a._selectionChange()},1)},refresh:function(){var a=this;a.textarea&&(a.textarea.val(a.value()),a.wrapper.find("iframe").remove(),a._initializeContentElement(a),a.value(a.textarea.val()))},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:o,formats:{},encoded:!0,stylesheets:[],dialogOptions:{modal:!0,resizable:!1,draggable:!0,animation:!1},fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],q.basic,q.alignment,q.lists,q.indenting,q.links,["insertImage"],q.tables)},destroy:function(){var b=this;e.fn.destroy.call(b),a(b.window).add(b.document).add(b.body).add(b.wrapper).add(b.element.closest("form")).off(k),a(document).off("mousedown",i(b._endTyping,b)).off("mouseup",i(b._mouseup,b)),b.toolbar.destroy(),c.destroy(b.wrapper)},state:function(a){var f,g,b=r.defaultTools[a],d=b&&(b.options.finder||b.finder),e=c.ui.editor.RangeUtils;return d?(f=this.getRange(),g=e.textNodes(f),!g.length&&f.collapsed&&(g=[f.startContainer]),d.getFormat?d.getFormat(g):d.isFormatted(g)):!1},value:function(d){var e=this.body,f=c.ui.editor,h=f.Dom,i=f.Serializer.domToXhtml(e);if(d===b)return i;if(d!=i){var j=/onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i;if(d=(d||"").replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<script([^>]*)>(.*)?<\/script>/gi,"<telerik:script $1>$2</telerik:script>").replace(/<img([^>]*)>/gi,function(a){return a.replace(j,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi,"$1").replace(/<p([^>]*)>(\s*)?<\/p>/gi,"<p$1>"+f.emptyElementContent+"</p>"),g.msie&&g.version<9){d="<br/>"+d;var k="originalsrc",l="originalhref";d=d.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,l+'="$1"'),d=d.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,k+'="$1"'),e.innerHTML=d,h.remove(e.firstChild),a(e).find("telerik\\:script,script,link,img,a").each(function(){var a=this;a[l]&&(a.setAttribute("href",a[l]),a.removeAttribute(l)),a[k]&&(a.setAttribute("src",a[k]),a.removeAttribute(k))})}else e.innerHTML=d,g.msie&&(h.normalize(e),setTimeout(function(){var b,c,d,a=e.getElementsByTagName("ol");for(b=0;b<a.length;b++)c=a[b],d=c.getAttribute("start"),c.setAttribute("start",1),d?c.setAttribute("start",d):c.removeAttribute(d)},1));a("table",this.body).addClass("k-table"),this.selectionRestorePoint=null,this.update()}},saveSelection:function(b){b=b||this.getRange();var d=b.commonAncestorContainer,e=this.body;(d==e||a.contains(e,d))&&(this.selectionRestorePoint=new c.ui.editor.RestorePoint(b))},_focusBody:function(){var a=this.body;c._activeElement()!=a&&a.focus()},restoreSelection:function(){this._focusBody(),this.selectionRestorePoint&&this.selectRange(this.selectionRestorePoint.toRange())},focus:function(){this.restoreSelection()},update:function(a){a=a||this.options.encoded?this.encodedValue():this.value(),this.textarea?this.textarea.val(a):this._oldValue=a},encodedValue:function(){return c.ui.editor.Dom.encode(this.value())},createRange:function(a){return c.ui.editor.RangeUtils.createRange(a||this.document)},getSelection:function(){return c.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(a){this._focusBody();var b=this.getSelection();b.removeAllRanges(),b.addRange(a),this.saveSelection(a)},getRange:function(){var a=this.getSelection(),b=a.rangeCount>0?a.getRangeAt(0):this.createRange(),c=this.document;return b.startContainer!=c||b.endContainer!=c||b.startOffset||b.endOffset||(b.setStart(this.body,0),b.collapse(!0)),b},selectedHtml:function(){return c.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(a,b){this.clipboard.paste(a,b)},exec:function(a,b){var d,e,c=this,f=null;if(!a)throw new Error("kendoEditor.exec(): `name` parameter cannot be empty");if(a=a.toLowerCase(),c.keyboard.isTypingInProgress()||c.restoreSelection(),e=c.toolbar.toolById(a),!e)for(var g in r.defaultTools)if(g.toLowerCase()==a){e=r.defaultTools[g];break}if(e){if(d=c.getRange(),e.command&&(f=e.command(h({range:d},b))),c.trigger("execute",{name:a,command:f}),/^(undo|redo)$/i.test(a))c.undoRedoStack[a]();
else if(f&&(f.managesUndoRedo||c.undoRedoStack.push(f),f.editor=c,f.exec(),f.async))return f.change=i(c._selectionChange,c),void 0;c._selectionChange()}}});r.defaultTools={undo:{options:{key:"Z",ctrl:!0}},redo:{options:{key:"Y",ctrl:!0}}},c.ui.plugin(r);var s=d.extend({init:function(a){this.options=a},initialize:function(a,b){a.attr({unselectable:"on",title:b.title})},command:function(a){return new this.options.command(a)},update:a.noop});s.exec=function(a,b,c){a.exec(b,{value:c})};var t=s.extend({init:function(a){s.fn.init.call(this,a)},command:function(a){var b=this;return new c.ui.editor.FormatCommand(h(a,{formatter:b.options.formatter}))},update:function(a,b){var c=this.options.finder.isFormatted(b);a.toggleClass("k-state-selected",c),a.attr("aria-pressed",c)}});n.registerTool("separator",new s({template:new m({template:n.separatorTemplate})})),h(c.ui,{editor:{ToolTemplate:m,EditorUtils:n,Tool:s,FormatTool:t,_bomFill:g.msie&&g.version<9?"\ufeff":"",emptyElementContent:g.msie?g.version<9?"\ufeff":"":'<br _moz_dirty="" />'}})}(window.jQuery),function(a){function l(a){var c,d,b={};for(c=0,d=a.length;d>c;c++)b[a[c]]=!0;return b}var b=window.kendo,c=a.map,d=a.extend,e=b.support.browser,f="style",g="float",h="cssFloat",i="styleFloat",j="class",k="k-marker",m=l("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),n="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,pre,script,table,tbody,td,tfoot,th,thead,tr,ul,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),o=l(n),p="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),q=l(p),r=l("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(",")),s=function(a){1==a.nodeType&&a.normalize()};e.msie&&e.version>=8&&(s=function(a){if(1==a.nodeType&&a.firstChild)for(var b=a.firstChild,c=b;;){if(c=c.nextSibling,!c)break;3==c.nodeType&&3==b.nodeType&&(c.nodeValue=b.nodeValue+c.nodeValue,A.remove(b)),b=c}});var w,t=/^\s+$/,u=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,v=/\ufeff/g,x="color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height".split(","),y=/[\u00A0-\u2666<>\&]/g,z={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"},A={block:o,inline:q,findNodeIndex:function(a,b){for(var c=0;;){if(a=a.previousSibling,!a)break;b&&3==a.nodeType||c++}return c},isDataNode:function(a){return a&&null!==a.nodeValue&&null!==a.data},isAncestorOf:function(b,c){try{return!A.isDataNode(b)&&(a.contains(b,A.isDataNode(c)?c.parentNode:c)||c.parentNode==b)}catch(d){return!1}},isAncestorOrSelf:function(a,b){return A.isAncestorOf(a,b)||a==b},findClosestAncestor:function(a,b){if(A.isAncestorOf(a,b))for(;b&&b.parentNode!=a;)b=b.parentNode;return b},getNodeLength:function(a){return A.isDataNode(a)?a.length:a.childNodes.length},splitDataNode:function(a,b){for(var c=a.cloneNode(!1),d="",e=a;e.nextSibling&&3==e.nextSibling.nodeType&&e.nextSibling.nodeValue;)d+=e.nextSibling.nodeValue,e=e.nextSibling;a.deleteData(b,a.length),c.deleteData(0,b),c.nodeValue+=d,A.insertAfter(c,a)},attrEquals:function(b,c){for(var d in c){var e=b[d];if(d==g&&(e=b[a.support.cssFloat?h:i]),"object"==typeof e){if(!A.attrEquals(e,c[d]))return!1}else if(e!=c[d])return!1}return!0},blockParentOrBody:function(a){return A.parentOfType(a,n)||a.ownerDocument.body},blockParents:function(b){var d,e,c=[];for(d=0,e=b.length;e>d;d++){var f=A.parentOfType(b[d],A.blockElements);f&&a.inArray(f,c)<0&&c.push(f)}return c},windowFromDocument:function(a){return a.defaultView||a.parentWindow},normalize:s,blockElements:n,inlineElements:p,empty:m,fillAttrs:r,toHex:function(a){var b=u.exec(a);return b?"#"+c(b.slice(1),function(a){return a=parseInt(a,10).toString(16),a.length>1?a:"0"+a}).join(""):a},encode:function(a){return a.replace(y,function(a){var b=a.charCodeAt(0),c=z[b];return c?"&"+c+";":a})},stripBom:function(a){return a.replace(v,"")},name:function(a){return a.nodeName.toLowerCase()},significantChildNodes:function(b){return a.grep(b.childNodes,function(a){return 3!=a.nodeType||!A.isWhitespace(a)})},lastTextNode:function(a){var b=null;if(3==a.nodeType)return a;for(var c=a.lastChild;c;c=c.previousSibling)if(b=A.lastTextNode(c))return b;return b},is:function(a,b){return A.name(a)==b},isMarker:function(a){return a.className==k},isWhitespace:function(a){return t.test(a.nodeValue)},isBlock:function(a){return o[A.name(a)]},isEmpty:function(a){return m[A.name(a)]},isInline:function(a){return q[A.name(a)]},scrollContainer:function(a){var c=A.windowFromDocument(a),d=(c.contentWindow||c).document||c.ownerDocument||c;return d=b.support.browser.webkit||"BackCompat"==d.compatMode?d.body:d.documentElement},scrollTo:function(b){var f,g,c=a(A.isDataNode(b)?b.parentNode:b),d=A.windowFromDocument(b.ownerDocument),e=d.innerHeight,h=A.scrollContainer(b.ownerDocument);"br"==A.name(c[0])&&(c=c.parent()),f=c.offset().top,g=c[0].offsetHeight,g+f>h.scrollTop+e&&(h.scrollTop=g+f-e)},persistScrollTop:function(a){w=A.scrollContainer(a).scrollTop},restoreScrollTop:function(a){A.scrollContainer(a).scrollTop=w},insertAt:function(a,b,c){a.insertBefore(b,a.childNodes[c]||null)},insertBefore:function(a,b){return b.parentNode?b.parentNode.insertBefore(a,b):b},insertAfter:function(a,b){return b.parentNode.insertBefore(a,b.nextSibling)},remove:function(a){a.parentNode.removeChild(a)},removeTextSiblings:function(a){for(var b=a.parentNode;a.nextSibling&&3==a.nextSibling.nodeType;)b.removeChild(a.nextSibling);for(;a.previousSibling&&3==a.previousSibling.nodeType;)b.removeChild(a.previousSibling)},trim:function(a){for(var b=a.childNodes.length-1;b>=0;b--){var c=a.childNodes[b];A.isDataNode(c)?(A.stripBom(c.nodeValue).length||A.remove(c),A.isWhitespace(c)&&A.insertBefore(c,a)):c.className!=k&&(A.trim(c),c.childNodes.length||A.isEmpty(c)||A.remove(c))}return a},closest:function(a,b){for(;a&&A.name(a)!=b;)a=a.parentNode;return a},sibling:function(a,b){do a=a[b];while(a&&1!=a.nodeType);return a},next:function(a){return A.sibling(a,"nextSibling")},prev:function(a){return A.sibling(a,"previousSibling")},parentOfType:function(a,b){do a=a.parentNode;while(a&&!A.ofType(a,b));return a},ofType:function(b,c){return a.inArray(A.name(b),c)>=0},changeTag:function(a,b){var e,g,h,i,k,c=A.create(a.ownerDocument,b),d=a.attributes;for(e=0,g=d.length;g>e;e++)k=d[e],k.specified&&(h=k.nodeName,i=k.nodeValue,h==j?c.className=i:h==f?c.style.cssText=a.style.cssText:c.setAttribute(h,i));for(;a.firstChild;)c.appendChild(a.firstChild);return A.insertBefore(c,a),A.remove(a),c},editableParent:function(a){for(;3==a.nodeType||"true"!==a.contentEditable;)a=a.parentNode;return a},wrap:function(a,b){return A.insertBefore(b,a),b.appendChild(a),b},unwrap:function(a){for(var b=a.parentNode;a.firstChild;)b.insertBefore(a.firstChild,a);b.removeChild(a)},create:function(a,b,c){return A.attr(a.createElement(b),c)},attr:function(a,b){b=d({},b),b&&f in b&&(A.style(a,b.style),delete b.style);for(var c in b)null===b[c]?(a.removeAttribute(c),delete b[c]):"className"==c&&(a[c]=b[c]);return d(a,b)},style:function(b,c){a(b).css(c||{})},unstyle:function(b,c){for(var d in c)d==g&&(d=a.support.cssFloat?h:i),b.style[d]="";""===b.style.cssText&&b.removeAttribute(f)},inlineStyle:function(b,d,f){var h,g=a(A.create(b,d,f));return b.body.appendChild(g[0]),h=c(x,function(a){return e.msie&&"line-height"==a&&"1px"==g.css(a)?"line-height:1.5":a+":"+g.css(a)}).join(";"),g.remove(),h},removeClass:function(b,c){var f,g,d=" "+b.className+" ",e=c.split(" ");for(f=0,g=e.length;g>f;f++)d=d.replace(" "+e[f]+" "," ");d=a.trim(d),d.length?b.className=d:b.removeAttribute(j)},commonAncestor:function(){var e,f,g,h,i,a=arguments.length,b=[],c=1/0,d=null;if(!a)return null;if(1==a)return arguments[0];for(e=0;a>e;e++){for(f=[],g=arguments[e];g;)f.push(g),g=g.parentNode;b.push(f.reverse()),c=Math.min(c,f.length)}if(1==a)return b[0][0];for(e=0;c>e;e++){for(h=b[0][e],i=1;a>i;i++)if(h!=b[i][e])return d;d=h}return d},closestSplittableParent:function(b){var d;d=1==b.length?A.parentOfType(b[0],["ul","ol"]):A.commonAncestor.apply(null,b),d||(d=A.parentOfType(b[0],["p","td"])||b[0].ownerDocument.body),A.isInline(d)&&(d=A.blockParentOrBody(d));var e=c(b,A.editableParent),f=A.commonAncestor(e)[0];return a.contains(d,f)&&(d=f),d},closestEditable:function(b,c){var d=A.parentOfType(b,c),e=A.editableParent(b);return d&&e&&a.contains(d,e)?d=e:!d&&e&&(d=e),d},closestEditableOfType:function(a,b){var c=A.closestEditable(a,b);return c&&A.ofType(c,b)?c:void 0}};b.ui.editor.Dom=A}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.ui.editor,e=d.Dom,f=a.extend,g="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),h=/"/g,i=/<br[^>]*>/i,j=/^\d+(\.\d*)?(px)?$/i,k=/<p><\/p>/i,l=/([\w|\-]+)\s*:\s*([^;]+);?/i,m=/^sizzle-\d+/i,n={domToXhtml:function(c){function n(b){var g,j,k,m,c=a.trim,f=c(b).split(";"),i=f.length;for(g=0,i=f.length;i>g;g++)f[g].length&&(j=l.exec(f[g]),j&&(k=c(j[1].toLowerCase()),m=c(j[2]),"font-size-adjust"!=k&&"font-stretch"!=k&&(k.indexOf("color")>=0?m=e.toHex(m):k.indexOf("font")>=0?m=m.replace(h,"'"):/\burl\(/g.test(m)&&(m=m.replace(h,"")),d.push(k),d.push(":"),d.push(m),d.push(";"))))}function o(c){var h,i,k,l,o,p,f=[],g=c.attributes;if(e.is(c,"img")){var q=c.style.width,r=c.style.height,s=a(c);q&&j.test(q)&&(s.attr("width",parseInt(q,10)),e.unstyle(c,{width:b})),r&&j.test(r)&&(s.attr("height",parseInt(r,10)),e.unstyle(c,{height:b}))}for(i=0,k=g.length;k>i;i++)h=g[i],l=h.nodeName,o=h.nodeValue,p=h.specified,"value"==l&&"value"in c&&c.value?p=!0:"type"==l&&"text"==o?p=!0:"class"!=l||o?m.test(l)?p=!1:"complete"==l?p=!1:"altHtml"==l?p=!1:l.indexOf("_moz")>=0&&(p=!1):p=!1,p&&f.push(h);if(f.length)for(f.sort(function(a,b){return a.nodeName>b.nodeName?1:a.nodeName<b.nodeName?-1:0}),i=0,k=f.length;k>i;i++)h=f[i],l=h.nodeName,o=h.nodeValue,("contenteditable"!=l.toLowerCase()||!e.is(c,"table")&&!e.is(c,"td"))&&("class"!=l||"k-table"!=o)&&(d.push(" "),d.push(l),d.push('="'),"style"==l?n(o||c.style.cssText):"src"==l||"href"==l?d.push(c.getAttribute(l,2)):d.push(e.fillAttrs[l]?l:o),d.push('"'))}function p(a,b){for(var c=a.firstChild;c;c=c.nextSibling)r(c,b)}function q(a){return a.nodeValue.replace(/\ufeff/g,"")}function r(b,c){var h,i,j,k,l,g=b.nodeType;if(1==g){if(h=e.name(b),!h||(b.attributes._moz_dirty||b.attributes._moz_editor_bogus_node)&&e.is(b,"br")||"k-marker"==b.className)return;if(e.isInline(b)&&1==b.childNodes.length&&3==b.firstChild.nodeType&&!q(b.firstChild))return;if(i=f[h])return i.start(b),p(b),i.end(b),void 0;d.push("<"),d.push(h),o(b),e.empty[h]?d.push(" />"):(d.push(">"),p(b,c||e.is(b,"pre")),d.push("</"),d.push(h),d.push(">"))}else 3==g?(k=q(b),!c&&a.support.leadingWhitespace&&(j=b.parentNode,l=b.previousSibling,l||(l=(e.isInline(j)?j:b).previousSibling),(!l||""===l.innerHTML||e.isBlock(l))&&(k=k.replace(/^[\r\n\v\f\t ]+/,"")),k=k.replace(/ +/," ")),d.push(e.encode(k))):4==g?(d.push("<![CDATA["),d.push(b.data),d.push("]]>")):8==g&&(b.data.indexOf("[CDATA[")<0?(d.push("<!--"),d.push(b.data),d.push("-->")):(d.push("<!"),d.push(b.data),d.push(">")))}var d=[],f={"telerik:script":{start:function(a){d.push("<script"),o(a),d.push(">")},end:function(){d.push("</script>")}},b:{start:function(){d.push("<strong>")},end:function(){d.push("</strong>")}},i:{start:function(){d.push("<em>")},end:function(){d.push("</em>")}},u:{start:function(){d.push('<span style="text-decoration:underline;">')},end:function(){d.push("</span>")}},iframe:{start:function(a){d.push("<iframe"),o(a),d.push(">")},end:function(){d.push("</iframe>")}},font:{start:function(a){d.push('<span style="');var b=a.getAttribute("color"),c=g[a.getAttribute("size")],f=a.getAttribute("face");b&&(d.push("color:"),d.push(e.toHex(b)),d.push(";")),f&&(d.push("font-face:"),d.push(f),d.push(";")),c&&(d.push("font-size:"),d.push(c),d.push(";")),d.push('">')},end:function(){d.push("</span>")}}};return 1==c.childNodes.length&&3==c.firstChild.nodeType?e.encode(q(c.firstChild).replace(/[\r\n\v\f\t ]+/," ")):(p(c),d=d.join(""),""===d.replace(i,"").replace(k,"")?"":d)}};f(d,{Serializer:n})}(window.kendo.jQuery),function(a){function o(a,b,c,d){if(a==b)return d-c;for(var e=b;e&&e.parentNode!=a;)e=e.parentNode;if(e)return h(e)-c;for(e=a;e&&e.parentNode!=b;)e=e.parentNode;if(e)return d-h(e)-1;for(var f=g.commonAncestor(a,b),i=a;i&&i.parentNode!=f;)i=i.parentNode;i||(i=f);for(var j=b;j&&j.parentNode!=f;)j=j.parentNode;return j||(j=f),i==j?0:h(j)-h(i)}function p(a,b){function c(a){try{return o(a.startContainer,a.endContainer,a.startOffset,a.endOffset)<0}catch(b){return!0}}c(a)&&(b?(a.commonAncestorContainer=a.endContainer=a.startContainer,a.endOffset=a.startOffset):(a.commonAncestorContainer=a.startContainer=a.endContainer,a.startOffset=a.endOffset),a.collapsed=!0)}function q(a){a.collapsed=a.startContainer==a.endContainer&&a.startOffset==a.endOffset;for(var b=a.startContainer;b&&b!=a.endContainer&&!g.isAncestorOf(b,a.endContainer);)b=b.parentNode;a.commonAncestorContainer=b}function t(a){var b=a.duplicate(),c=a.duplicate();return b.collapse(!0),c.collapse(!1),g.commonAncestor(a.parentElement(),b.parentElement(),c.parentElement())}function u(a,b,c){var n,d=b[c?"startContainer":"endContainer"],e=b[c?"startOffset":"endOffset"],f=0,h=i(d),j=h?d:d.childNodes[e]||null,k=h?d.parentNode:d,l=b.ownerDocument,m=l.body.createTextRange();(3==d.nodeType||4==d.nodeType)&&(f=e),k||(k=l.body),"img"==k.nodeName.toLowerCase()?(m.moveToElementText(k),m.collapse(!1),a.setEndPoint(c?"StartToStart":"EndToStart",m)):(n=k.insertBefore(g.create(l,"a"),j),m.moveToElementText(n),g.remove(n),m[c?"moveStart":"moveEnd"]("character",f),m.collapse(!1),a.setEndPoint(c?"StartToStart":"EndToStart",m))}function v(a,b,c,d){var k,l,m,n,o,p,q,e=g.create(b.ownerDocument,"a"),f=a.duplicate(),j=d?"StartToStart":"StartToEnd";e.innerHTML="\ufeff",f.collapse(d),l=f.parentElement(),g.isAncestorOrSelf(c,l)||(l=c);do l.insertBefore(e,e.previousSibling),f.moveToElementText(e);while((k=f.compareEndPoints(j,a))>0&&e.previousSibling);m=e.nextSibling,-1==k&&i(m)?(f.setEndPoint(d?"EndToStart":"EndToEnd",a),g.remove(e),p=[m,f.text.length]):(n=!d&&e.previousSibling,o=d&&e.nextSibling,i(o)?p=[o,0]:i(n)?p=[n,n.length]:(q=h(e),p=l.nextSibling&&q==l.childNodes.length-1?[l.nextSibling,0]:[l,q]),g.remove(e)),b[d?"setStart":"setEnd"].apply(b,p)}var b=window.kendo,c=b.Class,d=a.extend,e=b.ui.editor,f=b.support.browser,g=e.Dom,h=g.findNodeIndex,i=g.isDataNode,j=g.findClosestAncestor,k=g.getNodeLength,l=g.normalize,m={selectionFromWindow:function(a){return"getSelection"in a?a.getSelection():new s(a.document)},selectionFromRange:function(a){var b=A.documentFromRange(a);return m.selectionFromDocument(b)},selectionFromDocument:function(a){return m.selectionFromWindow(g.windowFromDocument(a))}},n=c.extend({init:function(b){a.extend(this,{ownerDocument:b,startContainer:b,endContainer:b,commonAncestorContainer:b,startOffset:0,endOffset:0,collapsed:!0})},setStart:function(a,b){this.startContainer=a,this.startOffset=b,q(this),p(this,!0)},setEnd:function(a,b){this.endContainer=a,this.endOffset=b,q(this),p(this,!1)},setStartBefore:function(a){this.setStart(a.parentNode,h(a))},setStartAfter:function(a){this.setStart(a.parentNode,h(a)+1)},setEndBefore:function(a){this.setEnd(a.parentNode,h(a))},setEndAfter:function(a){this.setEnd(a.parentNode,h(a)+1)},selectNode:function(a){this.setStartBefore(a),this.setEndAfter(a)},selectNodeContents:function(a){this.setStart(a,0),this.setEnd(a,a[1===a.nodeType?"childNodes":"nodeValue"].length)},collapse:function(a){var b=this;a?b.setEnd(b.startContainer,b.startOffset):b.setStart(b.endContainer,b.endOffset)},deleteContents:function(){var a=this,b=a.cloneRange();a.startContainer!=a.commonAncestorContainer&&a.setStartAfter(j(a.commonAncestorContainer,a.startContainer)),a.collapse(!0),function c(a){for(;a.next();)a.hasPartialSubtree()?c(a.getSubtreeIterator()):a.remove()}(new r(b))},cloneContents:function(){var a=A.documentFromRange(this);return function b(c){for(var d,e=a.createDocumentFragment();d=c.next();)d=d.cloneNode(!c.hasPartialSubtree()),c.hasPartialSubtree()&&d.appendChild(b(c.getSubtreeIterator())),e.appendChild(d);return e}(new r(this))},extractContents:function(){var a=this,b=a.cloneRange();a.startContainer!=a.commonAncestorContainer&&a.setStartAfter(j(a.commonAncestorContainer,a.startContainer)),a.collapse(!0);var c=A.documentFromRange(a);return function d(b){for(var e,f=c.createDocumentFragment();e=b.next();)b.hasPartialSubtree()?(e=e.cloneNode(!1),e.appendChild(d(b.getSubtreeIterator()))):b.remove(a.originalRange),f.appendChild(e);return f}(new r(b))},insertNode:function(a){var b=this;i(b.startContainer)?(b.startOffset!=b.startContainer.nodeValue.length&&g.splitDataNode(b.startContainer,b.startOffset),g.insertAfter(a,b.startContainer)):g.insertAt(b.startContainer,a,b.startOffset),b.setStart(b.startContainer,b.startOffset)},cloneRange:function(){return a.extend(new n(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var a=this.startContainer.nodeName,b=this.endContainer.nodeName;return["#text"==a?this.startContainer.nodeValue:a,"(",this.startOffset,") : ","#text"==b?this.endContainer.nodeValue:b,"(",this.endOffset,")"].join("")}}),r=c.extend({init:function(b){if(a.extend(this,{range:b,_current:null,_next:null,_end:null}),!b.collapsed){var c=b.commonAncestorContainer;this._next=b.startContainer!=c||i(b.startContainer)?j(c,b.startContainer):b.startContainer.childNodes[b.startOffset],this._end=b.endContainer!=c||i(b.endContainer)?j(c,b.endContainer).nextSibling:b.endContainer.childNodes[b.endOffset]}},hasNext:function(){return!!this._next},next:function(){var a=this,b=a._current=a._next;return a._next=a._current&&a._current.nextSibling!=a._end?a._current.nextSibling:null,i(a._current)&&(a.range.endContainer==a._current&&(b=b.cloneNode(!0),b.deleteData(a.range.endOffset,b.length-a.range.endOffset)),a.range.startContainer==a._current&&(b=b.cloneNode(!0),b.deleteData(0,a.range.startOffset))),b},traverse:function(a){function d(){return b._current=b._next,b._next=b._current&&b._current.nextSibling!=b._end?b._current.nextSibling:null,b._current}for(var c,b=this;c=d();)b.hasPartialSubtree()?b.getSubtreeIterator().traverse(a):a(c);return c},remove:function(a){var e,f,j,b=this,c=b.range.startContainer==b._current,d=b.range.endContainer==b._current;if(i(b._current)&&(c||d))e=c?b.range.startOffset:0,f=d?b.range.endOffset:b._current.length,j=f-e,a&&(c||d)&&(b._current==a.startContainer&&e<=a.startOffset&&(a.startOffset-=j),b._current==a.endContainer&&f<=a.endOffset&&(a.endOffset-=j)),b._current.deleteData(e,j);else{var k=b._current.parentNode;if(a&&(b.range.startContainer==k||b.range.endContainer==k)){var l=h(b._current);k==a.startContainer&&l<=a.startOffset&&(a.startOffset-=1),k==a.endContainer&&l<a.endOffset&&(a.endOffset-=1)}g.remove(b._current)}},hasPartialSubtree:function(){return!i(this._current)&&(g.isAncestorOrSelf(this._current,this.range.startContainer)||g.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){var a=this,b=a.range.cloneRange();return b.selectNodeContents(a._current),g.isAncestorOrSelf(a._current,a.range.startContainer)&&b.setStart(a.range.startContainer,a.range.startOffset),g.isAncestorOrSelf(a._current,a.range.endContainer)&&b.setEnd(a.range.endContainer,a.range.endOffset),new r(b)}}),s=c.extend({init:function(a){this.ownerDocument=a,this.rangeCount=1},addRange:function(a){var b=this.ownerDocument.body.createTextRange();u(b,a,!1),u(b,a,!0),b.select()},removeAllRanges:function(){this.ownerDocument.selection.empty()},getRangeAt:function(){var a,d,e,b=new n(this.ownerDocument),c=this.ownerDocument.selection;try{if(a=c.createRange(),d=a.item?a.item(0):a.parentElement(),d.ownerDocument!=this.ownerDocument)return b}catch(f){return b}if("Control"==c.type)b.selectNode(a.item(0));else{e=t(a),v(a,b,e,!0),v(a,b,e,!1),9==b.startContainer.nodeType&&b.setStart(b.endContainer,b.startOffset),9==b.endContainer.nodeType&&b.setEnd(b.startContainer,b.endOffset),0===a.compareEndPoints("StartToEnd",a)&&b.collapse(!1);var g=b.startContainer,j=b.endContainer,l=this.ownerDocument.body;if(!(b.collapsed||0!==b.startOffset||b.endOffset!=k(b.endContainer)||g==j&&i(g)&&g.parentNode==l)){for(var m=!1,o=!1;0===h(g)&&g==g.parentNode.firstChild&&g!=l;)g=g.parentNode,m=!0;for(;h(j)==k(j.parentNode)-1&&j==j.parentNode.lastChild&&j!=l;)j=j.parentNode,o=!0;g==l&&j==l&&m&&o&&(b.setStart(g,0),b.setEnd(j,k(l)))}}return b}}),w=c.extend({init:function(a){this.enumerate=function(){function c(a){if(g.is(a,"img")||3==a.nodeType&&(!g.isWhitespace(a)||"\ufeff"==a.nodeValue))b.push(a);else for(a=a.firstChild;a;)c(a),a=a.nextSibling}var b=[];return new r(a).traverse(c),b}}}),x=c.extend({init:function(a){var b=this;b.range=a,b.rootNode=A.documentFromRange(a),b.body=b.getEditable(a),"body"!=g.name(b.body)&&(b.rootNode=b.body),b.html=b.body.innerHTML,b.startContainer=b.nodeToPath(a.startContainer),b.endContainer=b.nodeToPath(a.endContainer),b.startOffset=b.offset(a.startContainer,a.startOffset),b.endOffset=b.offset(a.endContainer,a.endOffset)},index:function(a){for(var b=0,c=a.nodeType;a=a.previousSibling;){var d=a.nodeType;(3!=d||c!=d)&&b++,c=d}return b},getEditable:function(a){for(var b=a.commonAncestorContainer;b&&(3==b.nodeType||b.attributes&&!b.attributes.contentEditable);)b=b.parentNode;return b},restoreHtml:function(){this.body.innerHTML=this.html},offset:function(a,b){if(3==a.nodeType)for(;(a=a.previousSibling)&&3==a.nodeType;)b+=a.nodeValue.length;return b},nodeToPath:function(a){for(var b=[];a!=this.rootNode;)b.push(this.index(a)),a=a.parentNode;return b},toRangePoint:function(a,b,c,d){for(var e=this.rootNode,f=c.length,g=d;f--;)e=e.childNodes[c[f]];for(;3==e.nodeType&&e.nodeValue.length<g;)g-=e.nodeValue.length,e=e.nextSibling;a[b?"setStart":"setEnd"](e,g)},toRange:function(){var a=this,b=a.range.cloneRange();return a.toRangePoint(b,!0,a.startContainer,a.startOffset),a.toRangePoint(b,!1,a.endContainer,a.endOffset),b}}),y=c.extend({init:function(){this.caret=null},addCaret:function(a){var b=this;return b.caret=g.create(A.documentFromRange(a),"span",{className:"k-marker"}),a.insertNode(b.caret),a.selectNode(b.caret),b.caret},removeCaret:function(a){var b=this,c=b.caret.previousSibling,d=0;c&&(d=i(c)?c.nodeValue.length:h(c));var e=b.caret.parentNode,j=c?h(c):0;g.remove(b.caret),l(e);var k=e.childNodes[j];if(i(k))a.setStart(k,d);else if(k){var m=g.lastTextNode(k);m?a.setStart(m,m.nodeValue.length):a[c?"setStartAfter":"setStartBefore"](k)}else f.msie||e.innerHTML||(e.innerHTML='<br _moz_dirty="" />'),a.selectNodeContents(e);a.collapse(!0)},add:function(a,b){var c=this,d=a.collapsed&&!A.isExpandable(a),e=A.documentFromRange(a);b&&a.collapsed&&(c.addCaret(a),a=A.expand(a));var f=a.cloneRange();if(f.collapse(!1),c.end=g.create(e,"span",{className:"k-marker"}),f.insertNode(c.end),f=a.cloneRange(),f.collapse(!0),c.start=c.end.cloneNode(!0),f.insertNode(c.start),c._removeDeadMarkers(c.start,c.end),d){var h=e.createTextNode("\ufeff");g.insertAfter(h.cloneNode(),c.start),g.insertBefore(h,c.end)}return a.setStartBefore(c.start),a.setEndAfter(c.end),l(a.commonAncestorContainer),a},_removeDeadMarkers:function(a,b){a.previousSibling&&"\ufeff"==a.previousSibling.nodeValue&&g.remove(a.previousSibling),b.nextSibling&&"\ufeff"==b.nextSibling.nodeValue&&g.remove(b.nextSibling)},remove:function(a){var e,f,j,b=this,c=b.start,d=b.end;for(l(a.commonAncestorContainer);!c.nextSibling&&c.parentNode;)c=c.parentNode;for(;!d.previousSibling&&d.parentNode;)d=d.parentNode;e=c.previousSibling&&3==c.previousSibling.nodeType&&c.nextSibling&&3==c.nextSibling.nodeType,f=d.previousSibling&&3==d.previousSibling.nodeType&&d.nextSibling&&3==d.nextSibling.nodeType,j=e&&f,c=c.nextSibling,d=d.previousSibling;var k=!1,m=!1;if(c==b.end&&(m=!!b.start.previousSibling,c=d=b.start.previousSibling||b.end.nextSibling,k=!0),g.remove(b.start),g.remove(b.end),!c||!d)return a.selectNodeContents(a.commonAncestorContainer),a.collapse(!0),void 0;var n=k?i(c)?c.nodeValue.length:c.childNodes.length:0,o=i(d)?d.nodeValue.length:d.childNodes.length;if(3==c.nodeType)for(;c.previousSibling&&3==c.previousSibling.nodeType;)c=c.previousSibling,n+=c.nodeValue.length;if(3==d.nodeType)for(;d.previousSibling&&3==d.previousSibling.nodeType;)d=d.previousSibling,o+=d.nodeValue.length;for(var p=h(c),q=c.parentNode,r=h(d),s=d.parentNode,t=c;t.previousSibling;t=t.previousSibling)3==t.nodeType&&3==t.previousSibling.nodeType&&p--;for(var u=d;u.previousSibling;u=u.previousSibling)3==u.nodeType&&3==u.previousSibling.nodeType&&r--;l(q),3==c.nodeType&&(c=q.childNodes[p]),l(s),3==d.nodeType&&(d=s.childNodes[r]),k?(3==c.nodeType?a.setStart(c,n):a[m?"setStartAfter":"setStartBefore"](c),a.collapse(!0)):(3==c.nodeType?a.setStart(c,n):a.setStartBefore(c),3==d.nodeType?a.setEnd(d,o):a.setEndAfter(d)),b.caret&&b.removeCaret(a)}}),z=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,A={nodes:function(a){var b=A.textNodes(a);return b.length||(a.selectNodeContents(a.commonAncestorContainer),b=A.textNodes(a),b.length||(b=g.significantChildNodes(a.commonAncestorContainer))),b},textNodes:function(a){return new w(a).enumerate()},documentFromRange:function(a){var b=a.startContainer;return 9==b.nodeType?b:b.ownerDocument},createRange:function(a){return f.msie&&f.version<9?new n(a):a.createRange()},selectRange:function(a){var b=A.image(a);b&&(a.setStartAfter(b),a.setEndAfter(b));var c=m.selectionFromRange(a);c.removeAllRanges(),c.addRange(a)},stringify:function(a){return b.format("{0}:{1} - {2}:{3}",g.name(a.startContainer),a.startOffset,g.name(a.endContainer),a.endOffset)},split:function(a,b,c){function d(d){var e=a.cloneRange();e.collapse(d),e[d?"setStartBefore":"setEndAfter"](b);var f=e.extractContents();c&&(f=g.trim(f)),g[d?"insertBefore":"insertAfter"](f,b)}d(!0),d(!1)},getMarkers:function(a){var b=[];return new r(a).traverse(function(a){"k-marker"==a.className&&b.push(a)}),b},image:function(a){var b=[];return new r(a).traverse(function(a){g.is(a,"img")&&b.push(a)}),1==b.length?b[0]:void 0},expand:function(a){var b=a.cloneRange(),c=b.startContainer.childNodes[0===b.startOffset?0:b.startOffset-1],d=b.endContainer.childNodes[b.endOffset];if(!i(c)||!i(d))return b;var e=c.nodeValue,f=d.nodeValue;if(!e||!f)return b;var g=e.split("").reverse().join("").search(z),h=f.search(z);return g&&h?(h=-1==h?f.length:h,g=-1==g?0:e.length-g,b.setStart(c,g),b.setEnd(d,h),b):b},isExpandable:function(a){var b=a.startContainer,c=A.documentFromRange(a);if(b==c||b==c.body)return!1;var d=a.cloneRange(),e=b.nodeValue;if(!e)return!1;var f=e.substring(0,d.startOffset),g=e.substring(d.startOffset),h=0,i=0;return f&&(h=f.split("").reverse().join("").search(z)),g&&(i=g.search(z)),h&&i}};d(e,{SelectionUtils:m,W3CRange:n,RangeIterator:r,W3CSelection:s,RangeEnumerator:w,RestorePoint:x,Marker:y,RangeUtils:A})}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.Class,d=b.ui.editor,e=d.EditorUtils,f=e.registerTool,g=d.Dom,h=d.Tool,i=d.ToolTemplate,j=d.RestorePoint,k=d.Marker,l=a.extend,m=c.extend({init:function(a){this.options=a,this.restorePoint=new j(a.range),this.marker=new k,this.formatter=a.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(a){return this.marker.add(this.getRange(),a)},releaseRange:function(a){this.marker.remove(a),this.editor.selectRange(a)},undo:function(){var a=this.restorePoint;a.restoreHtml(),this.editor.selectRange(a.toRange())},redo:function(){this.exec()},createDialog:function(c,d){var e=this.editor;return a(c).appendTo(document.body).kendoWindow(l({},e.options.dialogOptions,d)).closest(".k-window").toggleClass("k-rtl",b.support.isRtl(e.wrapper)).end()},exec:function(){var a=this.lockRange(!0);this.formatter.editor=this.editor,this.formatter.toggle(a),this.releaseRange(a)}}),n=c.extend({init:function(a,b){this.body=a.body,this.startRestorePoint=a,this.endRestorePoint=b},redo:function(){this.body.innerHTML=this.endRestorePoint.html,this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){this.body.innerHTML=this.startRestorePoint.html,this.editor.selectRange(this.startRestorePoint.toRange())}}),o=m.extend({init:function(a){m.fn.init.call(this,a),this.managesUndoRedo=!0
},exec:function(){var a=this.editor,b=this.options,c=b.range,d=new j(c),e=b.html||b.value||"";a.selectRange(c),a.clipboard.paste(e,b);var f=new n(d,new j(a.getRange()));f.editor=a,a.undoRedoStack.push(f),a.focus()}}),p=h.extend({initialize:function(a,b){var c=b.editor,e=this.options,f=e.items?e.items:c.options.insertHtml;new d.SelectBox(a,{dataSource:f,dataTextField:"text",dataValueField:"value",change:function(){h.exec(c,"insertHtml",this.value())},title:c.options.messages.insertHtml,highlightFirst:!1})},command:function(a){return new o(a)},update:function(a){var b=a.data("kendoSelectBox")||a.find("select").data("kendoSelectBox");b.close(),b.value(b.options.title)}}),q=c.extend({init:function(){this.stack=[],this.currentCommandIndex=-1},push:function(a){this.stack=this.stack.slice(0,this.currentCommandIndex+1),this.currentCommandIndex=this.stack.push(a)-1},undo:function(){this.canUndo()&&this.stack[this.currentCommandIndex--].undo()},redo:function(){this.canRedo()&&this.stack[++this.currentCommandIndex].redo()},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}}),r=c.extend({init:function(a){this.editor=a},keydown:function(b){var c=this,d=c.editor,e=d.keyboard,f=e.isTypingKey(b),g=l(a.Event(),b);if(c.editor.trigger("keydown",g),g.isDefaultPrevented()&&b.preventDefault(),!g.isDefaultPrevented()&&f&&!e.isTypingInProgress()){var h=d.getRange();return c.startRestorePoint=new j(h),e.startTyping(function(){d.selectionRestorePoint=c.endRestorePoint=new j(d.getRange());var a=new n(c.startRestorePoint,c.endRestorePoint);a.editor=d,d.undoRedoStack.push(a)}),!0}return!1},keyup:function(a){var b=this.editor.keyboard;return this.editor.trigger("keyup",a),b.isTypingInProgress()?(b.endTyping(),!0):!1}}),s=c.extend({init:function(a){this.editor=a,this.systemCommandIsInProgress=!1},createUndoCommand:function(){var a=this;a.endRestorePoint=new j(a.editor.getRange());var b=new n(a.startRestorePoint,a.endRestorePoint);b.editor=a.editor,a.editor.undoRedoStack.push(b),a.startRestorePoint=a.endRestorePoint},changed:function(){return this.startRestorePoint?this.startRestorePoint.html!=this.editor.body.innerHTML:!1},keydown:function(a){var b=this,c=b.editor,d=c.keyboard;return d.isModifierKey(a)?(d.isTypingInProgress()&&d.endTyping(!0),b.startRestorePoint=new j(c.getRange()),!0):d.isSystem(a)?(b.systemCommandIsInProgress=!0,b.changed()&&(b.systemCommandIsInProgress=!1,b.createUndoCommand()),!0):!1},keyup:function(a){var b=this;return b.systemCommandIsInProgress&&b.changed()?(b.systemCommandIsInProgress=!1,b.createUndoCommand(a),!0):!1}}),t=c.extend({init:function(a){this.handlers=a,this.typingInProgress=!1},isCharacter:function(a){return a>=48&&90>=a||a>=96&&111>=a||a>=186&&192>=a||a>=219&&222>=a},toolFromShortcut:function(b,c){var e,f,d=String.fromCharCode(c.keyCode);for(e in b)if(f=a.extend({ctrl:!1,alt:!1,shift:!1},b[e].options),(f.key==d||f.key==c.keyCode)&&f.ctrl==c.ctrlKey&&f.alt==c.altKey&&f.shift==c.shiftKey)return e},isTypingKey:function(a){var b=a.keyCode;return this.isCharacter(b)&&!a.ctrlKey&&!a.altKey||32==b||13==b||8==b||46==b&&!a.shiftKey&&!a.ctrlKey&&!a.altKey},isModifierKey:function(a){var b=a.keyCode;return 17==b&&!a.shiftKey&&!a.altKey||16==b&&!a.ctrlKey&&!a.altKey||18==b&&!a.ctrlKey&&!a.shiftKey},isSystem:function(a){return 46==a.keyCode&&a.ctrlKey&&!a.altKey&&!a.shiftKey},startTyping:function(a){this.onEndTyping=a,this.typingInProgress=!0},stopTyping:function(){this.typingInProgress=!1,this.onEndTyping&&this.onEndTyping()},endTyping:function(b){var c=this;c.clearTimeout(),b?c.stopTyping():c.timeout=window.setTimeout(a.proxy(c.stopTyping,c),1e3)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(a,b){var c,d=this.handlers;for(c=0;c<d.length&&!d[c][b](a);c++);},keydown:function(a){this.notify(a,"keydown")},keyup:function(a){this.notify(a,"keyup")}}),u=c.extend({init:function(a){this.editor=a,this.cleaners=[new w,new x]},htmlToFragment:function(a){var b=this.editor,c=b.document,d=g.create(c,"div"),e=c.createDocumentFragment();for(d.innerHTML=a;d.firstChild;)e.appendChild(d.firstChild);return e},isBlock:function(a){return/<(div|p|ul|ol|table|h[1-6])/i.test(a)},_contentModification:function(a,b){var c=this,d=c.editor,e=d.getRange(),f=new j(e);g.persistScrollTop(d.document),a.call(c,d,e),setTimeout(function(){b.call(c,d,e);var a=new j(d.getRange()),g=new n(f,a);g.editor=d,d.undoRedoStack.push(g),d._selectionChange()})},_fixTagNesting:function(a){var b=/<(\/?)([a-z][a-z0-9]*)([^>]*)>/gi,c=[],e=d.Dom;for(a=a.replace(b,function(a,b,d){function h(){f="</"+c.pop()+">"+f}b=!!b,d=d.toLowerCase();var f="",g=e.inline[d];if(b){if(!c.length)return"";do{if(e.block[c[c.length-1]]&&g)return f;h()}while(c.length&&c[c.length-1]!=d)}else{if(!g)for(;e.inline[c[c.length-1]];)h();c.push(d),f+=a}return f});c.length;)a+="</"+c.pop()+">";return a},oncut:function(){this._contentModification(a.noop,a.noop)},onpaste:function(b){this._contentModification(function(c,d){var e=g.create(c.document,"div",{className:"k-paste-container",innerHTML:"\ufeff"});if(c.body.appendChild(e),c.body.createTextRange){b.preventDefault();var f=c.createRange();f.selectNodeContents(e),c.selectRange(f);var h=c.body.createTextRange();h.moveToElementText(e),a(c.body).unbind("paste"),h.execCommand("Paste"),a(c.body).bind("paste",a.proxy(this.onpaste,this))}else{var i=c.createRange();i.selectNodeContents(e),c.selectRange(i)}d.deleteContents()},function(b,c){var f,d="",e={html:""};b.selectRange(c),f=a(b.body).children(".k-paste-container"),f.each(function(){var a=this.lastChild;a&&g.is(a,"br")&&g.remove(a),d+=this.innerHTML}),f.remove(),d=this._fixTagNesting(d.replace(/\ufeff/g,"")),e.html=d,b.trigger("paste",e),b.clipboard.paste(e.html,{clean:!0})})},splittableParent:function(a,b){var c,d;if(a)return g.parentOfType(b,["p","ul","ol"])||b.parentNode;if(c=b.parentNode,d=b.ownerDocument.body,g.isInline(c))for(;c.parentNode!=d&&!g.isBlock(c.parentNode);)c=c.parentNode;return c},paste:function(b,c){var f,h,e=this.editor;for(c=l({clean:!1,split:!0},c),f=0,h=this.cleaners.length;h>f;f++)this.cleaners[f].applicable(b)&&(b=this.cleaners[f].clean(b));c.clean&&(b=b.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi,"$3"),b=b.replace(/<(a|span)[^>]*><\/\1>/gi,"")),b=b.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>");var i=this.isBlock(b);e.focus();var j=e.getRange();j.deleteContents(),j.startContainer==e.document&&j.selectNodeContents(e.body);var m=new k,n=m.addCaret(j),o=this.splittableParent(i,n),p=!1,q=o!=e.body&&!g.is(o,"td");c.split&&q&&(i||g.isInline(o))&&(j.selectNode(n),d.RangeUtils.split(j,o,!0),p=!0);var r=this.htmlToFragment(b);if(r.firstChild&&"k-paste-container"===r.firstChild.className){var s=[];for(f=0,h=r.childNodes.length;h>f;f++)s.push(r.childNodes[f].innerHTML);r=this.htmlToFragment(s.join("<br />"))}if(a(r.childNodes).filter("table").addClass("k-table").end().find("table").addClass("k-table"),j.insertNode(r),o=this.splittableParent(i,n),p){for(;n.parentNode!=o;)g.unwrap(n.parentNode);g.unwrap(n.parentNode)}g.normalize(j.commonAncestorContainer),n.style.display="inline",g.restoreScrollTop(e.document),g.scrollTo(n),m.removeCaret(j),e.selectRange(j)}}),v=c.extend({clean:function(a){var d,e,b=this,c=b.replacements;for(d=0,e=c.length;e>d;d+=2)a=a.replace(c[d],c[d+1]);return a}}),w=v.extend({init:function(){this.replacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/gi,"",/<(\/?)b(\s[^>]*)?>/gi,"<$1strong$2>",/<(\/?)i(\s[^>]*)?>/gi,"<$1em$2>",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi,"",/style=(["|'])\s*\1/g,""]},applicable:function(a){return/class="?Mso|style="[^"]*mso-/i.test(a)},stripEmptyAnchors:function(a){return a.replace(/<a([^>]*)>\s*<\/a>/gi,function(a,b){return!b||b.indexOf("href")<0?"":a})},listType:function(a){var b;return/^(<span [^>]*texhtml[^>]*>)?<span [^>]*(Symbol|Wingdings)[^>]*>/i.test(a)&&(b=!0),a=a.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,"\xa0"),!b&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(a)||b&&/^.\u00a0+/.test(a)?"ul":/^\s*\w+[\.\)]\u00a0{2,}/.test(a)?"ol":void 0},lists:function(b){var e,i,j,k,l,m,n,o,c=a(g.blockElements.join(","),b),d=-1,f={ul:{},ol:{}},h=b;for(i=0;i<c.length;i++)if(j=c[i],k=this.listType(j.innerHTML),k&&"p"==g.name(j)){if(l=parseFloat(j.style.marginLeft||0),m=f[k][l],(l>d||!m)&&(m=g.create(document,k),h==b?g.insertBefore(m,j):h.appendChild(m),f[k][l]=m),e!=k)for(n in f)for(o in f[n])a.contains(m,f[n][o])&&delete f[n][o];g.remove(j.firstChild),h=g.create(document,"li",{innerHTML:j.innerHTML}),m.appendChild(h),g.remove(j),d=l,e=k}else j.innerHTML?(f={ul:{},ol:{}},h=b,d=-1):g.remove(j)},removeAttributes:function(a){for(var b=a.attributes,c=b.length;c--;)a.removeAttributeNode(b[c])},createColGroup:function(c){var e,d=c.cells;d.length<2||(e=a(a.map(d,function(a){var c=a.width;return c&&0!==parseInt(c,10)?b.format('<col style="width:{0}px;"/>',c):"<col />"}).join("")),e.is("colgroup")||(e=a("<colgroup/>").append(e)),e.prependTo(a(c).closest("table")))},convertHeaders:function(b){var c=b.cells,d=a.map(c,function(b){var c=a(b).children("p").children("strong")[0];return c&&"strong"==g.name(c)?c:void 0});if(d.length==c.length){for(var e=0;e<d.length;e++)g.unwrap(d[e]);a(b).closest("table").find("colgroup").after("<thead><tr>"+a.map(c,function(b){return"<th>"+a(b).html()+"</th>"}).join("")+"</tr></thead>").end().end().remove()}},removeParagraphs:function(b){var c,d,e,f,h;for(c=0;c<b.length;c++)for(this.removeAttributes(b[c]),f=a(b[c]),h=f.children("p"),d=0,e=h.length;e>d;d++)e-1>d&&g.insertAfter(g.create(document,"br"),h[d]),g.unwrap(h[d])},removeDefaultColors:function(a){for(var b=0;b<a.length;b++)/^\s*color:\s*[^;]*;?$/i.test(a[b].style.cssText)&&g.unwrap(a[b])},tables:function(b){var e,f,c=a(b).find("table"),d=this;for(f=0;f<c.length;f++)e=c[f].rows[0],d.createColGroup(e),d.convertHeaders(e),d.removeAttributes(c[f]),d.removeParagraphs(c.eq(f).find("td,th")),d.removeDefaultColors(c.eq(f).find("span"))},clean:function(a){var c,b=this;return a=v.fn.clean.call(b,a),a=b.stripEmptyAnchors(a),c=g.create(document,"div",{innerHTML:a}),b.lists(c),b.tables(c),a=c.innerHTML.replace(/\s+class="?[^"\s>]*"?/gi,"")}}),x=v.extend({init:function(){this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(a){return/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(a)}});l(d,{Command:m,GenericCommand:n,InsertHtmlCommand:o,InsertHtmlTool:p,UndoRedoStack:q,TypingHandler:r,SystemHandler:s,Keyboard:t,Clipboard:u,Cleaner:v,MSWordFormatCleaner:w,WebkitFormatCleaner:x}),f("insertHtml",new p({template:new i({template:e.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}))}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.Class,d=b.ui.editor,e=b.ui.Editor.fn.options.formats,f=d.EditorUtils,g=d.Tool,h=d.ToolTemplate,i=d.FormatTool,j=d.Dom,k=d.RangeUtils,l=a.extend,m=d.EditorUtils.registerTool,n=d.EditorUtils.registerFormat,o="k-marker",p=c.extend({init:function(a){this.format=a},numberOfSiblings:function(a){var f,b=0,c=0,d=0,e=a.parentNode;for(f=e.firstChild;f;f=f.nextSibling)f!=a&&(f.className==o?d++:3==f.nodeType?b++:c++);return d>1&&e.firstChild.className==o&&e.lastChild.className==o?0:c+b},findSuitable:function(a,b){return!b&&this.numberOfSiblings(a)>0?null:j.parentOfType(a,this.format[0].tags)},findFormat:function(a){var d,e,f,g,h,b=this.format,c=j.attrEquals;for(d=0,e=b.length;e>d;d++){if(f=a,g=b[d].tags,h=b[d].attr,f&&j.ofType(f,g)&&c(f,h))return f;for(;f;)if(f=j.parentOfType(f,g),f&&c(f,h))return f}return null},isFormatted:function(a){var b,c;for(b=0,c=a.length;c>b;b++)if(this.findFormat(a[b]))return!0;return!1}}),q=c.extend({init:function(a,b){var c=this;c.finder=new p(a),c.attributes=l({},a[0].attr,b),c.tag=a[0].tags[0]},wrap:function(a){return j.wrap(a,j.create(a.ownerDocument,this.tag,this.attributes))},activate:function(a,b){var c=this;c.finder.isFormatted(b)?(c.split(a),c.remove(b)):c.apply(b)},toggle:function(a){var b=k.textNodes(a);b.length>0&&this.activate(a,b)},apply:function(a){var d,e,f,g,b=this,c=[];for(d=0,e=a.length;e>d;d++)f=a[d],g=b.finder.findSuitable(f),g?j.attr(g,b.attributes):g=b.wrap(f),c.push(g);b.consolidate(c)},remove:function(a){var c,d,e,b=this;for(c=0,d=a.length;d>c;c++)e=b.finder.findFormat(a[c]),e&&(b.attributes&&b.attributes.style?(j.unstyle(e,b.attributes.style),e.style.cssText||e.attributes["class"]||j.unwrap(e)):j.unwrap(e))},split:function(a){var d,e,b=k.textNodes(a),c=b.length;if(c>0)for(d=0;c>d;d++)e=this.finder.findFormat(b[d]),e&&k.split(a,e,!0)},consolidate:function(a){for(var b,c;a.length>1;)if(b=a.pop(),c=a[a.length-1],b.previousSibling&&b.previousSibling.className==o&&c.appendChild(b.previousSibling),b.tagName==c.tagName&&b.previousSibling==c&&b.style.cssText==c.style.cssText){for(;b.firstChild;)c.appendChild(b.firstChild);j.remove(b)}}}),r=p.extend({init:function(a,b){var c=this;c.format=a,c.greedyProperty=b,p.fn.init.call(c,a)},getInlineCssValue:function(b){var e,f,g,h,i,k,l,m,n,o,p,q,c=b.attributes,d=a.trim;if(c)for(e=0,f=c.length;f>e;e++)if(g=c[e],h=g.nodeName,i=g.nodeValue,g.specified&&"style"==h)for(k=d(i||b.style.cssText).split(";"),m=0,n=k.length;n>m;m++)if(l=k[m],l.length){if(o=l.split(":"),p=d(o[0].toLowerCase()),q=d(o[1]),p!=this.greedyProperty)continue;return p.indexOf("color")>=0?j.toHex(q):q}},getFormatInner:function(b){var e,f,g,c=a(j.isDataNode(b)?b.parentNode:b),d=c.parentsUntil("[contentEditable]").addBack();for(e=0,f=d.length;f>e;e++)if(g="className"==this.greedyProperty?d[e].className:this.getInlineCssValue(d[e]))return g;return"inherit"},getFormat:function(a){var c,d,b=this.getFormatInner(a[0]);for(c=1,d=a.length;d>c;c++)if(b!=this.getFormatInner(a[c]))return"";return b},isFormatted:function(a){return""!==this.getFormat(a)}}),s=q.extend({init:function(a,b,c){var d=this;q.fn.init.call(d,a,b),d.greedyProperty=c,d.values=b,d.finder=new r(a,c)},activate:function(a,b){var d,c=this,e=c.greedyProperty,f="apply";c.split(a),e&&(d=e.replace(/-([a-z])/,function(a,b){return b.toUpperCase()}),"inherit"==c.values.style[d]&&(f="remove")),c[f](b)}}),t=i.extend({init:function(a){i.fn.init.call(this,l(a,{finder:new p(a.format),formatter:function(){return new q(a.format)}}))}}),u=g.extend({update:function(a,b){var c=a.data(this.type);c.close(),c.value(this.finder.getFormat(b))}}),v=u.extend({init:function(a){var c=this;g.fn.init.call(c,a),c.type=b.support.browser.msie||b.support.touch?"kendoDropDownList":"kendoComboBox",c.format=[{tags:["span"]}],c.finder=new r(c.format,a.cssAttr)},command:function(a){var b=this.options,c=this.format,e={};return new d.FormatCommand(l(a,{formatter:function(){return e[b.domAttr]=a.value,new s(c,{style:e},b.cssAttr)}}))},initialize:function(a,b){var f,c=b.editor,d=this.options,e=d.name,h=[];d.defaultValue&&(h=[{text:c.options.messages[d.defaultValue[0].text],value:d.defaultValue[0].value}]),f=h.concat(d.items?d.items:c.options[e]),a[this.type]({dataTextField:"text",dataValueField:"value",dataSource:f,change:function(){g.exec(c,e,this.value())},highlightFirst:!1}),a.closest(".k-widget").removeClass("k-"+e).find("*").addBack().attr("unselectable","on"),a.data(this.type).value("inherit")}}),w=g.extend({init:function(a){g.fn.init.call(this,a),this.format=[{tags:["span"]}],this.finder=new r(this.format,a.cssAttr)},options:{palette:"websafe"},update:function(){this._widget.close()},command:function(a){var b=this.options,c=this.format,e={};return new d.FormatCommand(l(a,{formatter:function(){return e[b.domAttr]=a.value,new s(c,{style:e},b.cssAttr)}}))},initialize:function(c,d){var e=d.editor,f=this.name,h=l({},w.fn.options,this.options),i=h.palette;c=this._widget=new b.ui.ColorPicker(c,{value:a.isArray(i)?i[0]:"#000",toolIcon:"k-"+h.name,palette:i,change:function(){var a=c.value();a&&g.exec(e,f,a),e.focus()},activate:function(a){a.preventDefault(),c.trigger("change")}}),c.wrapper.attr({title:d.title,unselectable:"on"}).find("*").attr("unselectable","on")}});l(d,{InlineFormatFinder:p,InlineFormatter:q,DelayedExecutionTool:u,GreedyInlineFormatFinder:r,GreedyInlineFormatter:s,InlineFormatTool:t,FontTool:v,ColorTool:w}),n("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]),m("bold",new t({key:"B",ctrl:!0,format:e.bold,template:new h({template:f.buttonTemplate,title:"Bold"})})),n("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]),m("italic",new t({key:"I",ctrl:!0,format:e.italic,template:new h({template:f.buttonTemplate,title:"Italic"})})),n("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]),m("underline",new t({key:"U",ctrl:!0,format:e.underline,template:new h({template:f.buttonTemplate,title:"Underline"})})),n("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]),m("strikethrough",new t({format:e.strikethrough,template:new h({template:f.buttonTemplate,title:"Strikethrough"})})),n("superscript",[{tags:["sup"]}]),m("superscript",new t({format:e.superscript,template:new h({template:f.buttonTemplate,title:"Superscript"})})),n("subscript",[{tags:["sub"]}]),m("subscript",new t({format:e.subscript,template:new h({template:f.buttonTemplate,title:"Subscript"})})),m("foreColor",new w({cssAttr:"color",domAttr:"color",name:"foreColor",template:new h({template:f.colorPickerTemplate,title:"Color"})})),m("backColor",new w({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new h({template:f.colorPickerTemplate,title:"Background Color"})})),m("fontName",new v({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new h({template:f.comboBoxTemplate,title:"Font Name"})})),m("fontSize",new v({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new h({template:f.comboBoxTemplate,title:"Font Size"})}))}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.Class,d=a.extend,e=b.ui.editor,f=b.ui.Editor.fn.options.formats,g=e.Dom,h=e.Command,i=e.ToolTemplate,j=e.FormatTool,k=e.EditorUtils,l=k.registerTool,m=k.registerFormat,n=e.RangeUtils,o=c.extend({init:function(a){this.format=a},contains:function(a,b){var c,d,e;for(c=0,d=b.length;d>c;c++)if(e=b[c],!e||!g.isAncestorOrSelf(a,e))return!1;return!0},findSuitable:function(b){var e,f,h,c=this.format,d=[];for(e=0,f=b.length;f>e;e++){if(h=g.ofType(b[e],c[0].tags)?b[e]:g.parentOfType(b[e],c[0].tags),!h||"true"===h.contentEditable)return[];a.inArray(h,d)<0&&d.push(h)}for(e=0,f=d.length;f>e;e++)if(this.contains(d[e],d))return[d[e]];return d},findFormat:function(a){var c,d,e,f,h,b=this.format;for(c=0,d=b.length;d>c;c++)for(e=a,f=b[c].tags,h=b[c].attr;e;){if(g.ofType(e,f)&&g.attrEquals(e,h))return e;e=e.parentNode}return null},getFormat:function(a){var e,f,b=this,c=function(a){return b.findFormat(g.isDataNode(a)?a.parentNode:a)},d=c(a[0]);if(!d)return"";for(e=1,f=a.length;f>e;e++)if(d!=c(a[e]))return"";return d.nodeName.toLowerCase()},isFormatted:function(a){for(var b=0,c=a.length;c>b;b++)if(!this.findFormat(a[b]))return!1;return!0}}),p=c.extend({init:function(a,b){this.format=a,this.values=b,this.finder=new o(a)},wrap:function(a,b,c){var d=1==c.length?g.blockParentOrBody(c[0]):g.commonAncestor.apply(null,c);g.isInline(d)&&(d=g.blockParentOrBody(d));var i,j,e=g.significantChildNodes(d),f=g.findNodeIndex(e[0]),h=g.create(d.ownerDocument,a,b);for(i=0;i<e.length;i++)j=e[i],g.isBlock(j)?(g.attr(j,b),h.childNodes.length&&(g.insertBefore(h,j),h=h.cloneNode(!1)),f=g.findNodeIndex(j)+1):h.appendChild(j);h.firstChild&&g.insertAt(d,h,f)},apply:function(b){function f(a){return d({},a&&a.attr,e)}var c,e=this.values,h=a.filter("img",b),i=k.formatByName("img",this.format),j=f(i);if(a.each(h,function(){g.attr(this,j)}),h.length!=b.length){var l=a.filter("img",b,!0),m=this.finder.findSuitable(l);if(m.length)for(var n=0,o=m.length;o>n;n++)c=k.formatByName(g.name(m[n]),this.format),g.attr(m[n],f(c));else c=this.format[0],this.wrap(c.tags[0],f(c),l)}},remove:function(a){var b,c,d,e,f;for(b=0,c=a.length;c>b;b++)d=this.finder.findFormat(a[b]),d&&(f=g.name(d),"div"!=f||d.getAttribute("class")?(e=k.formatByName(f,this.format),e.attr.style&&g.unstyle(d,e.attr.style),e.attr.className&&g.removeClass(d,e.attr.className)):g.unwrap(d))},toggle:function(a){var b=this,c=n.nodes(a);b.finder.isFormatted(c)?b.remove(c):b.apply(c)}}),q=c.extend({init:function(a,b){var c=this;c.format=a,c.values=b,c.finder=new o(a)},apply:function(a){var f,h,i,j,k,l,b=this.format,c=g.blockParents(a),d=b[0].tags[0];if(c.length&&c[0].attributes.contentEditable&&(c=[]),c.length)for(f=0,h=c.length;h>f;f++)g.is(c[f],"li")?(i=c[f].parentNode,j=new e.ListFormatter(i.nodeName.toLowerCase(),d),k=this.editor.createRange(),k.selectNode(c[f]),j.toggle(k)):(l=g.changeTag(c[f],d),g.attr(l,b[0].attr));else new p(b,this.values).apply(a)},toggle:function(a){var b=n.textNodes(a);b.length||(a.selectNodeContents(a.commonAncestorContainer),b=n.textNodes(a),b.length||(b=g.significantChildNodes(a.commonAncestorContainer))),this.apply(b)}}),r=h.extend({init:function(a){a.formatter=a.formatter(),h.fn.init.call(this,a)}}),s=j.extend({init:function(a){j.fn.init.call(this,d(a,{finder:new o(a.format),formatter:function(){return new p(a.format)}}))}});d(e,{BlockFormatFinder:o,BlockFormatter:p,GreedyBlockFormatter:q,FormatCommand:r,BlockFormatTool:s}),m("justifyLeft",[{tags:g.blockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{"float":"left"}}}]),l("justifyLeft",new s({format:f.justifyLeft,template:new i({template:k.buttonTemplate,title:"Justify Left"})})),m("justifyCenter",[{tags:g.blockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto"}}}]),l("justifyCenter",new s({format:f.justifyCenter,template:new i({template:k.buttonTemplate,title:"Justify Center"})})),m("justifyRight",[{tags:g.blockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{"float":"right"}}}]),l("justifyRight",new s({format:f.justifyRight,template:new i({template:k.buttonTemplate,title:"Justify Right"})})),m("justifyFull",[{tags:g.blockElements,attr:{style:{textAlign:"justify"}}}]),l("justifyFull",new s({format:f.justifyFull,template:new i({template:k.buttonTemplate,title:"Justify Full"})}))}(window.kendo.jQuery),function(a){var b=window.kendo,c=a.extend,d=b.ui.editor,e=d.Dom,f=d.Command,g=d.Tool,h=d.BlockFormatter,i=e.normalize,j=d.RangeUtils,k=d.EditorUtils.registerTool,l=f.extend({init:function(a){this.options=a,f.fn.init.call(this,a)},_insertMarker:function(a,b){var d,c=e.create(a,"a");return b.insertNode(c),c.parentNode||(d=b.commonAncestorContainer,d.innerHTML="",d.appendChild(c)),i(c.parentNode),c},_moveFocus:function(a,b){if(e.is(b,"img"))a.setStartBefore(b);else{a.selectNodeContents(b);var c=j.textNodes(a)[0];if(c)a.selectNodeContents(c);else{for(;b.childNodes.length&&!e.is(b.firstChild,"br");)b=b.firstChild;a.selectNodeContents(b)}}},shouldTrim:function(a){var b="p,h1,h2,h3,h4,h5,h6".split(","),c=e.parentOfType(a.startContainer,b),d=e.parentOfType(a.endContainer,b);return c&&!d||!c&&d},exec:function(){var c,f,g,l,m,n,o,p,a=this.getRange(),b=j.documentFromRange(a),k=d.emptyElementContent,q=this.shouldTrim(a);a.deleteContents(),m=this._insertMarker(b,a),n=e.closestEditableOfType(m,["li"]),o=e.closestEditableOfType(m,"h1,h2,h3,h4,h5,h6".split(",")),n?(p=a.cloneRange(),p.selectNode(n),j.textNodes(p).length||(l=e.create(b,"p"),n.nextSibling&&j.split(p,n.parentNode),e.insertAfter(l,n.parentNode),e.remove(1==n.parentNode.childNodes.length?n.parentNode:n),l.innerHTML=k,g=l)):o&&!m.nextSibling&&(l=e.create(b,"p"),e.insertAfter(l,o),l.innerHTML=k,e.remove(m),g=l),g||(n||o||new h([{tags:["p"]}]).apply([m]),a.selectNode(m),c=e.parentOfType(m,[n?"li":o?e.name(o):"p"]),j.split(a,c,q),f=c.previousSibling,e.is(f,"li")&&f.firstChild&&!e.is(f.firstChild,"br")&&(f=f.firstChild),g=c.nextSibling,e.is(g,"li")&&g.firstChild&&!e.is(g.firstChild,"br")&&(g=g.firstChild),e.remove(c),this.clean(f),this.clean(g),i(f)),i(g),this._moveFocus(a,g),a.collapse(!0),e.scrollTo(g),j.selectRange(a)},clean:function(a){if(a.firstChild&&e.is(a.firstChild,"br")&&e.remove(a.firstChild),e.isDataNode(a)&&!a.nodeValue&&(a=a.parentNode),a){for(;a.firstChild&&1==a.firstChild.nodeType;)a=a.firstChild;!e.isEmpty(a)&&/^\s*$/.test(a.innerHTML)&&(a.innerHTML=d.emptyElementContent)}}}),m=f.extend({init:function(a){this.options=a,f.fn.init.call(this,a)},exec:function(){var d,a=this.getRange(),c=e.create(j.documentFromRange(a),"br");a.deleteContents(),a.insertNode(c),i(c.parentNode),b.support.browser.msie||c.nextSibling&&!e.isWhitespace(c.nextSibling)||(d=c.cloneNode(!0),d.setAttribute("_moz_dirty",""),e.insertAfter(d,c)),a.setStartAfter(c),a.collapse(!0),e.scrollTo(c.nextSibling||c),j.selectRange(a)}});c(d,{ParagraphCommand:l,NewLineCommand:m}),k("insertLineBreak",new g({key:13,shift:!0,command:m})),k("insertParagraph",new g({key:13,command:l}))}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.Class,d=a.extend,e=b.ui.editor,f=e.Dom,g=e.RangeUtils,h=e.EditorUtils,i=e.Command,j=e.ToolTemplate,k=e.FormatTool,l=e.BlockFormatFinder,m=g.textNodes,n=e.EditorUtils.registerTool,o=l.extend({init:function(a){this.tag=a;var b=this.tags=["ul"==a?"ol":"ul",a];l.fn.init.call(this,[{tags:b}])},isFormatted:function(a){for(var c,b=[],d=0;d<a.length;d++)(c=this.findFormat(a[d]))&&f.name(c)==this.tag&&b.push(c);if(b.length<1)return!1;if(b.length!=a.length)return!1;for(d=0;d<b.length&&b[d].parentNode==c.parentNode;d++)if(b[d]!=c)return!1;return!0},findSuitable:function(a){var b=f.parentOfType(a[0],this.tags);return b&&f.name(b)==this.tag?b:null}}),p=c.extend({init:function(a,b){var c=this;c.finder=new o(a),c.tag=a,c.unwrapTag=b},isList:function(a){var b=f.name(a);return"ul"==b||"ol"==b||"dl"==b},wrap:function(a,b){var d,e,c=f.create(a.ownerDocument,"li");for(d=0;d<b.length;d++)if(e=b[d],f.is(e,"li"))a.appendChild(e);else if(this.isList(e))for(;e.firstChild;)a.appendChild(e.firstChild);else if(f.is(e,"td")){for(;e.firstChild;)c.appendChild(e.firstChild);a.appendChild(c),e.appendChild(a),a=a.cloneNode(!1),c=c.cloneNode(!1)}else c.appendChild(e),f.isBlock(e)&&(a.appendChild(c),f.unwrap(e),c=c.cloneNode(!1));c.firstChild&&a.appendChild(c)},containsAny:function(a,b){for(var c=0;c<b.length;c++)if(f.isAncestorOrSelf(a,b[c]))return!0;return!1},suitable:function(a,b){if("k-marker"==a.className){var c=a.nextSibling;if(c&&f.isBlock(c))return!1;if(c=a.previousSibling,c&&f.isBlock(c))return!1}return this.containsAny(a,b)||f.isInline(a)||3==a.nodeType},split:function(b){var d,e,c=m(b);if(c.length){d=f.parentOfType(c[0],["li"]),e=f.parentOfType(c[c.length-1],["li"]),b.setStartBefore(d),b.setEndAfter(e);for(var h=0,i=c.length;i>h;h++){var j=this.finder.findFormat(c[h]);if(j){var k=a(j).parents("ul,ol");k[0]?g.split(b,k.last()[0],!0):g.split(b,j,!0)}}}},merge:function(a,b){for(var d,c=b.previousSibling;c&&("k-marker"==c.className||3==c.nodeType&&f.isWhitespace(c));)c=c.previousSibling;if(c&&f.name(c)==a){for(;b.firstChild;)c.appendChild(b.firstChild);f.remove(b),b=c}for(d=b.nextSibling;d&&("k-marker"==d.className||3==d.nodeType&&f.isWhitespace(d));)d=d.nextSibling;if(d&&f.name(d)==a){for(;b.lastChild;)d.insertBefore(b.lastChild,d.firstChild);f.remove(b)}},breakable:function(a){return a!=a.ownerDocument.body&&!/table|tbody|tr|td/.test(f.name(a))&&!a.attributes.contentEditable},applyOnSection:function(b,c){function j(){g.push(this)}var d=this.tag,e=f.closestSplittableParent(c),g=[],h=this.finder.findSuitable(c);h||(h=new o("ul"==d?"ol":"ul").findSuitable(c));var i;/table|tbody/.test(f.name(e))?i=a.map(c,function(a){return f.parentOfType(a,["td"])}):(i=f.significantChildNodes(e),a.grep(i,f.isBlock).length&&(i=a.grep(i,a.proxy(function(a){return this.containsAny(a,c)},this))),i.length||(i=c));for(var k=0;k<i.length;k++){var l=i[k],m=(!h||!f.isAncestorOrSelf(h,l))&&this.suitable(l,c);m&&(h&&this.isList(l)?(a.each(l.childNodes,j),f.remove(l)):g.push(l))}g.length==i.length&&this.breakable(e)&&(g=[e]),h||(h=f.create(e.ownerDocument,d),f.insertBefore(h,g[0])),this.wrap(h,g),f.is(h,d)||f.changeTag(h,d),this.merge(d,h)},apply:function(a){var d,e,g,b=0,c=[];do g=f.closestEditable(a[b],["td","body"]),d&&g==d?e.push(a[b]):(d&&c.push({section:d,nodes:e}),e=[a[b]],d=g),b++;while(b<a.length);for(c.push({section:d,nodes:e}),b=0;b<c.length;b++)this.applyOnSection(c[b].section,c[b].nodes)},unwrap:function(b){var e,g,h,i,c=b.ownerDocument.createDocumentFragment(),d=this.unwrapTag;for(g=b.firstChild;g;g=g.nextSibling){for(h=f.create(b.ownerDocument,d||"p");g.firstChild;)i=g.firstChild,f.isBlock(i)?(h.firstChild&&(c.appendChild(h),h=f.create(b.ownerDocument,d||"p")),c.appendChild(i)):h.appendChild(i);h.firstChild&&c.appendChild(h)}e=a(b).parents("ul,ol"),e[0]?(f.insertAfter(c,e.last()[0]),e.last().remove()):f.insertAfter(c,b),f.remove(b)},remove:function(a){for(var b,c=0,d=a.length;d>c;c++)b=this.finder.findFormat(a[c]),b&&this.unwrap(b)},toggle:function(a){var b=this,c=m(a),d=a.commonAncestorContainer;if(!c.length&&(a.selectNodeContents(d),c=m(a),!c.length)){var e=d.ownerDocument.createTextNode("");a.startContainer.appendChild(e),c=[e],a.selectNode(e.parentNode)}b.finder.isFormatted(c)?(b.split(a),b.remove(c)):b.apply(c)}}),q=i.extend({init:function(a){a.formatter=new p(a.tag),i.fn.init.call(this,a)}}),r=k.extend({init:function(a){this.options=a,k.fn.init.call(this,d(a,{finder:new o(a.tag)}))},command:function(a){return new q(d(a,{tag:this.options.tag}))}});d(e,{ListFormatFinder:o,ListFormatter:p,ListCommand:q,ListTool:r}),n("insertUnorderedList",new r({tag:"ul",template:new j({template:h.buttonTemplate,title:"Remove Link"})})),n("insertOrderedList",new r({tag:"ol",template:new j({template:h.buttonTemplate,title:"Remove Link"})}))}(window.kendo.jQuery),function(a){var c=window.kendo,d=c.Class,e=a.extend,f=c.ui.editor,g=f.Dom,h=f.RangeUtils,i=f.EditorUtils,j=f.Command,k=f.Tool,l=f.ToolTemplate,m=f.InlineFormatter,n=f.InlineFormatFinder,o=h.textNodes,p=f.EditorUtils.registerTool,q=d.extend({findSuitable:function(a){return g.parentOfType(a,["a"])}}),r=d.extend({init:function(){this.finder=new q},apply:function(a,b){var d,e,f,i,c=o(a);b.innerHTML?(d=h.getMarkers(a),e=h.documentFromRange(a),a.deleteContents(),i=g.create(e,"a",b),a.insertNode(i),"a"==g.name(i.parentNode)&&g.insertAfter(i,i.parentNode),d.length>1&&(g.insertAfter(d[d.length-1],i),g.insertAfter(d[1],i),g[c.length>0?"insertBefore":"insertAfter"](d[0],i))):(f=new m([{tags:["a"]}],b),f.finder=this.finder,f.apply(c))}}),s=j.extend({init:function(a){a.formatter={toggle:function(a){new m([{tags:["a"]}]).remove(o(a))}},this.options=a,j.fn.init.call(this,a)}}),t=j.extend({init:function(a){var b=this;b.options=a,j.fn.init.call(b,a),b.formatter=new r,a.url?this.exec=function(){this.formatter.apply(a.range,{href:a.url,innerHTML:a.text||a.url,target:a.target})}:(b.attributes=null,b.async=!0)},_dialogTemplate:function(){return c.template("<div class=\"k-editor-dialog k-popup-edit-form k-edit-form-container\"><div class='k-edit-label'><label for='k-editor-link-url'>#: messages.linkWebAddress #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-url'></div><div class='k-edit-label'><label for='k-editor-link-text'>#: messages.linkText #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-text'></div><div class='k-edit-label'><label for='k-editor-link-title'>#: messages.linkToolTip #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-title'></div><div class='k-edit-label'></div><div class='k-edit-field'><input type='checkbox' class='k-checkbox' id='k-editor-link-target'><label for='k-editor-link-target'>#: messages.linkOpenInNewWindow #</label></div><div class='k-edit-buttons k-state-default'><button class=\"k-dialog-insert k-button\">#: messages.dialogInsert #</button><button class=\"k-dialog-close k-button k-secondary\">#: messages.dialogCancel #</button></div></div>")({messages:this.editor.options.messages})
},exec:function(){function k(c){var h,j,k,e=p.element,f=a("#k-editor-link-url",e).val();f&&"http://"!=f&&(f.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(f)&&(f="mailto:"+f),b.attributes={href:f},h=a("#k-editor-link-title",e).val(),h&&(b.attributes.title=h),j=a("#k-editor-link-text",e).val(),j||i?j&&j!==i&&(b.attributes.innerHTML=g.stripBom(j)):b.attributes.innerHTML=f,k=a("#k-editor-link-target",e).is(":checked"),b.attributes.target=k?"_blank":null,b.formatter.apply(d,b.attributes)),l(c),b.change&&b.change()}function l(a){a.preventDefault(),p.destroy(),g.windowFromDocument(h.documentFromRange(d)).focus(),b.releaseRange(d)}function m(a){var b="";return 1==a.length?b=a[0].nodeValue:a.length&&(b=a[0].nodeValue+a[1].nodeValue),g.stripBom(b)}var f,b=this,d=b.getRange(),e=d.collapsed,i="",j=b.editor.options.messages;d=b.lockRange(!0),f=o(d);var n=f.length?b.formatter.finder.findSuitable(f[0]):null,p=this.createDialog(b._dialogTemplate(),{title:j.createLink,close:l,visible:!1}).find(".k-dialog-insert").click(k).end().find(".k-dialog-close").click(l).end().find(".k-edit-field input").keydown(function(a){var b=c.keys;a.keyCode==b.ENTER?k(a):a.keyCode==b.ESC&&l(a)}).end().find("#k-editor-link-url").val(n?n.getAttribute("href",2):"http://").end().find("#k-editor-link-text").val(m(f)).end().find("#k-editor-link-title").val(n?n.title:"").end().find("#k-editor-link-target").attr("checked",n?"_blank"==n.target:!1).end().data("kendoWindow").center().open();f.length>0&&!e&&(i=a("#k-editor-link-text",p.element).val()),a("#k-editor-link-url",p.element).focus().select()},redo:function(){var a=this,b=a.lockRange(!0);a.formatter.apply(b,a.attributes),a.releaseRange(b)}}),u=k.extend({init:function(b){this.options=b,this.finder=new n([{tags:["a"]}]),k.fn.init.call(this,a.extend(b,{command:s}))},initialize:function(a,b){k.fn.initialize.call(this,a,b),a.addClass("k-state-disabled")},update:function(a,b){a.toggleClass("k-state-disabled",!this.finder.isFormatted(b)).removeClass("k-state-hover")}});e(c.ui.editor,{LinkFormatFinder:q,LinkFormatter:r,UnlinkCommand:s,LinkCommand:t,UnlinkTool:u}),p("createLink",new k({key:"K",ctrl:!0,command:t,template:new l({template:i.buttonTemplate,title:"Create Link"})})),p("unlink",new u({key:"K",ctrl:!0,shift:!0,template:new l({template:i.buttonTemplate,title:"Remove Link"})}))}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=a.extend,e=c.ui.editor,f=e.EditorUtils,g=e.Dom,h=f.registerTool,i=e.ToolTemplate,j=e.RangeUtils,k=e.Command,l=c.keys,m="#k-editor-image-url",n="#k-editor-image-title",o=k.extend({init:function(a){var b=this;k.fn.init.call(b,a),b.async=!0,b.attributes={}},insertImage:function(a,b){var c=this.attributes,d=j.documentFromRange(b);if(c.src&&"http://"!=c.src){if(!a)return a=g.create(d,"img",c),a.onload=a.onerror=function(){a.removeAttribute("complete"),a.removeAttribute("width"),a.removeAttribute("height")},b.deleteContents(),b.insertNode(a),a.nextSibling||g.insertAfter(d.createTextNode("\ufeff"),a),b.setStartAfter(a),b.setEndAfter(a),j.selectRange(b),!0;g.attr(a,c)}return!1},_dialogTemplate:function(a){return c.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-imagebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-image-url">#: messages.imageWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-url"></div><div class=\'k-edit-label\'><label for="k-editor-image-title">#: messages.imageAltText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-title"></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button">#: messages.dialogInsert #</button><button class="k-dialog-close k-button k-secondary">#: messages.dialogCancel #</button></div></div>')({messages:this.editor.options.messages,showBrowser:a})},redo:function(){var a=this,b=a.lockRange();a.insertImage(j.image(b),b)||a.releaseRange(b)},exec:function(){function r(b){var c=i.element;a.attributes={src:c.find(m).val().replace(/ /g,"%20"),alt:c.find(n).val()},f=a.insertImage(h,e),s(b),a.change&&a.change()}function s(b){b.preventDefault(),i.destroy(),g.windowFromDocument(j.documentFromRange(e)).focus(),f||a.releaseRange(e)}function t(a){a.keyCode==l.ENTER?r(a):a.keyCode==l.ESC&&s(a)}var i,a=this,e=a.lockRange(),f=!1,h=j.image(e),k=a.editor.options,o=k.messages,p=k.imageBrowser,q=!!(c.ui.ImageBrowser&&p&&p.transport&&p.transport.read!==b);i=this.createDialog(a._dialogTemplate(q),{title:o.insertImage,close:s,visible:!1,resizable:q}).toggleClass("k-imagebrowser-dialog",q).find(".k-dialog-insert").click(r).end().find(".k-dialog-close").click(s).end().find(".k-edit-field input").keydown(t).end().find(m).val(h?h.getAttribute("src",2):"http://").end().find(n).val(h?h.alt:"").end().data("kendoWindow"),q&&new c.ui.ImageBrowser(i.element.find(".k-imagebrowser"),d({},p,{change:function(){i.element.find(m).val(this.value())},apply:r})),i.center().open(),i.element.find(m).focus().select()}});c.ui.editor.ImageCommand=o,h("insertImage",new e.Tool({command:o,template:new i({template:f.buttonTemplate,title:"Insert Image"})}))}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.ui.DropDownList,e=c.ui.editor.Dom,f=d.extend({init:function(a,b){var e=this;d.fn.init.call(e,a,b),e.value(e.options.title),c.support.mobileOS.ios&&e._initSelectOverlay(),e.bind("open",function(){if(e.options.autoSize){var b,a=e.list;a.css({whiteSpace:"nowrap",width:"auto"}),b=a.width(),b?b+=20:b=e._listWidth,a.css("width",b+c.support.scrollbar()),e._listWidth=b}})},options:{name:"SelectBox"},_initSelectOverlay:function(){var b=a(this.element),c=a("<select class='k-select-overlay' />"),d=b.closest(".k-widget"),e=this;c.on("change",function(){e.value(this.value),e.trigger("change")}),this.bind("dataBound",function(){for(var d,a=e.value(),b=this.dataSource.view(),f="",g=0;g<b.length;g++)d=b[g],f+="<option value='"+d.value+"'",d.value==a&&(f+=" selected"),f+=">"+d.text+"</option>";c.html(f)}),c.insertAfter(d)},value:function(a){var c=this,e=d.fn.value.call(c,a);return a===b?e:(a!==d.fn.value.call(c)&&(c.text(c.options.title),c._current&&c._current.removeClass("k-state-selected"),c.current(null),c._oldIndex=c.selectedIndex=-1),void 0)},decorate:function(a){var c,d,f,b=this.dataSource.data();for(c=0;c<b.length;c++)d=b[c].tag||"span",f=b[c].className,b[c].style=e.inlineStyle(a,d,{className:f})+";display:inline-block";this.dataSource.trigger("change")}});c.ui.plugin(f),c.ui.editor.SelectBox=f}(window.kendo.jQuery),function(a,b){function q(c,d){var e="rtl"==a(c).css("direction"),f=e?"Right":"Left",h="td"!=g.name(c)?"margin"+f:"padding"+f;return d===b?c.style[h]||0:(d>0?c.style[h]=d+"px":(c.style[h]="",c.style.cssText||c.removeAttribute("style")),void 0)}var c=window.kendo,d=c.Class,e=a.extend,f=c.ui.editor,g=f.Dom,h=f.EditorUtils,i=h.registerTool,j=f.Command,k=f.Tool,l=f.ToolTemplate,m=f.RangeUtils,n=g.blockElements,o=f.BlockFormatFinder,p=f.BlockFormatter,r=d.extend({init:function(){this.finder=new o([{tags:g.blockElements}])},apply:function(b){var e,f,h,i,j,c=this.finder.findSuitable(b),d=[];if(c.length){for(e=0,f=c.length;f>e;e++)g.is(c[e],"li")?a(c[e]).index()?a.inArray(c[e].parentNode,d)<0&&d.push(c[e]):d.push(c[e].parentNode):d.push(c[e]);for(;d.length;)if(h=d.shift(),g.is(h,"li")){i=h.parentNode,j=a(h).prev("li");var k=j.find("ul,ol").last(),l=a(h).children("ul,ol")[0];if(l&&j[0])k[0]?(k.append(h),k.append(a(l).children()),g.remove(l)):(j.append(l),l.insertBefore(h,l.firstChild));else for(l=j.children("ul,ol")[0],l||(l=g.create(h.ownerDocument,g.name(i)),j.append(l));h&&h.parentNode==i;)l.appendChild(h),h=d.shift()}else{var m=parseInt(q(h),10)+30;q(h,m);for(var n=0;n<d.length;n++)a.contains(h,d[n])&&d.splice(n,1)}}else{var o=new p([{tags:["p"]}],{style:{marginLeft:30}});o.apply(b)}},remove:function(b){var d,e,f,g,h,i,j,k,c=this.finder.findSuitable(b);for(e=0,f=c.length;f>e;e++){if(j=a(c[e]),j.is("li")){if(g=j.parent(),h=g.parent(),h.is("li,ul,ol")&&!q(g[0])){if(d&&a.contains(d,h[0]))continue;i=j.nextAll("li"),i.length&&a(g[0].cloneNode(!1)).appendTo(j).append(i),h.is("li")?j.insertAfter(h):j.appendTo(h),g.children("li").length||g.remove();continue}if(d==g[0])continue;d=g[0]}else d=c[e];k=parseInt(q(d),10)-30,q(d,k)}}}),s=j.extend({init:function(a){a.formatter={toggle:function(a){(new r).apply(m.nodes(a))}},j.fn.init.call(this,a)}}),t=j.extend({init:function(a){a.formatter={toggle:function(a){(new r).remove(m.nodes(a))}},j.fn.init.call(this,a)}}),u=k.extend({init:function(a){k.fn.init.call(this,a),this.finder=new o([{tags:n}])},initialize:function(a,b){k.fn.initialize.call(this,a,b),a.addClass("k-state-disabled")},update:function(b,c){var e,f,h,i,d=this.finder.findSuitable(c);for(h=0,i=d.length;i>h;h++)if(e=q(d[h]),e||(f=a(d[h]).parents("ul,ol").length,e=g.is(d[h],"li")&&(f>1||q(d[h].parentNode))||g.ofType(d[h],["ul","ol"])&&f>0),e)return b.removeClass("k-state-disabled"),void 0;b.addClass("k-state-disabled").removeClass("k-state-hover")}});e(f,{IndentFormatter:r,IndentCommand:s,OutdentCommand:t,OutdentTool:u}),i("indent",new k({command:s,template:new l({template:h.buttonTemplate,title:"Indent"})})),i("outdent",new u({command:t,template:new l({template:h.buttonTemplate,title:"Outdent"})}))}(window.kendo.jQuery),function(a){var c=window.kendo,d=a.extend,e=c.ui.editor,f=e.EditorUtils,g=e.Command,h=e.Tool,i=e.ToolTemplate,j=g.extend({init:function(a){var b=this;b.options=a,g.fn.init.call(b,a),b.attributes=null,b.async=!0},exec:function(){function i(a){d.value(f.find(h).val()),k(a),b.change&&b.change(),d.trigger("change")}function k(a){a.preventDefault(),f.data("kendoWindow").destroy(),d.focus()}var b=this,d=b.editor,e=d.options.messages,f=a(c.template(j.template)(e)).appendTo(document.body),g=j.indent(d.value()),h=".k-editor-textarea";this.createDialog(f,{title:e.viewHtml,close:k,visible:!1}).find(h).val(g).end().find(".k-dialog-update").click(i).end().find(".k-dialog-close").click(k).end().data("kendoWindow").center().open(),f.find(h).focus()}});d(j,{template:"<div class='k-editor-dialog k-popup-edit-form k-edit-form-container k-viewhtml-dialog'><textarea class='k-editor-textarea k-input'></textarea><div class='k-edit-buttons k-state-default'><button class='k-dialog-update k-button'>#: dialogUpdate #</button><button class='k-dialog-close k-button k-secondary'>#: dialogCancel #</button></div></div>",indent:function(a){return a.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}}),c.ui.editor.ViewHtmlCommand=j,e.EditorUtils.registerTool("viewHtml",new h({command:j,template:new i({template:f.buttonTemplate,title:"View HTML"})}))}(window.kendo.jQuery),function(a){function k(b,c,d){return j.extend({init:function(a){j.fn.init.call(this,a),this.finder=d},command:function(b){var d=b.value;return a.isPlainObject(d)?d[c]=d.value:(b.value={},b.value[c]=d),j.fn.command.call(this,b)},initialize:function(a,b){var e,d=window.console,f=this.options.items;for(e=0;e<f.length;e++)f[e][c]=f[e].value;d&&d.warn("The `"+this.options.name+"` tool has been deprecated in favor of the `formatting` tool. See http://docs.kendoui.com/getting-started/changes-and-backward-compatibility for more information"),j.fn.initialize.call(this,a,b)}})}var b=window.kendo,c=b.ui.editor,d=c.Tool,e=c.ToolTemplate,f=c.DelayedExecutionTool,g=c.Dom,h=c.EditorUtils.dropDownListTemplate,i=c.EditorUtils.registerTool,j=f.extend({init:function(a){var c=this;d.fn.init.call(c,b.deepExtend({},c.options,a)),c.type="kendoSelectBox",c.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:90},toFormattingItem:function(a){var b=a.value;if(!b)return a;if(a.tag||a.className)return a;var c=b.indexOf(".");return 0===c?a.className=b.substring(1):-1==c?a.tag=b:(a.tag=b.substring(0,c),a.className=b.substring(c+1)),a},command:function(b){var d=b.value;return d=this.toFormattingItem(d),new c.FormatCommand({range:b.range,formatter:function(){var b,e=(d.tag||d.context||"span").split(","),f=[{tags:e,attr:{className:d.className||""}}];return b=a.inArray(e[0],g.inlineElements)>=0?new c.GreedyInlineFormatter(f):new c.GreedyBlockFormatter(f)}})},initialize:function(a,c){var e=c.editor,f=this.options,g=f.name,h=this;a.width(f.width),a.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:f.items||e.options[g],title:e.options.messages[g],autoSize:!0,change:function(){d.exec(e,g,this.dataItem().toJSON())},dataBound:function(){var a,b=this.dataSource.data();for(a=0;a<b.length;a++)b[a]=h.toFormattingItem(b[a])},highlightFirst:!1,template:b.template('<span unselectable="on" style="display:block;#=data.style#">#:data.text#</span>')}),a.addClass("k-decorated").closest(".k-widget").removeClass("k-"+g).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(b,c){for(var d=0;d<b.length;d++){var e=b[d],f=e.tag||e.context||"",g=e.className?"."+e.className:"",h=f+g,i=a(c[0]).closest(h)[0];if(i){if(1==c.length)return e.value;for(var j=1;j<c.length&&a(c[j]).closest(h)[0]==i;j++)if(j==c.length-1)return e.value}}return""},update:function(b,c){var d=a(b).data(this.type);if(d){var i,j,e=d.dataSource,h=e.data(),k=g.commonAncestor.apply(null,c);for(i=0;i<h.length;i++)j=h[i].context,h[i].visible=!j||!!a(k).closest(j).length;e.filter([{field:"visible",operator:"eq",value:!0}]),f.fn.update.call(this,b,c),d.value(this.getFormattingValue(e.view(),c)),d.wrapper.toggleClass("k-state-disabled",!e.view().length)}}}),l=k("style","className",new c.GreedyInlineFormatFinder([{tags:["span"]}],"className")),m=k("formatBlock","tag",new c.BlockFormatFinder([{tags:g.blockElements}]));a.extend(c,{FormattingTool:j,StyleTool:l,FormatBlockTool:m}),i("formatting",new j({template:new e({template:h,title:"Format"})})),i("style",new l({template:new e({template:h,title:"Styles"})})),i("formatBlock",new m({template:new e({template:h})}))}(window.kendo.jQuery),function(a){var c=window.kendo,d=c.ui,e=d.editor,f=d.Widget,g=a.extend,h=a.proxy,i=c.keys,j=".kendoEditor",k="a.k-tool:not(.k-state-disabled),.k-widget.k-colorpicker,.k-selectbox,.k-dropdown,.k-combobox .k-input",l=f.extend({init:function(a,b){var c=this;b=g({},b,{name:"EditorToolbar"}),f.fn.init.call(c,a,b),b.popup&&c._initPopup()},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","indent","outdent"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],advanced:["viewHtml"]},_initPopup:function(){this.window=a(this.element).wrap("<div class='editorToolbarWindow k-header' />").parent().prepend("<button class='k-button k-button-bare k-editortoolbar-dragHandle'><span class='k-icon k-i-move' /></button>").kendoWindow({title:!1,resizable:!1,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:!1,autoFocus:!1,actions:[],dragend:function(){this._moved=!0}}).on("mousedown",function(b){a(b.target).is(".k-icon")||b.preventDefault()}).data("kendoWindow")},items:function(){return this.element.children().find("> *, select")},focused:function(){return this.element.find(".k-state-focused").length>0},toolById:function(a){var b,c=this.tools;for(b in c)if(b.toLowerCase()==a)return c[b]},toolGroupFor:function(b){var c,d=this.groups;if(this.isCustomTool(b))return"custom";for(c in d)if(a.inArray(b,d[c])>=0)return c},bindTo:function(b){var c=this,d=c.window;c._editor&&c._editor.unbind("select",h(c._update,c)),c._editor=b,c.tools=c.expandTools(b.options.tools),c.render(),c.element.find(".k-combobox .k-input").keydown(function(b){var c=a(this).closest(".k-combobox").data("kendoComboBox"),d=b.keyCode;d==i.RIGHT||d==i.LEFT?c.close():d==i.DOWN&&(c.dropDown.isOpened()||(b.stopImmediatePropagation(),c.open()))}),c._attachEvents(),c.items().each(function(){var d=c._toolName(this),e=c.tools[d],f=e&&e.options,g=b.options.messages,h=f&&f.tooltip||g[d],i=a(this);if(e&&e.initialize){if("fontSize"==d||"fontName"==d){var j=g[d+"Inherit"];i.find("input").val(j).end().find("span.k-input").text(j).end()}e.initialize(i,{title:c._appendShortcutSequence(h,e),editor:c._editor}),i.closest(".k-widget",c.element).addClass("k-editor-widget"),i.closest(".k-colorpicker",c.element).next(".k-colorpicker").addClass("k-editor-widget")}}),b.bind("select",h(c._update,c)),c._updateContext(),d&&d.wrapper.css({top:"",left:"",width:""})},show:function(){var d,e,a=this,b=a.window,c=a.options.editor;b&&(d=b.wrapper,e=c.element,d.is(":visible")&&a.window.options.visible||(d[0].style.width||d.width(e.outerWidth()-parseInt(d.css("border-left-width"),10)-parseInt(d.css("border-right-width"),10)),b._moved||(d.css("top",parseInt(e.offset().top,10)-d.outerHeight()-parseInt(a.window.element.css("padding-bottom"),10)),d.css("left",parseInt(e.offset().left,10))),b.open()))},hide:function(){this.window&&this.window.close()},focus:function(){var a="tabIndex",b=this.element,c=this._editor.element.attr(a);b.attr(a,c||0).focus().find(k).first().focus(),c||0===c||b.removeAttr(a)},_appendShortcutSequence:function(a,b){if(!b.key)return a;var c=a+" (";return b.ctrl&&(c+="Ctrl + "),b.shift&&(c+="Shift + "),b.alt&&(c+="Alt + "),c+=b.key+")"},_nativeTools:["insertLineBreak","insertParagraph","redo","undo"],tools:{},isCustomTool:function(a){return!(a in c.ui.Editor.defaultTools)},expandTools:function(b){var d,f,i,l,h=this._nativeTools,j=c.deepExtend({},c.ui.Editor.defaultTools),k={};for(f=0;f<b.length;f++)d=b[f],l=d.name,a.isPlainObject(d)?l&&j[l]?(k[l]=g({},j[l]),g(k[l].options,d)):(i=g({cssClass:"k-i-custom",type:"button",title:""},d),i.name||(i.name="custom"),i.cssClass="k-"+("custom"==i.name?"i-custom":i.name),i.template||"button"!=i.type||(i.template=e.EditorUtils.buttonTemplate,i.title=i.title||i.tooltip),k[l]={options:i}):j[d]&&(k[d]=j[d]);for(f=0;f<h.length;f++)k[h[f]]||(k[h[f]]=j[h[f]]);return k},render:function(){function r(b){var d;return b.getHtml?d=b.getHtml():(a.isFunction(b)||(b=c.template(b)),d=b(e)),a.trim(d)}function s(){p.children().length&&p.appendTo(k)}function t(){p=a("<li class='k-tool-group' role='presentation' />")}var e,f,g,i,l,m,p,q,b=this,d=b.tools,j=b._editor.element,k=b.element.empty(),n=b._editor.options.tools,o=c.support.browser;for(k.empty(),t(),q=0;q<n.length;q++)i=n[q].name||n[q],e=d[i]&&d[i].options,!e&&a.isPlainObject(i)&&(e=i),f=e&&e.template,"break"==i&&(s(),a("<li class='k-row-break' />").appendTo(b.element),t()),f&&(m=b.toolGroupFor(i),l!=m&&(s(),t(),l=m),f=r(f),g=a(f).appendTo(p),"custom"==m&&(s(),t()),e.exec&&g.hasClass("k-tool")&&g.click(h(e.exec,j[0])));s(),a(b.element).children(":has(> .k-tool)").addClass("k-button-group"),b.options.popup&&o.msie&&o.version<9&&b.window.wrapper.find("*").attr("unselectable","on"),this.updateGroups()},updateGroups:function(){a(this.element).children().each(function(){a(this).children().filter(function(){return"none"!==this.style.display}).first().addClass("k-group-start").end().last().addClass("k-group-end").end()})},destroy:function(){f.fn.destroy.call(this);var a,b=this.tools;for(a in b)b[a].destroy&&b[a].destroy();this.window&&this.window.destroy()},_attachEvents:function(){var b=this,c="[role=button].k-tool",d=c+":not(.k-state-disabled)",e=c+".k-state-disabled";b.element.off(j).on("mouseenter"+j,d,function(){a(this).addClass("k-state-hover")}).on("mouseleave"+j,d,function(){a(this).removeClass("k-state-hover")}).on("mousedown"+j,c,function(a){a.preventDefault()}).on("keydown"+j,k,function(c){function g(a,c){var e=b.element.find(k),f=e.index(d)+a;return c&&(f=Math.max(0,Math.min(e.length-1,f))),e[f]}var e,d=this,f=c.keyCode;f==i.RIGHT||f==i.LEFT?a(d).hasClass(".k-dropdown")||(e=g(f==i.RIGHT?1:-1,!0)):f==i.ESC?e=b._editor:f!=i.TAB||c.ctrlKey||c.altKey||(c.shiftKey?e=g(-1):(e=g(1),e||(e=b._editor))),e&&(c.preventDefault(),e.focus())}).on("click"+j,d,function(c){var d=a(this);c.preventDefault(),c.stopPropagation(),d.removeClass("k-state-hover"),d.is("[data-popup]")||b._editor.exec(b._toolName(this))}).on("click"+j,e,function(a){a.preventDefault()})},_toolName:function(b){if(b){var c=b.className;/k-tool\b/i.test(c)&&(c=b.firstChild.className);var d=a.grep(c.split(" "),function(a){return!/^k-(widget|tool|tool-icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(a)});return d[0]?d[0].substring(d[0].lastIndexOf("-")+1):"custom"}},_update:function(){var b=this,d=b._editor,e=d.getRange(),f=c.ui.editor.RangeUtils.textNodes(e);f.length||(f=[e.startContainer]),b.items().each(function(){var c=b.tools[b._toolName(this)];c&&c.update&&c.update(a(this),f)}),this._updateContext()},_updateContext:function(){this.element.children().children().each(function(){var b=a(this);b.css("display",b.hasClass("k-state-disabled")?"none":"")}),this.updateGroups()}});a.extend(e,{Toolbar:l})}(window.jQuery),function(a){var c=window.kendo,d=a.extend,e=a.proxy,f=c.ui.editor,g=f.Dom,h=f.EditorUtils,i=f.Command,j=".kendoEditor",k="k-state-active",l="k-state-selected",m=f.Tool,n=f.ToolTemplate,o=f.BlockFormatFinder,p=f.EditorUtils.registerTool,q="<td contentEditable='true'>"+f.emptyElementContent+"</td>",r=new o([{tags:["table"]}]),s=i.extend({_tableHtml:function(a,b){return a=a||1,b=b||1,"<table class='k-table' contentEditable='false' data-last>"+new Array(a+1).join("<tr>"+new Array(b+1).join(q)+"</tr>")+"</table>"},exec:function(){var d,f,b=this.options,c=this.editor,e=this._tableHtml(b.rows,b.columns);c.selectRange(b.range),c.clipboard.paste(e),d=c.getRange(),f=a("table[data-last]",c.document).removeAttr("data-last"),d.selectNodeContents(f.find("td")[0]),c.selectRange(d)}}),t=m.extend({initialize:function(b,c){m.fn.initialize.call(this,b,c);var d=a(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:b,copyAnchorStyles:!1,open:e(this._open,this),activate:e(this._activate,this),close:e(this._close,this)}).data("kendoPopup");b.click(e(this._toggle,this)),this._editor=c.editor,this._popup=d},popup:function(){return this._popup},_activate:a.noop,_open:function(){this._popup.options.anchor.addClass(k)},_close:function(){this._popup.options.anchor.removeClass(k)},_toggle:function(b){var c=a(b.target).closest(".k-tool");c.hasClass("k-state-disabled")||this.popup().toggle()},update:function(a){this.popup().close(),a.removeClass("k-state-hover")},destroy:function(){this._popup.destroy()}}),u=t.extend({init:function(b){this.cols=8,this.rows=6,t.fn.init.call(this,a.extend(b,{command:s,popupTemplate:"<div class='k-ct-popup'>"+new Array(this.cols*this.rows+1).join("<span class='k-ct-cell k-state-disabled' />")+"<div class='k-status'>Cancel</div>"+"</div>"}))},_activate:function(){function q(b){var c=a(window);return{row:Math.floor((b.clientY+c.scrollTop()-i.top)/p)+1,col:Math.floor((b.clientX+c.scrollLeft()-i.left)/o)+1}}function r(a){return a.row>0&&a.col>0&&a.row<=n&&a.col<=m}var o,p,b=this,d=b._popup.element,e=d.find(".k-status"),f=d.find(".k-ct-cell"),g=f.eq(0),h=f.eq(f.length-1),i=c.getOffset(g),k=c.getOffset(h),m=b.cols,n=b.rows;k.left+=h[0].offsetWidth,k.top+=h[0].offsetHeight,o=(k.left-i.left)/m,p=(k.top-i.top)/n,d.on("mousemove"+j,function(b){var d=q(b);r(d)?(e.text(c.format("Create a {0} x {1} table",d.row,d.col)),f.each(function(b){a(this).toggleClass(l,b%m<d.col&&b/m<d.row)})):(e.text("Cancel"),f.removeClass(l))}).on("mouseleave"+j,function(){f.removeClass(l),e.text("Cancel")}).on("mouseup"+j,function(a){var c=q(a);r(c)&&(b._editor.exec("createTable",{rows:c.row,columns:c.col}),b._popup.close())})},_open:function(){t.fn._open.call(this),this.popup().element.find(".k-ct-cell").removeClass(l)},_close:function(){t.fn._close.call(this),this.popup().element.off(j)},update:function(a,b){var c;t.fn.update.call(this,a),c=r.isFormatted(b),a.toggleClass("k-state-disabled",c)}}),v=i.extend({exec:function(){for(var c,d,e,a=this.lockRange(!0),b=a.endContainer;"td"!=g.name(b);)b=b.parentNode;d=b.parentNode,c=d.children.length,e=d.cloneNode(!0);for(var h=0;h<d.cells.length;h++)e.cells[h].innerHTML=f.emptyElementContent;"before"==this.options.position?g.insertBefore(e,d):g.insertAfter(e,d),this.releaseRange(a)}}),w=i.extend({exec:function(){var d,e,i,j,a=this.lockRange(!0),b=g.closest(a.endContainer,"td"),c=g.closest(b,"table"),h=c.rows,k=this.options.position;for(d=g.findNodeIndex(b),e=0;e<h.length;e++)i=h[e].cells[d],j=i.cloneNode(),j.innerHTML=f.emptyElementContent,"before"==k?g.insertBefore(j,i):g.insertAfter(j,i);this.releaseRange(a)}}),x=i.extend({exec:function(){var e,a=this.lockRange(),b=g.closest(a.endContainer,"tr"),c=g.closest(b,"table"),d=c.rows.length;1==d?(e=g.next(c)||g.prev(c),g.remove(c)):(g.removeTextSiblings(b),e=g.next(b)||g.prev(b),e=e.cells[0],g.remove(b)),e&&(a.setStart(e,0),a.collapse(!0),this.editor.selectRange(a))}}),y=i.extend({exec:function(){var h,i,a=this.lockRange(),b=g.closest(a.endContainer,"td"),c=g.closest(b,"table"),d=c.rows,e=g.findNodeIndex(b,!0),f=d[0].cells.length;if(1==f)h=g.next(c)||g.prev(c),g.remove(c);else for(g.removeTextSiblings(b),h=g.next(b)||g.prev(b),i=0;i<d.length;i++)g.remove(d[i].cells[e]);h&&(a.setStart(h,0),a.collapse(!0),this.editor.selectRange(a))}}),z=m.extend({command:function(a){return a=d(a,this.options),"delete"==a.action?"row"==a.type?new x(a):new y(a):"row"==a.type?new v(a):new w(a)},initialize:function(a,b){m.fn.initialize.call(this,a,b),a.addClass("k-state-disabled")},update:function(a,b){var c=!r.isFormatted(b);a.toggleClass("k-state-disabled",c)}});d(c.ui.editor,{PopupTool:t,TableCommand:s,InsertTableTool:u,TableModificationTool:z,InsertRowCommand:v,InsertColumnCommand:w,DeleteRowCommand:x,DeleteColumnCommand:y}),p("createTable",new u({template:new n({template:h.buttonTemplate,popup:!0,title:"Create table"})})),p("addColumnLeft",new z({type:"column",position:"before",template:new n({template:h.buttonTemplate,title:"Add column on the left"})})),p("addColumnRight",new z({type:"column",template:new n({template:h.buttonTemplate,title:"Add column on the right"})})),p("addRowAbove",new z({type:"row",position:"before",template:new n({template:h.buttonTemplate,title:"Add row above"})})),p("addRowBelow",new z({type:"row",template:new n({template:h.buttonTemplate,title:"Add row below"})})),p("deleteRow",new z({type:"row",action:"delete",template:new n({template:h.buttonTemplate,title:"Delete row"})})),p("deleteColumn",new z({type:"column",action:"delete",template:new n({template:h.buttonTemplate,title:"Delete column"})}))}(window.kendo.jQuery),kendo_module({id:"numerictextbox",name:"NumericTextBox",category:"web",description:"The NumericTextBox widget can format and display numeric, percentage or currency textbox.",depends:["core","userevents"]}),function(a,b){function I(a,b){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+a+'" title="'+b+'">'+b+"</span></span>"}function J(c,d){var e,f=d!==b;if(c.selectionStart!==b)f?(c.focus(),c.setSelectionRange(d,d)):d=[c.selectionStart,c.selectionEnd];else if(document.selection)if(a(c).is(":visible")&&c.focus(),e=document.selection.createRange(),f)e.move("character",d),e.select();else{var i,j,g=c.createTextRange(),h=g.duplicate();g.moveToBookmark(e.getBookmark()),h.setEndPoint("EndToStart",g),i=h.text.length,j=i+g.text.length,d=[i,j]}return d}var c=window.kendo,d=c.keys,e=c.ui,f=e.Widget,g=c._activeElement,h=c._extractFormat,i=c.parseFloat,j=c.support.placeholder,k=c.getCulture,l=c._round,m="change",n="disabled",o="readonly",p="k-input",q="spin",r=".kendoNumericTextBox",s="touchend",t="mouseleave"+r,u="mouseenter"+r+" "+t,v="k-state-default",w="k-state-focused",x="k-state-hover",y="focus",z=".",A="k-state-selected",B="k-state-disabled",C="aria-disabled",D="aria-readonly",E=/^(-)?(\d*)$/,F=null,G=a.proxy,H=f.extend({init:function(a,d){var i,j,k,l,m,e=this,g=d&&d.step!==b;f.fn.init.call(e,a,d),d=e.options,a=e.element.on("blur"+r,G(e._focusout,e)).attr("role","spinbutton"),d.placeholder=d.placeholder||a.attr("placeholder"),e._reset(),e._wrapper(),e._arrows(),e._input(),c.support.mobileOS?e._text.on(s+r+" "+y+r,function(b){e._toggleText(!1),b.type===y&&a.focus()}):e._text.on(y+r,G(e._click,e)),i=e.min(a.attr("min")),j=e.max(a.attr("max")),k=e._parse(a.attr("step")),d.min===F&&i!==F&&(d.min=i),d.max===F&&j!==F&&(d.max=j),g||k===F||(d.step=k),a.attr("aria-valuemin",d.min).attr("aria-valuemax",d.max),d.format=h(d.format),l=d.value,e.value(l!==F?l:a.val()),m=a.is("[disabled]"),m?e.enable(!1):e.readonly(a.is("[readonly]")),c.notify(e)},options:{name:"NumericTextBox",decimals:F,min:F,max:F,value:F,step:1,culture:"",format:"n",spinners:!0,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[m,q],_editable:function(a){var b=this,c=b.element,d=a.disable,e=a.readonly,f=b._text.add(c),g=b._inputWrapper.off(u);b._toggleText(!0),b._upArrowEventHandler.unbind("press"),b._downArrowEventHandler.unbind("press"),c.off("keydown"+r).off("keypress"+r).off("paste"+r),e||d?(g.addClass(d?B:v).removeClass(d?v:B),f.attr(n,d).attr(o,e).attr(C,d).attr(D,e)):(g.addClass(v).removeClass(B).on(u,b._toggleHover),f.removeAttr(n).removeAttr(o).attr(C,!1).attr(D,!1),b._upArrowEventHandler.bind("press",function(a){a.preventDefault(),b._spin(1),b._upArrow.addClass(A)}),b._downArrowEventHandler.bind("press",function(a){a.preventDefault(),b._spin(-1),b._downArrow.addClass(A)}),b.element.on("keydown"+r,G(b._keydown,b)).on("keypress"+r,G(b._keypress,b)).on("paste"+r,G(b._paste,b)))},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},destroy:function(){var a=this;a.element.add(a._text).add(a._upArrow).add(a._downArrow).add(a._inputWrapper).off(r),a._upArrowEventHandler.destroy(),a._downArrowEventHandler.destroy(),a._form&&a._form.off("reset",a._resetHandler),f.fn.destroy.call(a)},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},step:function(a){return this._option("step",a)},value:function(a){var d,c=this;return a===b?c._value:(a=c._parse(a),d=c._adjust(a),a===d&&(c._update(a),c._old=c._value),void 0)},focus:function(){this._focusin()},_adjust:function(a){var b=this,c=b.options,d=c.min,e=c.max;return a===F?a:(d!==F&&d>a?a=d:e!==F&&a>e&&(a=e),a)},_arrows:function(){var d,b=this,e=function(){clearTimeout(b._spinning),d.removeClass(A)},f=b.options,g=f.spinners,h=b.element;d=h.siblings(".k-icon"),d[0]||(d=a(I("n",f.upArrowText)+I("s",f.downArrowText)).insertAfter(h),d.wrapAll('<span class="k-select"/>')),g||(d.parent().toggle(g),b._inputWrapper.addClass("k-expand-padding")),b._upArrow=d.eq(0),b._upArrowEventHandler=new c.UserEvents(b._upArrow,{release:e}),b._downArrow=d.eq(1),b._downArrowEventHandler=new c.UserEvents(b._downArrow,{release:e})},_blur:function(){var a=this;a._toggleText(!0),a._change(a.element.val())},_click:function(a){var b=this;clearTimeout(b._focusing),b._focusing=setTimeout(function(){var h,i,j,c=a.target,d=J(c)[0],e=c.value.substring(0,d),f=b._format(b.options.format),g=f[","],k=0;g&&(i=new RegExp("\\"+g,"g"),j=new RegExp("([\\d\\"+g+"]+)(\\"+f[z]+")?(\\d+)?")),j&&(h=j.exec(e)),h&&(k=h[0].replace(i,"").length,-1!=e.indexOf("(")&&b._value<0&&k++),b._focusin(),J(b.element[0],k)})},_change:function(a){var b=this;b._update(a),a=b._value,b._old!=a&&(b._old=a,b.trigger(m),b.element.trigger(m))},_culture:function(a){return a||k(this.options.culture)},_focusin:function(){var a=this;a._inputWrapper.addClass(w),a._toggleText(!1),a.element[0].focus()},_focusout:function(){var a=this;clearTimeout(a._focusing),a._inputWrapper.removeClass(w).removeClass(x),a._blur()
},_format:function(a,b){var c=this._culture(b).numberFormat;return a=a.toLowerCase(),a.indexOf("c")>-1?c=c.currency:a.indexOf("p")>-1&&(c=c.percent),c},_input:function(){var g,b=this,c="k-formatted-value",d=b.element.addClass(p).show()[0],e=d.accessKey,f=b.wrapper;g=f.find(z+c),g[0]||(g=a('<input type="text"/>').insertBefore(d).addClass(c));try{d.setAttribute("type","text")}catch(h){d.type="text"}g[0].tabIndex=d.tabIndex,g[0].style.cssText=d.style.cssText,g.prop("placeholder",b.options.placeholder),e&&(g.attr("accesskey",e),d.accessKey=""),b._text=g.addClass(d.className)},_keydown:function(a){var b=this,c=a.keyCode;c==d.DOWN?b._step(-1):c==d.UP?b._step(1):c==d.ENTER&&b._change(b.element.val())},_keypress:function(a){if(0!==a.which&&a.keyCode!==d.BACKSPACE){var b=this.element,c=String.fromCharCode(a.which),e=J(b[0]),f=e[0],g=e[1],h=this.options.min,i=b.val();i=i.substring(0,f)+c+i.substring(g),(null!==h&&h>=0&&"-"===i.charAt(0)||!this._numericRegex().test(i))&&a.preventDefault()}},_numericRegex:function(){var a=this,b=a.options,c=a._format(b.format),d=c[z],e=b.decimals;return d===z&&(d="\\"+d),e===F&&(e=c.decimals),0===e?E:(a._separator!==d&&(a._separator=d,a._floatRegExp=new RegExp("^(-)?(((\\d+("+d+"\\d*)?)|("+d+"\\d*)))?$")),a._floatRegExp)},_paste:function(a){var b=this,c=a.target,d=c.value;setTimeout(function(){b._parse(c.value)===F&&b._update(d)})},_option:function(a,c){var d=this,e=d.options;return c===b?e[a]:(c=d._parse(c),(c||"step"!==a)&&(e[a]=c,d.element.attr("aria-value"+a,c).attr(a,c)),void 0)},_spin:function(a,b){var c=this;b=b||500,clearTimeout(c._spinning),c._spinning=setTimeout(function(){c._spin(a,50)},b),c._step(a)},_step:function(a){var b=this,c=b.element,d=b._parse(c.val())||0;g()!=c[0]&&b._focusin(),d+=b.options.step*a,b._update(b._adjust(d)),b.trigger(q)},_toggleHover:function(b){a(b.currentTarget).toggleClass(x,"mouseenter"===b.type)},_toggleText:function(a){var b=this;b._text.toggle(a),b.element.toggle(!a)},_parse:function(a,b){return i(a,this._culture(b),this.options.format)},_update:function(a){var i,b=this,d=b.options,e=d.format,f=d.decimals,g=b._culture(),h=b._format(e,g);f===F&&(f=h.decimals),a=b._parse(a,g),i=a!==F,i&&(a=parseFloat(l(a,f))),b._value=a=b._adjust(a),b._placeholder(c.toString(a,e,g)),i?(a=a.toString(),-1!==a.indexOf("e")&&(a=l(+a,f)),a=a.replace(z,h[z])):a="",b.element.val(a).attr("aria-valuenow",a)},_placeholder:function(a){this._text.val(a),j||a||this._text.val(this.options.placeholder)},_wrapper:function(){var e,b=this,c=b.element,d=c[0];e=c.parents(".k-numerictextbox"),e.is("span.k-numerictextbox")||(e=c.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),e=e.wrap("<span/>").parent()),e[0].style.cssText=d.style.cssText,d.style.width="",b.wrapper=e.addClass("k-widget k-numerictextbox").addClass(d.className).css("display",""),b._inputWrapper=a(e[0].firstChild)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){setTimeout(function(){b.value(c[0].value)})},b._form=e.on("reset",b._resetHandler))}});e.plugin(H)}(window.kendo.jQuery),kendo_module({id:"menu",name:"Menu",category:"web",description:"The Menu widget displays hierarchical data as a multi-level menu.",depends:["popup"]}),function(a,b){function Z(a,b){return a=a.split(" ")[!b+0]||a,a.replace("top","up").replace("bottom","down")}function $(a,b,d){a=a.split(" ")[!b+0]||a;var e={origin:["bottom",d?"right":"left"],position:["top",d?"right":"left"]},f=/left|right/.test(a);return f?(e.origin=["top",a],e.position[1]=c.directions[a].reverse):(e.origin[0]=a,e.position[0]=c.directions[a].reverse),e.origin=e.origin.join(" "),e.position=e.position.join(" "),e}function _(b,c){try{return a.contains(b,c)}catch(d){return!1}}function ab(b){b=a(b),b.addClass("k-item").children(q).addClass(y),b.children("a").addClass(t).children(q).addClass(y),b.filter(":not([disabled])").addClass(K),b.filter(".k-separator:empty").append("&nbsp;"),b.filter("li[disabled]").addClass(N).removeAttr("disabled").attr("aria-disabled",!0),b.filter("[role]").length||b.attr("role","menuitem"),b.children("."+t).length||b.contents().filter(function(){return!(this.nodeName.match(o)||3==this.nodeType&&!a.trim(this.nodeValue))}).wrapAll("<span class='"+t+"'/>"),bb(b),cb(b)}function bb(b){b=a(b),b.find("> .k-link > [class*=k-i-arrow]").remove(),b.filter(":has(.k-group)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var b=a(this),c=b.parent().parent();b.append("<span class='k-icon "+(c.hasClass(s+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function cb(b){b=a(b),b.filter(".k-first:not(:first-child)").removeClass(x),b.filter(".k-last:not(:last-child)").removeClass(u),b.filter(":first-child").addClass(x),b.filter(":last-child").addClass(u)}var c=window.kendo,d=c.ui,e=c._activeElement,f=c.support.touch&&c.support.mobileOS,g="mousedown",h="click",i=a.extend,j=a.proxy,k=a.each,l=c.template,m=c.keys,n=d.Widget,o=/^(ul|a|div)$/i,p=".kendoMenu",q="img",r="open",s="k-menu",t="k-link",u="k-last",v="close",w="timer",x="k-first",y="k-image",z="select",A="zIndex",B="activate",C="deactivate",D="touchstart"+p+" MSPointerDown"+p+" pointerdown"+p,E=c.support.pointers,F=c.support.msPointers,G=E?"pointerover":F?"MSPointerOver":"mouseenter",H=E?"pointerout":F?"MSPointerOut":"mouseleave",I=f||F||E,J="kendoPopup",K="k-state-default",L="k-state-hover",M="k-state-focused",N="k-state-disabled",O=".k-group",P=":not(.k-list) > .k-item",Q=".k-item.k-state-disabled",R=".k-item:not(.k-state-disabled)",S=".k-item:not(.k-state-disabled) > .k-link",T=":not(.k-item.k-separator)",U=T+":eq(0)",V=T+":last",W="div:not(.k-animation-container,.k-list-container)",X={content:l("<div class='k-content k-group' tabindex='-1'>#= content(item) #</div>"),group:l("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:l("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:l("<li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:l("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:l("<span class='#= arrowClass(item, group) #'></span>"),sprite:l("<span class='k-sprite #= spriteCssClass #'></span>"),empty:l("")},Y={wrapperCssClass:function(a,b){var c="k-item",d=b.index;return c+=b.enabled===!1?" k-state-disabled":" k-state-default",a.firstLevel&&0===d&&(c+=" k-first"),d==a.length-1&&(c+=" k-last"),b.cssClass&&(c+=" "+b.cssClass),c},textClass:function(){return t},textAttributes:function(a){return a.url?" href='"+a.url+"'":""},arrowClass:function(a,b){var c="k-icon";return c+=b.horizontal?" k-i-arrow-s":" k-i-arrow-e"},text:function(a){return a.encoded===!1?a.text:c.htmlEncode(a.text)},tag:function(a){return a.url?"a":"span"},groupAttributes:function(a){return a.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group"},content:function(a){return a.content?a.content:"&nbsp;"}},db=n.extend({init:function(b,d){var e=this;n.fn.init.call(e,b,d),b=e.wrapper=e.element,d=e.options,e._initData(d),e._updateClasses(),e._animations(d),e.nextItemZIndex=100,e._tabindex(),e._focusProxy=j(e._focusHandler,e),b.on(D,e._focusProxy).on(h+p,Q,!1).on(h+p,R,j(e._click,e)).on("keydown"+p,j(e._keydown,e)).on("focus"+p,j(e._focus,e)).on("focus"+p,".k-content",j(e._focus,e)).on(D+" "+g+p,".k-content",j(e._preventClose,e)).on("blur"+p,j(e._removeHoverItem,e)).on("blur"+p,"[tabindex]",j(e._checkActiveElement,e)).on(G+p,R,j(e._mouseenter,e)).on(H+p,R,j(e._mouseleave,e)).on(G+p+" "+H+p+" "+g+p+" "+h+p,S,j(e._toggleHover,e)),d.openOnClick&&(e.clicked=!1,e._documentClickHandler=j(e._documentClick,e),a(document).click(e._documentClickHandler)),b.attr("role","menubar"),b[0].id&&(e._ariaId=c.format("{0}_mn_active",b[0].id)),c.notify(e)},events:[r,v,B,C,z],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100},_initData:function(a){var b=this;a.dataSource&&(b.element.empty(),b.append(a.dataSource,b.element))},setOptions:function(a){var b=this.options.animation;this._animations(a),a.animation=i(!0,b,a.animation),"dataSource"in a&&this._initData(a),n.fn.setOptions.call(this,a)},destroy:function(){var b=this;n.fn.destroy.call(b),b.element.off(p),b._documentClickHandler&&a(document).unbind("click",b._documentClickHandler)},enable:function(a,b){return this._toggleDisabled(a,b!==!1),this},disable:function(a){return this._toggleDisabled(a,!1),this},append:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.length?b.find("> .k-group, > .k-animation-container > .k-group"):null);return k(c.items,function(){c.group.append(this),bb(this)}),bb(b),cb(c.group.find(".k-first, .k-last").add(c.items)),this},insertBefore:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());return k(c.items,function(){b.before(this),bb(this),cb(this)}),cb(b),this},insertAfter:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());return k(c.items,function(){b.after(this),bb(this),cb(this)}),cb(b),this},_insert:function(b,c,d){var f,g,e=this;c&&c.length||(d=e.element);var h=a.isPlainObject(b),j={firstLevel:d.hasClass(s),horizontal:d.hasClass(s+"-horizontal"),expanded:!0,length:d.children().length};return c&&!d.length&&(d=a(db.renderGroup({group:j})).appendTo(c)),h||a.isArray(b)?f=a(a.map(h?[b]:b,function(b,c){return"string"==typeof b?a(b).get():a(db.renderItem({group:j,item:i(b,{index:c})})).get()})):(f=a(b),g=f.find("> ul").addClass("k-group").attr("role","menu"),f=f.filter("li"),f.add(g.find("> li")).each(function(){ab(this)})),{items:f,group:d}},remove:function(a){a=this.element.find(a);var b=this,c=a.parentsUntil(b.element,P),d=a.parent("ul");if(a.remove(),d&&!d.children(P).length){var e=d.parent(".k-animation-container");e.length?e.remove():d.remove()}return c.length&&(c=c.eq(0),bb(c),cb(c)),b},open:function(d){var e=this,f=e.options,g="horizontal"==f.orientation,h=f.direction,j=c.support.isRtl(e.wrapper);return d=e.element.find(d),/^(top|bottom|default)$/.test(h)&&(h=j?g?(h+" left").replace("default","bottom"):"left":g?(h+" right").replace("default","bottom"):"right"),d.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var b=a(this).data("kendoPopup");b&&b.close()}),d.each(function(){var c=a(this);clearTimeout(c.data(w)),c.data(w,setTimeout(function(){var k,d=c.find(".k-group:first:hidden");if(d[0]&&e.trigger(r,{item:c[0]})===!1){!d.find(".k-group")[0]&&d.children(".k-item").length>1?d.css({maxHeight:a(window).height(),overflow:"auto"}):d.css({maxHeight:"",overflow:""}),c.data(A,c.css(A)),c.css(A,e.nextItemZIndex++),k=d.data(J);var l=c.parent().hasClass(s),m=l&&g,n=$(h,l,j),o=f.animation.open.effects,p=o!==b?o:"slideIn:"+Z(h,l);k?(k=d.data(J),k.options.origin=n.origin,k.options.position=n.position,k.options.animation.open.effects=p):k=d.kendoPopup({activate:function(){e.trigger(B,{item:this.wrapper.parent()})},deactivate:function(){e.trigger(C,{item:this.wrapper.parent()})},origin:n.origin,position:n.position,collision:f.popupCollision!==b?f.popupCollision:m?"fit":"fit flip",anchor:c,appendTo:c,animation:{open:i(!0,{effects:p},f.animation.open),close:f.animation.close},close:function(a){var b=a.sender.wrapper.parent();e.trigger(v,{item:b[0]})?a.preventDefault():(b.css(A,b.data(A)),b.removeData(A),I&&(b.removeClass(L),e._removeHoverItem()))}}).data(J),d.removeAttr("aria-hidden"),k.open()}},e.options.hoverDelay))}),e},close:function(b){var c=this,d=c.element;return b=d.find(b),b.length||(b=d.find(">.k-item")),b.each(function(){var b=a(this);clearTimeout(b.data(w)),b.data(w,setTimeout(function(){var a=b.find(".k-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(J);a&&(a.close(),a.element.attr("aria-hidden",!0))},c.options.hoverDelay))}),c},_toggleDisabled:function(b,c){this.element.find(b).each(function(){a(this).toggleClass(K,c).toggleClass(N,!c).attr("aria-disabled",!c)})},_toggleHover:function(b){var d=a(c.eventTarget(b)||b.target).closest(P),e=b.type==G||-1!==g.indexOf(b.type);d.parents("li."+N).length||d.toggleClass(L,e||"mousedown"==b.type||"click"==b.type),this._removeHoverItem()},_preventClose:function(){this.options.closeOnClick||(this._closurePrevented=!0)},_checkActiveElement:function(b){var d=this,e=a(b?b.currentTarget:this._hoverItem()),f=d._findRootParent(e)[0];this._closurePrevented||setTimeout(function(){(!document.hasFocus()||!_(f,c._activeElement())&&b&&!_(f,b.currentTarget))&&d.close(f)},0),this._closurePrevented=!1},_removeHoverItem:function(){var a=this._hoverItem();a&&a.hasClass(M)&&(a.removeClass(M),this._oldHoverItem=null)},_updateClasses:function(){var b,a=this.element;a.addClass("k-widget k-reset k-header "+s).addClass(s+"-"+this.options.orientation),a.find("li > ul").addClass("k-group").attr("role","menu").attr("aria-hidden",a.is(":visible")).end().find("li > div").addClass("k-content").attr("tabindex","-1"),b=a.find("> li,.k-group > li"),b.each(function(){ab(this)})},_mouseenter:function(b){var c=this,d=a(b.currentTarget),e=d.children(".k-animation-container").length||d.children(O).length;b.delegateTarget==d.parents(".k-menu")[0]&&(c.options.openOnClick&&!c.clicked||f||!_(b.currentTarget,b.relatedTarget)&&e&&c.open(d),(c.options.openOnClick&&c.clicked||I)&&d.siblings().each(j(function(a,b){c.close(b)},c)))},_mouseleave:function(b){var c=this,d=a(b.currentTarget),e=d.children(".k-animation-container").length||d.children(O).length;return d.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]?(b.stopImmediatePropagation(),void 0):(c.options.openOnClick||f||(E||F)&&b.originalEvent.pointerType==b.originalEvent.MSPOINTER_TYPE_TOUCH||_(b.currentTarget,b.relatedTarget||b.target)||!e||c.close(d),void 0)},_click:function(b){var e,m,n,d=this,f=d.options,g=a(c.eventTarget(b)),h=g[0]?g[0].nodeName.toUpperCase():"",i="INPUT"==h||"SELECT"==h||"BUTTON"==h||"LABEL"==h,j=g.closest("."+t),k=g.closest(P),l=j.attr("href"),o=!!l&&l!==a("<a href='#' />").attr("href");if(!k.children(W)[0]){if(k.hasClass(N))return b.preventDefault(),void 0;if(b.handled||!d.trigger(z,{item:k[0]})||i||b.preventDefault(),b.handled=!0,m=k.children(O+",.k-animation-container"),n=m.is(":visible"),f.closeOnClick&&!o&&(!m.length||f.openOnClick&&n))return k.removeClass(L).css("height"),d._oldHoverItem=d._findRootParent(k),d.close(j.parentsUntil(d.element,P)),d.clicked=!1,-1!="MSPointerUp".indexOf(b.type)&&b.preventDefault(),void 0;o&&b.enterKey&&j[0].click(),(k.parent().hasClass(s)&&f.openOnClick||c.support.touch)&&(o||i||b.preventDefault(),d.clicked=!0,e=m.is(":visible")?v:r,(f.closeOnClick||e!=v)&&d[e](k))}},_documentClick:function(a){_(this.element[0],a.target)||(this.clicked=!1)},_focus:function(b){var c=this,d=b.target,f=c._hoverItem(),g=e();return d==c.wrapper[0]||a(d).is(":kendoFocusable")?(g===b.currentTarget&&(f.length?c._moveHover([],f):c._oldHoverItem||c._moveHover([],c.wrapper.children().first())),void 0):(b.stopPropagation(),a(d).closest(".k-content").closest(".k-group").closest(".k-item").addClass(M),c.wrapper.focus(),void 0)},_keydown:function(a){var f,g,h,b=this,d=a.keyCode,e=b._oldHoverItem,i=c.support.isRtl(b.wrapper);if(a.target==a.currentTarget||d==m.ESC){if(e||(e=b._oldHoverItem=b._hoverItem()),g=b._itemBelongsToVertival(e),h=b._itemHasChildren(e),d==m.RIGHT)f=b[i?"_itemLeft":"_itemRight"](e,g,h);else if(d==m.LEFT)f=b[i?"_itemRight":"_itemLeft"](e,g,h);else if(d==m.DOWN)f=b._itemDown(e,g,h);else if(d==m.UP)f=b._itemUp(e,g,h);else if(d==m.ESC)f=b._itemEsc(e,g);else if(d==m.ENTER||d==m.SPACEBAR)f=e.children(".k-link"),f.length>0&&(b._click({target:f[0],preventDefault:function(){},enterKey:!0}),b._moveHover(e,b._findRootParent(e)));else if(d==m.TAB)return f=b._findRootParent(e),b._moveHover(e,f),b._checkActiveElement(),void 0;f&&f[0]&&(a.preventDefault(),a.stopPropagation())}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(a){var b=this.wrapper.hasClass("k-menu-vertical");return a.length?a.parent().hasClass("k-group")||b:b},_itemHasChildren:function(a){return a.length?a.children("ul.k-group, div.k-animation-container").length>0:!1},_moveHover:function(a,b){var c=this,d=c._ariaId;a.length&&b.length&&(a.removeClass(M),a[0].id===d&&a.removeAttr("id")),b.length&&(b[0].id&&(d=b[0].id),b.addClass(M),c._oldHoverItem=b,d&&(c.element.removeAttr("aria-activedescendant"),b.attr("id",d),c.element.attr("aria-activedescendant",d)))},_findRootParent:function(a){return a.parent().hasClass("k-menu")?a:a.parentsUntil(".k-menu","li.k-item").last()},_isRootItem:function(a){return a.parent().hasClass("k-menu")},_itemRight:function(a,b,c){var e,f,d=this;if(!a.hasClass(N))return b?c?(d.open(a),e=a.find(".k-group").children().first()):"horizontal"==d.options.orientation&&(f=d._findRootParent(a),d.close(f),e=f.nextAll(U)):(e=a.nextAll(U),e.length||(e=a.prevAll(V))),e&&!e.length?e=d.wrapper.children(".k-item").first():e||(e=[]),d._moveHover(a,e),e},_itemLeft:function(a,b){var d,c=this;return b?(d=a.parent().closest(".k-item"),c.close(d),c._isRootItem(d)&&"horizontal"==c.options.orientation&&(d=d.prevAll(U))):(d=a.prevAll(U),d.length||(d=a.nextAll(V))),d.length||(d=c.wrapper.children(".k-item").last()),c._moveHover(a,d),d},_itemDown:function(a,b,c){var e,d=this;if(b)e=a.nextAll(U);else{if(!c||a.hasClass(N))return;d.open(a),e=a.find(".k-group").children().first()}return!e.length&&a.length?e=a.parent().children().first():a.length||(e=d.wrapper.children(".k-item").first()),d._moveHover(a,e),e},_itemUp:function(a,b){var d,c=this;if(b)return d=a.prevAll(U),!d.length&&a.length?d=a.parent().children().last():a.length||(d=c.wrapper.children(".k-item").last()),c._moveHover(a,d),d},_itemEsc:function(a,b){var d,c=this;return b?(d=a.parent().closest(".k-item"),c.close(d),c._moveHover(a,d),d):a},_focusHandler:function(b){var d=this,e=a(c.eventTarget(b)).closest(P);setTimeout(function(){d._moveHover([],e),e.children(".k-content")[0]&&e.parent().closest(".k-item").removeClass(M)},200)},_animations:function(a){a&&"animation"in a&&!a.animation&&(a.animation={open:{effects:{}},close:{hide:!0,effects:{}}})}});i(db,{renderItem:function(a){a=i({menu:{},group:{}},a);var b=X.empty,c=a.item;return X.item(i(a,{image:c.imageUrl?X.image:b,sprite:c.spriteCssClass?X.sprite:b,itemWrapper:X.itemWrapper,renderContent:db.renderContent,arrow:c.items||c.content?X.arrow:b,subGroup:db.renderGroup},Y))},renderGroup:function(a){return X.group(i({renderItems:function(a){for(var b="",c=0,d=a.items,e=d?d.length:0,f=i({length:e},a.group);e>c;c++)b+=db.renderItem(i(a,{group:f,item:i({index:c},d[c])}));return b}},a,Y))},renderContent:function(a){return X.content(i(a,Y))}}),c.ui.plugin(db)}(window.kendo.jQuery),kendo_module({id:"editable",name:"Editable",category:"framework",depends:["datepicker","numerictextbox","validator","binder"],hidden:!0}),function(a,b){function o(b){return b=null!=b?b:"",b.type||a.type(b)||"string"}function p(b){b.find(":input:not(:button, ["+c.attr("role")+"=upload], ["+c.attr("skip")+"], [type=file]), select").each(function(){var b=c.attr("bind"),d=this.getAttribute(b)||"",e="checkbox"===this.type||"radio"===this.type?"checked:":"value:",f=this.name;-1===d.indexOf(e)&&f&&(d+=(d.length?",":"")+e+f,a(this).attr(b,d))})}function q(a){var f,l,b=(a.model.fields||a.model)[a.field],d=o(b),e=b?b.validation:{},g=c.attr("type"),k=c.attr("bind"),m={name:a.field};for(f in e)l=e[f],j(f,n)>=0?m[g]=f:h(l)||(m[f]=i(l)?l.value||f:l),m[c.attr(f+"-msg")]=l.message;return j(d,n)>=0&&(m[g]=d),m[k]=("boolean"===d?"checked:":"value:")+a.field,m}function r(a){var b,c,d,e,f,g;if(a&&a.length)for(g=[],b=0,c=a.length;c>b;b++)d=a[b],f=d.text||d.value||d,e=null==d.value?d.text||d:d.value,g[b]={text:f,value:e};return g}function t(a,b){var d,e,c=a?a.validation||{}:{};for(d in c)e=c[d],i(e)&&e.value&&(e=e.value),h(e)&&(b[d]=e)}var c=window.kendo,d=c.ui,e=d.Widget,f=a.extend,g=c.support.browser.msie&&c.support.browser.version<9,h=c.isFunction,i=a.isPlainObject,j=a.inArray,k=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,l='<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',m="change",n=["url","email","number","date","boolean"],s={number:function(b,d){var e=q(d);a('<input type="text"/>').attr(e).appendTo(b).kendoNumericTextBox({format:d.format}),a("<span "+c.attr("for")+'="'+d.field+'" class="k-invalid-msg"/>').hide().appendTo(b)},date:function(b,d){var e=q(d),f=d.format;f&&(f=c._extractFormat(f)),e[c.attr("format")]=f,a('<input type="text"/>').attr(e).appendTo(b).kendoDatePicker({format:d.format}),a("<span "+c.attr("for")+'="'+d.field+'" class="k-invalid-msg"/>').hide().appendTo(b)},string:function(b,c){var d=q(c);a('<input type="text" class="k-input k-textbox"/>').attr(d).appendTo(b)},"boolean":function(b,c){var d=q(c);a('<input type="checkbox" />').attr(d).appendTo(b)},values:function(b,d){var e=q(d);a("<select "+c.attr("text-field")+'="text"'+c.attr("value-field")+'="value"'+c.attr("source")+"='"+c.stringify(r(d.values)).replace(/\'/g,"&apos;")+"'"+c.attr("role")+'="dropdownlist"/>').attr(e).appendTo(b),a("<span "+c.attr("for")+'="'+d.field+'" class="k-invalid-msg"/>').hide().appendTo(b)}},u=e.extend({init:function(b,c){var d=this;e.fn.init.call(d,b,c),d._validateProxy=a.proxy(d._validate,d),d.refresh()},events:[m],options:{name:"Editable",editors:s,clearContainer:!0,errorTemplate:l},editor:function(a,b){var d=this,e=d.options.editors,g=i(a),h=g?a.field:a,j=d.options.model||{},l=g&&a.values,m=l?"values":o(b),n=g&&a.editor,p=n?a.editor:e[m],q=d.element.find("["+c.attr("container-for")+"="+h.replace(k,"\\$1")+"]");p=p?p:e.string,n&&"string"==typeof a.editor&&(p=function(b){b.append(a.editor)}),q=q.length?q:d.element,p(q,f(!0,{},g?a:{field:h},{model:j}))},_validate:function(b){var f,d=this,e="boolean"==typeof b.value,g=d._validationEventInProgress,h={};h[b.field]=b.value,f=a(":input["+c.attr("bind")+'="'+(e?"checked:":"value:")+b.field.replace(k,"\\$1")+'"]',d.element);try{d._validationEventInProgress=!0,(!d.validatable.validateInput(f)||!g&&d.trigger(m,{values:h}))&&b.preventDefault()}finally{d._validationEventInProgress=!1}},end:function(){return this.validatable.validate()},destroy:function(){var a=this;e.fn.destroy.call(a),a.options.model.unbind("set",a._validateProxy),c.unbind(a.element),c.destroy(a.element),a.element.removeData("kendoValidator")},refresh:function(){var e,f,m,n,o,q,r,d=this,h=d.options.fields||[],j=d.options.clearContainer?d.element.empty():d.element,k=d.options.model||{},l={};for(a.isArray(h)||(h=[h]),e=0,f=h.length;f>e;e++)m=h[e],n=i(m),o=n?m.field:m,q=(k.fields||k)[o],t(q,l),d.editor(m,q);if(!f){r=k.fields||k;for(o in r)t(r[o],l)}p(j),c.bind(j,d.options.model),d.options.model.bind("set",d._validateProxy),d.validatable=j.kendoValidator({validateOnBlur:!1,errorTemplate:d.options.errorTemplate||b,rules:l}).data("kendoValidator");var s=j.find(":kendoFocusable:first").focus();g&&s.focus()}});d.plugin(u)}(window.kendo.jQuery),kendo_module({id:"filtermenu",name:"Filtering Menu",category:"framework",depends:["datepicker","numerictextbox","dropdownlist"],advanced:!0}),function(a){function s(b,c){b.filters&&(b.filters=a.grep(b.filters,function(a){return s(a,c),a.filters?a.filters.length:a.field!=c}))}function t(a){var b,c,d,e,f,g;if(a&&a.length)for(g=[],b=0,c=a.length;c>b;b++)d=a[b],f=d.text||d.value||d,e=null==d.value?d.text||d:d.value,g[b]={text:f,value:e};return g}function u(b,c){return a.grep(b,function(b){return b.filters?(b.filters=a.grep(b.filters,function(a){return a.field!=c}),b.filters.length):b.field!=c})}var c=window.kendo,d=c.ui,e=a.proxy,f="kendoPopup",g="init",h=".kendoFilterMenu",i="Is equal to",j="Is not equal to",k={number:"numerictextbox",date:"datepicker"},l={string:"text",number:"number",date:"date"},m=c.isFunction,n=d.Widget,o='<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>',p='<div><div class="k-filter-help-text">#=messages.info#</div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>',q='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=field#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list k-secondary"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[0].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[0].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#if(extra){#</ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="and" />#=messages.and#</label></li><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="or" />#=messages.or#</label></li></ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[1].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[1].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[1].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#}#</ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></div></form></div>',r='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=field#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list k-secondary"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label></li><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label></li></ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></form></div>',v=n.extend({init:function(b,d){var i,j,k,l,f=this,g="string";n.fn.init.call(f,b,d),i=f.operators=d.operators||{},b=f.element,d=f.options,d.appendToElement||(k=b.addClass("k-filterable").find(".k-grid-filter"),k[0]||(k=b.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")),k.attr("tabindex",-1).on("click"+h,e(f._click,f))),f.link=k||a(),f.dataSource=d.dataSource,f.field=d.field||b.attr(c.attr("field")),f.model=f.dataSource.reader.model,f._parse=function(a){return a+""},f.model&&f.model.fields&&(l=f.model.fields[f.field],l&&(g=l.type||"string",l.parse&&(f._parse=e(l.parse,l)))),d.values&&(g="enums"),f.type=g,i=i[g]||d.operators[g];for(j in i)break;f._defaultFilter=function(){return{field:f.field,operator:j||"eq",value:""}},f._refreshHandler=e(f.refresh,f),f.dataSource.bind("change",f._refreshHandler),d.appendToElement?f._init():f.refresh()},_init:function(){var i,b=this,d=b.options.ui,f=m(d);b.pane=b.element.closest(c.roleSelector("pane")).data("kendoMobilePane"),b.pane&&(b._isMobile=!0),f||(i=d||k[b.type]),b._isMobile?b._createMobileForm(i):b._createForm(i),b.form.on("submit"+h,e(b._submit,b)).on("reset"+h,e(b._reset,b)),f&&b.form.find(".k-textbox").removeClass("k-textbox").each(function(){d(a(this))}),b.form.find("["+c.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+c.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+c.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+c.attr("role")+"=datepicker]").removeClass("k-textbox"),b.refresh(),b.trigger(g,{field:b.field,container:b.form})},_createForm:function(b){var d=this,g=d.options,i=d.operators||{},j=d.type;i=i[j]||g.operators[j],d.form=a('<form class="k-filter-menu k-secondary"/>').html(c.template("boolean"===j?o:p)({field:d.field,format:g.format,ns:c.ns,messages:g.messages,extra:g.extra,operators:i,type:j,role:b,values:t(g.values)})),g.appendToElement?(d.element.append(d.form),d.popup=d.element.closest(".k-popup").data(f)):d.popup=d.form[f]({anchor:d.link,open:e(d._open,d),activate:e(d._activate,d),close:d.options.closeCallback}).data(f),d.form.on("keydown"+h,e(d._keydown,d))},_createMobileForm:function(b){var d=this,e=d.options,f=d.operators||{},g=d.type;
f=f[g]||e.operators[g],d.form=a("<div />").html(c.template("boolean"===g?r:q)({field:d.field,format:e.format,ns:c.ns,messages:e.messages,extra:e.extra,operators:f,type:g,role:b,useRole:!c.support.input.date&&"date"===g||"number"===g,inputType:l[g],values:t(e.values)})),d.view=d.pane.append(d.form.html()),d.form=d.view.element.find("form"),d.view.element.on("click",".k-submit",function(a){d.form.submit(),a.preventDefault()}).on("click",".k-cancel",function(a){d._closeForm(),a.preventDefault()})},refresh:function(){var a=this,b=a.dataSource.filter()||{filters:[],logic:"and"};a.filterModel=c.observable({logic:"and",filters:[a._defaultFilter(),a._defaultFilter()]}),a.form&&c.bind(a.form.children().first(),a.filterModel),a._bind(b)?a.link.addClass("k-state-active"):a.link.removeClass("k-state-active")},destroy:function(){var a=this;n.fn.destroy.call(a),a.form&&(c.unbind(a.form),c.destroy(a.form),a.form.unbind(h),a.popup&&a.popup.destroy()),a.view&&a.view.purge(),a.link.unbind(h),a._refreshHandler&&a.dataSource.unbind("change",a._refreshHandler)},_bind:function(a){var d,e,i,j,b=this,c=a.filters,f=!1,g=0,h=b.filterModel;for(d=0,e=c.length;e>d;d++)j=c[d],j.field==b.field?(h.set("logic",a.logic),i=h.filters[g],i||(h.filters.push({field:b.field}),i=h.filters[g]),i.set("value",b._parse(j.value)),i.set("operator",j.operator),g++,f=!0):j.filters&&(f=f||b._bind(j));return f},_merge:function(b){var f,h,i,c=this,d=b.logic||"and",e=b.filters,g=c.dataSource.filter()||{filters:[],logic:"and"};for(s(g,c.field),e=a.grep(e,function(a){return""!==a.value&&null!=a.value}),h=0,i=e.length;i>h;h++)f=e[h],f.value=c._parse(f.value);return e.length&&(g.filters.length?(b.filters=e,"and"!==g.logic&&(g.filters=[{logic:g.logic,filters:g.filters}],g.logic="and"),e.length>1?g.filters.push(b):g.filters.push(e[0])):(g.filters=e,g.logic=d)),g},filter:function(a){a=this._merge(a),a.filters.length&&this.dataSource.filter(a)},clear:function(){var b=this,c=b.dataSource.filter()||{filters:[]};c.filters=a.grep(c.filters,function(a){return a.filters?(a.filters=u(a.filters,b.field),a.filters.length):a.field!=b.field}),c.filters.length||(c=null),b.dataSource.filter(c)},_submit:function(a){a.preventDefault(),this.filter(this.filterModel.toJSON()),this._closeForm()},_reset:function(){this.clear(),this._closeForm()},_closeForm:function(){this._isMobile?this.pane.navigate("",this.options.animations.right):this.popup.close()},_click:function(a){a.preventDefault(),a.stopPropagation(),this.popup||this.pane||this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle()},_open:function(){var b;a(".k-filter-menu").not(this.form).each(function(){b=a(this).data(f),b&&b.close()})},_activate:function(){this.form.find(":kendoFocusable:first").focus()},_keydown:function(a){a.keyCode==c.keys.ESC&&this.popup.close()},events:[g],options:{name:"FilterMenu",extra:!0,appendToElement:!1,type:"string",operators:{string:{eq:i,neq:j,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:i,neq:j,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:i,neq:j,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:i,neq:j}},messages:{info:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-",operator:"Operator",value:"Value",cancel:"Cancel"},animations:{left:"slide",right:"slide:right"}}});d.plugin(v)}(window.kendo.jQuery),kendo_module({id:"panelbar",name:"PanelBar",category:"web",description:"The PanelBar widget displays hierarchical data as a multi-level expandable panel bar.",depends:["core"]}),function(a,b){function $(b){b=a(b),b.children(p).children(".k-icon").remove(),b.filter(":has(.k-panel),:has(.k-content)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var b=a(this),c=b.parent();b.append("<span class='k-icon "+(c.hasClass(E)?"k-i-arrow-n k-panelbar-collapse":"k-i-arrow-s k-panelbar-expand")+"'/>")})}function _(b){b=a(b),b.filter(".k-first:not(:first-child)").removeClass(v),b.filter(".k-last:not(:last-child)").removeClass(n),b.filter(":first-child").addClass(v),b.filter(":last-child").addClass(n)}var c=window.kendo,d=c.ui,e=c.keys,f=a.extend,g=a.each,h=c.template,i=d.Widget,j=/^(ul|a|div)$/i,k=".kendoPanelBar",l="img",m="href",n="k-last",o="k-link",p="."+o,q="error",r=".k-item",s=".k-group",t=s+":visible",u="k-image",v="k-first",w="expand",x="select",y="k-content",z="activate",A="collapse",B="mouseenter",C="mouseleave",D="contentLoad",E="k-state-active",F="> .k-panel",G="> .k-content",H="k-state-focused",I="k-state-disabled",J="k-state-selected",K="."+J,L="k-state-highlight",M=r+":not(.k-state-disabled)",N=M+" > .k-link",O=r+".k-state-disabled > .k-link",P="> li > "+K+", .k-panel > li > "+K,Q="k-state-default",R="aria-disabled",S="aria-expanded",T="aria-hidden",U="aria-selected",V=":visible",W=":empty",X="single",Y={content:h("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:h("<ul role='group' aria-hidden='true' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:h("<#= tag(item) # class='#= textClass(item, group) #' #= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:h("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:h("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:h("<span class='#= arrowClass(item) #'></span>"),sprite:h("<span class='k-sprite #= spriteCssClass #'></span>"),empty:h("")},Z={aria:function(a){var b="";return(a.items||a.content||a.contentUrl)&&(b+=S+"='"+(a.expanded?"true":"false")+"' "),a.enabled===!1&&(b+=R+"='true'"),b},wrapperCssClass:function(a,b){var c="k-item",d=b.index;return c+=b.enabled===!1?" "+I:b.expanded===!0?" "+E:" k-state-default",0===d&&(c+=" k-first"),d==a.length-1&&(c+=" k-last"),b.cssClass&&(c+=" "+b.cssClass),c},textClass:function(a,b){var c=o;return b.firstLevel&&(c+=" k-header"),c},textAttributes:function(a){return a.url?" href='"+a.url+"'":""},arrowClass:function(a){var b="k-icon";return b+=a.expanded?" k-i-arrow-n k-panelbar-collapse":" k-i-arrow-s k-panelbar-expand"},text:function(a){return a.encoded===!1?a.text:c.htmlEncode(a.text)},tag:function(a){return a.url||a.contentUrl?"a":"span"},groupAttributes:function(a){return a.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(a){return a.item.expanded!==!0?" style='display:none'":""},content:function(a){return a.content?a.content:a.contentUrl?"":"&nbsp;"},contentUrl:function(a){return a.contentUrl?'href="'+a.contentUrl+'"':""}},ab=i.extend({init:function(b,d){var f,e=this;i.fn.init.call(e,b,d),b=e.wrapper=e.element.addClass("k-widget k-reset k-header k-panelbar"),d=e.options,b[0].id&&(e._itemId=b[0].id+"_pb_active"),e._tabindex(),e._initData(d),e._updateClasses(),e._animations(d),b.on("click"+k,N,function(b){e._click(a(b.currentTarget))&&b.preventDefault()}).on(B+k+" "+C+k,N,e._toggleHover).on("click"+k,O,!1).on("keydown"+k,a.proxy(e._keydown,e)).on("focus"+k,function(){var a=e.select();e._current(a[0]?a:e._first())}).on("blur"+k,function(){e._current(null)}).attr("role","menu"),f=b.find("li."+E+" > ."+y),f[0]&&e.expand(f.parent(),!1),c.notify(e)},events:[w,A,x,z,q,D],options:{name:"PanelBar",animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},expandMode:"multiple"},destroy:function(){i.fn.destroy.call(this),this.element.off(k),c.destroy(this.element)},_initData:function(a){var b=this;a.dataSource&&(b.element.empty(),b.append(a.dataSource,b.element))},setOptions:function(a){var b=this.options.animation;this._animations(a),a.animation=f(!0,b,a.animation),"dataSource"in a&&this._initData(a),i.fn.setOptions.call(this,a)},expand:function(b,c){var d=this,e={};return c=c!==!1,b=this.element.find(b),b.each(function(f,g){g=a(g);var h=g.find(F).add(g.find(G));if(!g.hasClass(I)&&h.length>0){if(d.options.expandMode==X&&d._collapseAllExpanded(g))return d;b.find("."+L).removeClass(L),g.addClass(L),c||(e=d.options.animation,d.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),d._triggerEvent(w,g)||d._toggleItem(g,!1),c||(d.options.animation=e)}}),d},collapse:function(b,c){var d=this,e={};return c=c!==!1,b=d.element.find(b),b.each(function(b,f){f=a(f);var g=f.find(F).add(f.find(G));!f.hasClass(I)&&g.is(V)&&(f.removeClass(L),c||(e=d.options.animation,d.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),d._triggerEvent(A,f)||d._toggleItem(f,!0),c||(d.options.animation=e))}),d},_toggleDisabled:function(a,b){a=this.element.find(a),a.toggleClass(Q,b).toggleClass(I,!b).attr(R,!b)},select:function(c){var d=this;return c===b?d.element.find(P).parent():(d.element.find(c).each(function(){var b=a(this),c=b.children(p);return b.hasClass(I)?d:(d._updateSelected(c),void 0)}),d)},enable:function(a,b){return this._toggleDisabled(a,b!==!1),this},disable:function(a){return this._toggleDisabled(a,!1),this},append:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.length?b.find(F):null);return g(c.items,function(){c.group.append(this),_(this)}),$(b),_(c.group.find(".k-first, .k-last")),c.group.height("auto"),this},insertBefore:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());return g(c.items,function(){b.before(this),_(this)}),_(b),c.group.height("auto"),this},insertAfter:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());return g(c.items,function(){b.after(this),_(this)}),_(b),c.group.height("auto"),this},remove:function(a){a=this.element.find(a);var b=this,c=a.parentsUntil(b.element,r),d=a.parent("ul");return a.remove(),!d||d.hasClass("k-panelbar")||d.children(r).length||d.remove(),c.length&&(c=c.eq(0),$(c),_(c)),b},reload:function(b){var c=this;b=c.element.find(b),b.each(function(){var b=a(this);c._ajaxRequest(b,b.children("."+y),!b.is(V))})},_first:function(){return this.element.children(M).first()},_last:function(){var a=this.element.children(M).last(),b=a.children(t);return b[0]?b.children(M).last():a},_current:function(a){var c=this,d=c._focused,e=c._itemId;return a===b?d:(c.element.removeAttr("aria-activedescendant"),d&&(d[0].id===e&&d.removeAttr("id"),d.children(p).removeClass(H)),a&&(e=a[0].id||e,a.attr("id",e).children(p).addClass(H),c.element.attr("aria-activedescendant",e)),c._focused=a,void 0)},_keydown:function(a){var b=this,c=a.keyCode,d=b._current();a.target==a.currentTarget&&(c==e.DOWN||c==e.RIGHT?(b._current(b._nextItem(d)),a.preventDefault()):c==e.UP||c==e.LEFT?(b._current(b._prevItem(d)),a.preventDefault()):c==e.ENTER||c==e.SPACEBAR?(b._click(d.children(p)),a.preventDefault()):c==e.HOME?(b._current(b._first()),a.preventDefault()):c==e.END&&(b._current(b._last()),a.preventDefault()))},_nextItem:function(a){if(!a)return this._first();var b=a.children(t),c=a.next();return b[0]&&(c=b.children("."+v)),c[0]||(c=a.parent(t).parent(r).next()),c[0]&&c.is(":visible")||(c=this._first()),c.hasClass(I)&&(c=this._nextItem(c)),c},_prevItem:function(a){if(!a)return this._last();var c,b=a.prev();if(b[0])for(c=b;c[0];)c=c.children(t).children("."+n),c[0]&&(b=c);else b=a.parent(t).parent(r),b[0]||(b=this._last());return b.hasClass(I)&&(b=this._prevItem(b)),b},_insert:function(b,c,d){var g,j,e=this,h=a.isPlainObject(b),i=c&&c[0];return i||(d=e.element),j={firstLevel:d.hasClass("k-panelbar"),expanded:d.parent().hasClass(E),length:d.children().length},i&&!d.length&&(d=a(ab.renderGroup({group:j})).appendTo(c)),h||a.isArray(b)?(g=a.map(h?[b]:b,function(b,c){return"string"==typeof b?a(b):a(ab.renderItem({group:j,item:f(b,{index:c})}))}),i&&c.attr(S,!1)):(g=a(b),e._updateItemsClasses(g)),{items:g,group:d}},_toggleHover:function(b){var c=a(b.currentTarget);c.parents("li."+I).length||c.toggleClass("k-state-hover",b.type==B)},_updateClasses:function(){var c,d,b=this;c=b.element.find("li > ul").not(function(){return a(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group"),c.parent().attr(S,!1).not("."+E).children("ul").attr(T,!0).hide(),d=b.element.add(c).children(),b._updateItemsClasses(d),$(d),_(d)},_updateItemsClasses:function(a){for(var b=a.length,c=0;b>c;c++)this._updateItemClasses(a[c],c)},_updateItemClasses:function(b,d){var i,k,e=this._selected,f=this.options.contentUrls,g=f&&f[d],h=this.element[0];b=a(b).addClass("k-item").attr("role","menuitem"),c.support.browser.msie&&b.css("list-style-position","inside").css("list-style-position",""),b.children(l).addClass(u),k=b.children("a").addClass(o),k[0]&&(k.attr("href",g),k.children(l).addClass(u)),b.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default"),b.filter("li[disabled]").addClass("k-state-disabled").attr(R,!0).removeAttr("disabled"),b.children("div").addClass(y).attr("role","region").attr(T,!0).hide().parent().attr(S,!1),k=b.children(K),k[0]&&(e&&e.removeAttr(U).children(K).removeClass(J),k.addClass(J),this._selected=b.attr(U,!0)),b.children(p)[0]||(i="<span class='"+o+"'/>",f&&f[d]&&b[0].parentNode==h&&(i='<a class="k-link k-header" href="'+f[d]+'"/>'),b.contents().filter(function(){return!(this.nodeName.match(j)||3==this.nodeType&&!a.trim(this.nodeValue))}).wrapAll(i)),b.parent(".k-panelbar")[0]&&b.children(p).addClass("k-header")},_click:function(a){var d,e,f,g,b=this,c=b.element;if(!a.parents("li."+I).length&&a.closest(".k-widget")[0]==c[0]){var h=a.closest(p),i=h.closest(r);if(b._updateSelected(h),e=i.find(F).add(i.find(G)),f=h.attr(m),g=f&&("#"==f.charAt(f.length-1)||-1!=f.indexOf("#"+b.element[0].id+"-")),d=!(!g&&!e.length),e.data("animating"))return d;if(b._triggerEvent(x,i)&&(d=!0),d!==!1){if(b.options.expandMode==X&&b._collapseAllExpanded(i))return d;if(e.length){var j=e.is(V);b._triggerEvent(j?A:w,i)||(d=b._toggleItem(i,j))}return d}}},_toggleItem:function(a,b){var e,f,c=this,d=a.find(F);return d.length?(this._toggleGroup(d,b),e=!0):(f=a.children("."+y),f.length&&(e=!0,f.is(W)?c._ajaxRequest(a,f,b):c._toggleGroup(f,b))),e},_toggleGroup:function(a,b){var c=this,d=c.options.animation,e=d.expand,g=f({},d.collapse),h=g&&"effects"in g;a.is(V)==b&&(a.parent().attr(S,!b).attr(T,b).toggleClass(Q,b).toggleClass(E,!b).find("> .k-link > .k-icon").toggleClass("k-i-arrow-n",!b).toggleClass("k-panelbar-collapse",!b).toggleClass("k-i-arrow-s",b).toggleClass("k-panelbar-expand",b),e=b?f(h?g:f({reverse:!0},e),{hide:!0}):f({complete:function(a){c._triggerEvent(z,a.closest(r))}},e),a.kendoStop(!0,!0).kendoAnimate(e))},_collapseAllExpanded:function(b){var d,c=this,e=!1;if(b.children(p).hasClass("k-header")){var f=b.find(F).add(b.find(G));return f.is(V)&&(e=!0),f.is(V)||0===f.length||(d=a(c.element).children(),d.find(F).add(d.find(G)).filter(function(){return a(this).is(V)}).each(function(b,d){d=a(d),e=c._triggerEvent(A,d.closest(r)),e||c._toggleGroup(d,!0)})),e}},_ajaxRequest:function(b,c,d){var e=this,f=b.find(".k-panelbar-collapse, .k-panelbar-expand"),g=b.find(p),h=setTimeout(function(){f.addClass("k-loading")},100),i={},j=g.attr(m);a.ajax({type:"GET",cache:!1,url:j,dataType:"html",data:i,error:function(a,b){f.removeClass("k-loading"),e.trigger(q,{xhr:a,status:b})&&this.complete()},complete:function(){clearTimeout(h),f.removeClass("k-loading")},success:function(a){try{c.html(a)}catch(f){var g=window.console;g&&g.error&&g.error(f.name+": "+f.message+" in "+j),this.error(this.xhr,"error")}e._toggleGroup(c,d),e.trigger(D,{item:b[0],contentElement:c[0]})}})},_triggerEvent:function(a,b){var c=this;return c.trigger(a,{item:b[0]})},_updateSelected:function(a){var b=this,c=b.element,d=a.parent(r),e=b._selected;e&&e.removeAttr(U),b._selected=d.attr(U,!0),c.find(P).removeClass(J),c.find("> ."+L+", .k-panel > ."+L).removeClass(L),a.addClass(J),a.parentsUntil(c,r).filter(":has(.k-header)").addClass(L),b._current(d)},_animations:function(a){a&&"animation"in a&&!a.animation&&(a.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}})}});f(ab,{renderItem:function(a){a=f({panelBar:{},group:{}},a);var b=Y.empty,c=a.item;return Y.item(f(a,{image:c.imageUrl?Y.image:b,sprite:c.spriteCssClass?Y.sprite:b,itemWrapper:Y.itemWrapper,renderContent:ab.renderContent,arrow:c.items||c.content||c.contentUrl?Y.arrow:b,subGroup:ab.renderGroup},Z))},renderGroup:function(a){return Y.group(f({renderItems:function(a){for(var b="",c=0,d=a.items,e=d?d.length:0,g=f({length:e},a.group);e>c;c++)b+=ab.renderItem(f(a,{group:g,item:f({index:c},d[c])}));return b}},a,Z))},renderContent:function(a){return Y.content(f(a,Z))}}),c.ui.plugin(ab)}(window.kendo.jQuery),kendo_module({id:"progressbar",name:"ProgressBar",category:"web",description:"The ProgressBar offers rich functionality for displaying and tracking progress",depends:["core"]}),function(a,b){var c=window.kendo,d=c.ui,e=d.Widget,f="horizontal",g="vertical",h=0,i=100,j=0,k=5,l="k-progressbar",m="k-progressbar-reverse",n="k-progressbar-indeterminate",o="k-complete",p="k-state-selected",q="k-progress-status",r="k-state-selected",s="k-state-default",t="k-state-disabled",u={VALUE:"value",PERCENT:"percent",CHUNK:"chunk"},v="change",w="complete",x="boolean",y=Math,z=a.extend,A=a.proxy,B=100,C=400,D=3,E={progressStatus:"<span class='k-progress-status-wrap'><span class='k-progress-status'></span></span>"},F=e.extend({init:function(a,b){var c=this;e.fn.init.call(this,a,b),b=c.options,c._progressProperty=b.orientation===f?"width":"height",c._fields(),b.value=c._validateValue(b.value),c._validateType(b.type),c._wrapper(),c._progressAnimation(),b.value!==b.min&&b.value!==!1&&c._updateProgress()},setOptions:function(a){var b=this;e.fn.setOptions.call(b,a),a.hasOwnProperty("reverse")&&b.wrapper.toggleClass("k-progressbar-reverse",a.reverse),a.hasOwnProperty("enable")&&b.enable(a.enable),b._progressAnimation(),b._validateValue(),b._updateProgress()},events:[v,w],options:{name:"ProgressBar",orientation:f,reverse:!1,min:h,max:i,value:j,enable:!0,type:u.VALUE,chunkCount:k,showStatus:!0,animation:{}},_fields:function(){var b=this;b._isStarted=!1,b.progressWrapper=b.progressStatus=a()},_validateType:function(b){var d=!1;if(a.each(u,function(a,c){return c===b?(d=!0,!1):void 0}),!d)throw new Error(c.format("Invalid ProgressBar type '{0}'",b))},_wrapper:function(){var e,a=this,b=a.wrapper=a.element,c=a.options,d=c.orientation;b.addClass("k-widget "+l),b.addClass(l+"-"+(d===f?f:g)),c.enable===!1&&b.addClass(t),c.reverse&&b.addClass(m),c.value===!1&&b.addClass(n),c.type===u.CHUNK?a._addChunkProgressWrapper():c.showStatus&&(a.progressStatus=a.wrapper.prepend(E.progressStatus).find("."+q),e=c.value!==!1?c.value:c.min,c.type===u.VALUE?a.progressStatus.text(e):a.progressStatus.text(a._calculatePercentage(e)+"%"))},value:function(a){return this._value(a)},_value:function(a){var e,c=this,d=c.options;return a===b?d.value:(typeof a!==x?(a=c._roundValue(a),isNaN(a)||(e=c._validateValue(a),e!==d.value&&(c.wrapper.removeClass(n),d.value=e,c._isStarted=!0,c._updateProgress()))):a||(c.wrapper.addClass(n),d.value=!1),void 0)},_roundValue:function(a){a=parseFloat(a);var b=y.pow(10,D);return y.floor(a*b)/b},_validateValue:function(a){var b=this,c=b.options;if(a!==!1){if(a<=c.min||a===!0)return c.min;if(a>=c.max)return c.max}else if(a===!1)return!1;return isNaN(b._roundValue(a))?c.min:a},_updateProgress:function(){var a=this,b=a.options,c=a._calculatePercentage();b.type===u.CHUNK?(a._updateChunks(c),a._onProgressUpdateAlways(b.value)):a._updateProgressWrapper(c)},_updateChunks:function(a){var j,b=this,c=b.options,d=c.chunkCount,e=parseInt(100*(B/d),10)/100,h=parseInt(100*a,10)/100,i=y.floor(h/e);j=c.orientation===f&&!c.reverse||c.orientation===g&&c.reverse?b.wrapper.find("li.k-item:lt("+i+")"):b.wrapper.find("li.k-item:gt(-"+(i+1)+")"),b.wrapper.find("."+r).removeClass(r).addClass(s),j.removeClass(s).addClass(r)},_updateProgressWrapper:function(a){var b=this,c=b.options,d=b.wrapper.find("."+p),e=b._isStarted?b._animation.duration:0,f={};0===d.length&&b._addRegularProgressWrapper(),f[b._progressProperty]=a+"%",b.progressWrapper.animate(f,{duration:e,start:A(b._onProgressAnimateStart,b),progress:A(b._onProgressAnimate,b),complete:A(b._onProgressAnimateComplete,b,c.value),always:A(b._onProgressUpdateAlways,b,c.value)})},_onProgressAnimateStart:function(){this.progressWrapper.show()},_onProgressAnimate:function(a){var e,b=this,c=b.options,d=parseFloat(a.elem.style[b._progressProperty],10);c.showStatus&&(e=1e4/parseFloat(b.progressWrapper[0].style[b._progressProperty]),b.progressWrapper.find(".k-progress-status-wrap").css(b._progressProperty,e+"%")),c.type!==u.CHUNK&&98>=d&&b.progressWrapper.removeClass(o)},_onProgressAnimateComplete:function(a){var b=this,c=b.options,d=parseFloat(b.progressWrapper[0].style[b._progressProperty]);c.type!==u.CHUNK&&d>98&&b.progressWrapper.addClass(o),c.showStatus&&(c.type===u.VALUE?b.progressStatus.text(a):b.progressStatus.text(y.floor(b._calculatePercentage(a))+"%")),a===c.min&&b.progressWrapper.hide()},_onProgressUpdateAlways:function(a){var b=this,c=b.options;b._isStarted&&b.trigger(v,{value:a}),a===c.max&&b._isStarted&&b.trigger(w,{value:c.max})},enable:function(a){var b=this,c=b.options;c.enable="undefined"==typeof a?!0:a,b.wrapper.toggleClass(t,!c.enable)},destroy:function(){var a=this;e.fn.destroy.call(a)},_addChunkProgressWrapper:function(){var a=this,b=a.options,c=a.wrapper,d=B/b.chunkCount,e="";b.chunkCount<=1&&(b.chunkCount=k),e+="<ul class='k-reset'>";for(var f=b.chunkCount-1;f>=0;f--)e+="<li class='k-item k-state-default'></li>";e+="</ul>",c.append(e).find(".k-item").css(a._progressProperty,d+"%").first().addClass("k-first").end().last().addClass("k-last"),a._normalizeChunkSize()},_normalizeChunkSize:function(){var a=this,b=a.options,c=a.wrapper.find(".k-item:last"),d=parseFloat(c[0].style[a._progressProperty]),e=B-b.chunkCount*d;e>0&&c.css(a._progressProperty,d+e+"%")},_addRegularProgressWrapper:function(){var b=this;b.progressWrapper=a("<div class='"+p+"'></div>").appendTo(b.wrapper),b.options.showStatus&&(b.progressWrapper.append(E.progressStatus),b.progressStatus=b.wrapper.find("."+q))},_calculateChunkSize:function(){var a=this,b=a.options.chunkCount,c=a.wrapper.find("ul.k-reset");return(parseInt(c.css(a._progressProperty),10)-(b-1))/b},_calculatePercentage:function(a){var c=this,d=c.options,e=a!==b?a:d.value,f=d.min,g=d.max;return c._onePercent=y.abs((g-f)/100),y.abs((e-f)/c._onePercent)},_progressAnimation:function(){var a=this,b=a.options,c=b.animation;a._animation=c===!1?{duration:0}:z({duration:C},b.animation)}});c.ui.plugin(F)}(window.kendo.jQuery),kendo_module({id:"tabstrip",name:"TabStrip",category:"web",description:"The TabStrip widget displays a collection of tabs with associated tab content.",depends:["data"]}),function(a,b){function O(b){b.children(n).addClass(v),b.children("a").addClass(q).children(n).addClass(v),b.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(F),b.filter("li[disabled]").addClass(E).removeAttr("disabled"),b.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(G+" "+J),b.attr("role","tab"),b.filter("."+G).attr("aria-selected",!0),b.each(function(){var b=a(this);b.children("."+q).length||b.contents().filter(function(){return!(this.nodeName.match(l)||3==this.nodeType&&!h(this.nodeValue))}).wrapAll("<a class='"+q+"'/>")})}function P(a){var b=a.children(".k-item");b.filter(".k-first:not(:first-child)").removeClass(w),b.filter(".k-last:not(:last-child)").removeClass(r),b.filter(":first-child").addClass(w),b.filter(":last-child").addClass(r)}var c=window.kendo,d=c.ui,e=c.keys,f=a.map,g=a.each,h=a.trim,i=a.extend,j=c.template,k=d.Widget,l=/^(a|div)$/i,m=".kendoTabStrip",n="img",o="href",p="prev",q="k-link",r="k-last",s="click",t="error",u=":empty",v="k-image",w="k-first",x="select",y="activate",z="k-content",A="contentUrl",B="mouseenter",C="mouseleave",D="contentLoad",E="k-state-disabled",F="k-state-default",G="k-state-active",H="k-state-focused",I="k-state-hover",J="k-tab-on-top",K=".k-item:not(."+E+")",L=".k-tabstrip-items > "+K+":not(."+G+")",M={content:j("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"),itemWrapper:j("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"),item:j("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #</li>"),image:j("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:j("<span class='k-sprite #= spriteCssClass #'></span>"),empty:j("")},N={wrapperCssClass:function(a,b){var c="k-item",d=b.index;return c+=b.enabled===!1?" k-state-disabled":" k-state-default",0===d&&(c+=" k-first"),d==a.length-1&&(c+=" k-last"),c},textAttributes:function(a){return a.url?" href='"+a.url+"'":""},text:function(a){return a.encoded===!1?a.text:c.htmlEncode(a.text)},tag:function(a){return a.url?"a":"span"},contentAttributes:function(a){return a.active!==!0?" style='display:none' aria-hidden='true' aria-expanded='false'":""},content:function(a){return a.content?a.content:a.contentUrl?"":"&nbsp;"},contentUrl:function(a){return a.contentUrl?c.attr("content-url")+'="'+a.contentUrl+'"':""}},Q=k.extend({init:function(b,d){var e=this;k.fn.init.call(e,b,d),e._animations(e.options),e.wrapper=e.element.is("ul")?e.element.wrapAll("<div />").parent():e.element,d=e.options,e._isRtl=c.support.isRtl(e.wrapper),e._tabindex(),e._updateClasses(),e._dataSource(),d.dataSource&&e.dataSource.fetch(),e.options.contentUrls&&e.wrapper.find(".k-tabstrip-items > .k-item").each(function(b,c){a(c).find(">."+q).data(A,e.options.contentUrls[b])}),e.wrapper.on(B+m+" "+C+m,L,e._toggleHover).on("keydown"+m,a.proxy(e._keydown,e)).on("focus"+m,a.proxy(e._active,e)).on("blur"+m,function(){e._current(null)}),e.wrapper.children(".k-tabstrip-items").on(s+m,".k-state-disabled .k-link",!1).on(s+m," > "+K,function(b){e.wrapper[0]!==document.activeElement&&e.wrapper.focus(),e._click(a(b.currentTarget))&&b.preventDefault()});var f=e.tabGroup.children("li."+G),g=e.contentHolder(f.index());g.length>0&&0===g[0].childNodes.length&&e.activateTab(f.eq(0)),e.element.attr("role","tablist"),e.element[0].id&&(e._ariaId=e.element[0].id+"_ts_active"),c.notify(e)},_active:function(){var a=this.tabGroup.children().filter("."+G);a=a[0]?a:this._endItem("first"),a[0]&&this._current(a)},_endItem:function(a){return this.tabGroup.children(K)[a]()},_item:function(a,b){var c;return c=b===p?"last":"first",a?(a=a[b](),a[0]||(a=this._endItem(c)),a.hasClass(E)&&(a=this._item(a,b)),a):this._endItem(c)},_current:function(a){var c=this,d=c._focused,e=c._ariaId;return a===b?d:(d&&(d[0].id===e&&d.removeAttr("id"),d.removeClass(H)),a&&(a.hasClass(G)||a.addClass(H),c.element.removeAttr("aria-activedescendant"),e=a[0].id||e,e&&(a.attr("id",e),c.element.attr("aria-activedescendant",e))),c._focused=a,void 0)},_keydown:function(a){var g,b=this,c=a.keyCode,d=b._current(),f=b._isRtl;if(a.target==a.currentTarget){if(c==e.DOWN||c==e.RIGHT)g=f?p:"next";else if(c==e.UP||c==e.LEFT)g=f?"next":p;else if(c==e.ENTER||c==e.SPACEBAR)b._click(d),a.preventDefault();else{if(c==e.HOME)return b._click(b._endItem("first")),a.preventDefault(),void 0;if(c==e.END)return b._click(b._endItem("last")),a.preventDefault(),void 0}g&&(b._click(b._item(d,g)),a.preventDefault())}},_dataSource:function(){var b=this;b.dataSource&&b._refreshHandler?b.dataSource.unbind("change",b._refreshHandler):b._refreshHandler=a.proxy(b.refresh,b),b.dataSource=c.data.DataSource.create(b.options.dataSource).bind("change",b._refreshHandler)},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),a.fetch()},_animations:function(a){a&&"animation"in a&&!a.animation&&(a.animation={open:{effects:{}},close:{effects:{}}})},refresh:function(a){var k,m,n,p,b=this,d=b.options,e=c.getter(d.dataTextField),f=c.getter(d.dataContentField),g=c.getter(d.dataContentUrlField),h=c.getter(d.dataImageUrlField),i=c.getter(d.dataUrlField),j=c.getter(d.dataSpriteCssClass),l=[],o=b.dataSource.view();for(a=a||{},n=a.action,n&&(o=a.items),k=0,p=o.length;p>k;k++)m={text:e(o[k])},d.dataContentField&&(m.content=f(o[k])),d.dataContentUrlField&&(m.contentUrl=g(o[k])),d.dataUrlField&&(m.url=i(o[k])),d.dataImageUrlField&&(m.imageUrl=h(o[k])),d.dataSpriteCssClass&&(m.spriteCssClass=j(o[k])),l[k]=m;if("add"==a.action)a.index<b.tabGroup.children().length?b.insertBefore(l,b.tabGroup.children().eq(a.index)):b.append(l);else if("remove"==a.action)for(k=0;k<o.length;k++)b.remove(a.index);else"itemchange"==a.action?(k=b.dataSource.view().indexOf(o[0]),a.field===d.dataTextField&&b.tabGroup.children().eq(k).find(".k-link").text(o[0].get(a.field))):(b.trigger("dataBinding"),b.remove("li"),b.append(l),b.trigger("dataBound"))},value:function(c){var d=this;return c===b?d.select().text():(c!=d.value()&&d.tabGroup.children().each(function(){a.trim(a(this).text())==c&&d.select(this)}),void 0)},items:function(){return this.tabGroup[0].children},setOptions:function(a){var b=this.options.animation;this._animations(a),a.animation=i(!0,b,a.animation),k.fn.setOptions.call(this,a)},events:[x,y,t,D,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:!1},destroy:function(){var a=this;k.fn.destroy.call(a),a._refreshHandler&&a.dataSource.unbind("change",a._refreshHandler),a.wrapper.off(m),c.destroy(a.wrapper)},select:function(b){var c=this;return 0===arguments.length?c.tabGroup.children("li."+G):(isNaN(b)||(b=c.tabGroup.children().get(b)),b=c.tabGroup.find(b),a(b).each(function(b,d){d=a(d),d.hasClass(G)||c.trigger(x,{item:d[0],contentElement:c.contentHolder(d.index())[0]})||c.activateTab(d)}),c)},enable:function(a,b){return this._toggleDisabled(a,b!==!1),this},disable:function(a){return this._toggleDisabled(a,!1),this},reload:function(b){b=this.tabGroup.find(b);var c=this;return b.each(function(){var b=a(this),d=b.find("."+q).data(A),e=c.contentHolder(b.index());d&&c.ajaxRequest(b,e,null,d)}),c},append:function(a){var b=this,c=b._create(a);return g(c.tabs,function(a){b.tabGroup.append(this),b.wrapper.append(c.contents[a])}),P(b.tabGroup),b._updateContentElements(),b},insertBefore:function(b,c){var d=this,e=d._create(b),f=a(d.contentElement(c.index()));return g(e.tabs,function(a){c.before(this),f.before(e.contents[a])}),P(d.tabGroup),d._updateContentElements(),d},insertAfter:function(b,c){var d=this,e=d._create(b),f=a(d.contentElement(c.index()));return g(e.tabs,function(a){c.after(this),f.after(e.contents[a])}),P(d.tabGroup),d._updateContentElements(),d},remove:function(b){var c=this,d=typeof b,e=a();return"string"===d?b=c.tabGroup.find(b):"number"===d&&(b=c.tabGroup.children().eq(b)),b.each(function(){e.push(c.contentElement(a(this).index()))}),b.remove(),e.remove(),c._updateContentElements(),c},_create:function(b){var e,g,c=a.isPlainObject(b),d=this;return c||a.isArray(b)?(b=a.isArray(b)?b:[b],e=f(b,function(b,c){return a(Q.renderItem({group:d.tabGroup,item:i(b,{index:c})}))}),g=f(b,function(b,c){return b.content||b.contentUrl?a(Q.renderContent({item:i(b,{index:c})})):void 0})):(e=a(b),g=a("<div class='"+z+"'/>"),O(e)),{tabs:e,contents:g}},_toggleDisabled:function(b,c){b=this.tabGroup.find(b),b.each(function(){a(this).toggleClass(F,c).toggleClass(E,!c)})},_updateClasses:function(){var d,e,f,c=this;c.wrapper.addClass("k-widget k-header k-tabstrip"),c.tabGroup=c.wrapper.children("ul").addClass("k-tabstrip-items k-reset"),c.tabGroup[0]||(c.tabGroup=a("<ul class='k-tabstrip-items k-reset'/>").appendTo(c.wrapper)),d=c.tabGroup.find("li").addClass("k-item"),d.length&&(e=d.filter("."+G).index(),f=e>=0?e:b,c.tabGroup.contents().filter(function(){return 3==this.nodeType&&!h(this.nodeValue)
}).remove()),e>=0&&d.eq(e).addClass(J),c.contentElements=c.wrapper.children("div"),c.contentElements.addClass(z).eq(f).addClass(G).css({display:"block"}),d.length&&(O(d),P(c.tabGroup),c._updateContentElements())},_updateContentElements:function(){var b=this,d=b.options.contentUrls||[],e=b.element.attr("id")||c.guid(),f=b.wrapper.children("div");b.tabGroup.find(".k-item").each(function(c){var g=f.eq(c),h=e+"-"+(c+1);this.setAttribute("aria-controls",h),!g.length&&d[c]?a("<div class='"+z+"'/>").appendTo(b.wrapper).attr("id",h):(g.attr("id",h),a(this).children(".k-loading")[0]||d[c]||a("<span class='k-loading k-complete'/>").prependTo(this)),g.attr("role","tabpanel"),g.filter(":not(."+G+")").attr("aria-hidden",!0).attr("aria-expanded",!1),g.filter("."+G).attr("aria-expanded",!0)}),b.contentElements=b.contentAnimators=b.wrapper.children("div"),c.kineticScrollNeeded&&c.mobile.ui.Scroller&&(c.touchScroller(b.contentElements),b.contentElements=b.contentElements.children(".km-scroll-container"))},_toggleHover:function(b){a(b.currentTarget).toggleClass(I,b.type==B)},_click:function(a){var g,h,b=this,c=a.find("."+q),d=c.attr(o),e=b.options.collapsible,f=b.contentHolder(a.index());if(a.closest(".k-widget")[0]==b.wrapper[0]){if(a.is("."+E+(e?"":",."+G)))return!0;if(h=c.data(A)||d&&("#"==d.charAt(d.length-1)||-1!=d.indexOf("#"+b.element[0].id+"-")),g=!d||h,b.tabGroup.children("[data-animating]").length)return g;if(b.trigger(x,{item:a[0],contentElement:f[0]}))return!0;if(g!==!1)return e&&a.is("."+G)?(b.deactivateTab(a),!0):(b.activateTab(a)&&(g=!0),g)}},deactivateTab:function(a){var b=this,d=b.options.animation,e=d.open,f=i({},d.close),g=f&&"effects"in f;a=b.tabGroup.find(a),f=i(g?f:i({reverse:!0},e),{hide:!0}),c.size(e.effects)?(a.kendoAddClass(F,{duration:e.duration}),a.kendoRemoveClass(G,{duration:e.duration})):(a.addClass(F),a.removeClass(G)),a.removeAttr("aria-selected"),b.contentAnimators.filter("."+G).kendoStop(!0,!0).kendoAnimate(f).removeClass(G).attr("aria-hidden",!0)},activateTab:function(a){a=this.tabGroup.find(a);var b=this,d=b.options.animation,e=d.open,f=i({},d.close),g=f&&"effects"in f,h=a.parent().children(),j=h.filter("."+G),k=h.index(a);f=i(g?f:i({reverse:!0},e),{hide:!0}),c.size(e.effects)?(j.kendoRemoveClass(G,{duration:f.duration}),a.kendoRemoveClass(I,{duration:f.duration})):(j.removeClass(G),a.removeClass(I));var l=b.contentAnimators;if(b.inRequest&&(b.xhr.abort(),b.inRequest=!1),0===l.length)return j.removeClass(J),a.addClass(J).css("z-index"),a.addClass(G),b._current(a),b.trigger("change"),!1;var m=l.filter("."+G),n=b.contentHolder(k),o=n.closest(".k-content");if(0===n.length)return m.removeClass(G).attr("aria-hidden",!0).kendoStop(!0,!0).kendoAnimate(f),!1;a.attr("data-animating",!0);var p=(a.children("."+q).data(A)||!1)&&n.is(u),r=function(){j.removeClass(J),a.addClass(J).css("z-index"),c.size(e.effects)?(j.kendoAddClass(F,{duration:e.duration}),a.kendoAddClass(G,{duration:e.duration})):(j.addClass(F),a.addClass(G)),j.removeAttr("aria-selected"),a.attr("aria-selected",!0),b._current(a),o.addClass(G).removeAttr("aria-hidden").kendoStop(!0,!0).attr("aria-expanded",!0).kendoAnimate(i({init:function(){b.trigger(y,{item:a[0],contentElement:n[0]})}},e,{complete:function(){a.removeAttr("data-animating")}}))},s=function(){p?(a.removeAttr("data-animating"),b.ajaxRequest(a,n,function(){a.attr("data-animating",!0),r(),b.trigger("change")})):(r(),b.trigger("change"))};return m.removeClass(G),m.attr("aria-hidden",!0),m.attr("aria-expanded",!1),m.length?m.kendoStop(!0,!0).kendoAnimate(i({complete:s},f)):s(),!0},contentElement:function(a){if(isNaN(a-0))return b;var d=this.contentElements&&this.contentElements[0]&&!c.kineticScrollNeeded?this.contentElements:this.contentAnimators,e=new RegExp("-"+(a+1)+"$");if(d)for(var f=0,g=d.length;g>f;f++)if(e.test(d.closest(".k-content")[f].id))return d[f];return b},contentHolder:function(b){var d=a(this.contentElement(b)),e=d.children(".km-scroll-container");return c.support.touch&&e[0]?e:d},ajaxRequest:function(b,c,d,e){b=this.tabGroup.find(b);var f=this,g=a.ajaxSettings.xhr,h=b.find("."+q),i={},j=!1,k=b.find(".k-loading").removeClass("k-complete");k[0]||(k=a("<span class='k-loading'/>").prependTo(b)),e=e||h.data(A)||h.attr(o),f.inRequest=!0,f.xhr=a.ajax({type:"GET",cache:!1,url:e,dataType:"html",data:i,xhr:function(){var b=this,c=g(),d=10,e=b.progressUpload?"progressUpload":b.progress?"progress":!1;return c&&a.each([c,c.upload],function(){this.addEventListener&&this.addEventListener("progress",function(a){e&&b[e](a)},!1)}),b.progress||(j=setInterval(function(){b.progress({lengthComputable:!0,loaded:Math.min(d,100),total:100})},100),d+=10),c},progress:function(a){if(a.lengthComputable){var b=parseInt(100*(a.loaded/a.total),10)+"%";k.width(b)}},error:function(a,b){f.trigger("error",{xhr:a,status:b})&&this.complete()},complete:function(){f.inRequest=!1,clearInterval(j),k.css("width","")},success:function(a){k.addClass("k-complete");try{c.html(a)}catch(g){var h=window.console;h&&h.error&&h.error(g.name+": "+g.message+" in "+e),this.error(this.xhr,"error")}d&&d.call(f,c),f.trigger(D,{item:b[0],contentElement:c[0]})}})}});i(Q,{renderItem:function(a){a=i({tabStrip:{},group:{}},a);var b=M.empty,c=a.item;return M.item(i(a,{image:c.imageUrl?M.image:b,sprite:c.spriteCssClass?M.sprite:b,itemWrapper:M.itemWrapper},N))},renderContent:function(a){return M.content(i(a,N))}}),c.ui.plugin(Q)}(window.kendo.jQuery),kendo_module({id:"timepicker",name:"TimePicker",category:"web",description:"The TimePicker widget allows the end user to select a value from a list of predefined values or to type a new value.",depends:["popup"]}),function(a,b){function P(a,b,c){var e,d=a.getTimezoneOffset();a.setTime(a.getTime()+b),c||(e=a.getTimezoneOffset()-d,a.setTime(a.getTime()+e*y))}function Q(){var a=new M,b=new M(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),c=new M(a.getFullYear(),a.getMonth(),a.getDate(),12,0,0);return-1*(b.getTimezoneOffset()-c.getTimezoneOffset())}function R(a){return 60*a.getHours()*y+a.getMinutes()*y+1e3*a.getSeconds()+a.getMilliseconds()}function S(a,b,c){var f,d=R(b),e=R(c);return a&&d!=e?(f=R(a),d>f&&(f+=z),d>e&&(e+=z),f>=d&&e>=f):!0}function U(a){var b=a.parseFormats;a.format=f(a.format||c.getCulture(a.culture).calendars.standard.patterns.t),b=J(b)?b:[b],b.splice(0,0,a.format),a.parseFormats=b}function V(a){a.preventDefault()}var c=window.kendo,d=c.keys,e=c._activeElement,f=c._extractFormat,g=c.support,h=g.browser,i=c.ui,j=i.Widget,k="open",l="close",m="change",n=".kendoTimePicker",o="click"+n,p="k-state-default",q="disabled",r="readonly",s="li",t="<span/>",u="k-state-focused",v="k-state-hover",w="mouseenter"+n+" mouseleave"+n,x="mousedown"+n,y=6e4,z=864e5,A="k-state-selected",B="k-state-disabled",C="aria-selected",D="aria-expanded",E="aria-hidden",F="aria-disabled",G="aria-readonly",H="aria-activedescendant",I="id",J=a.isArray,K=a.extend,L=a.proxy,M=Date,N=new M;N=new M(N.getFullYear(),N.getMonth(),N.getDate(),0,0,0);var O=function(b){var d=this,e=b.id;d.options=b,d.ul=a('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:g.kineticScrollNeeded?"":"auto"}).on(o,s,L(d._click,d)).on("mouseenter"+n,s,function(){a(this).addClass(v)}).on("mouseleave"+n,s,function(){a(this).removeClass(v)}),d.list=a("<div class='k-list-container'/>").append(d.ul).on(x,V),e&&(d._timeViewID=e+"_timeview",d._optionID=e+"_option_selected",d.ul.attr(I,d._timeViewID)),d._popup(),d.template=c.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:!1})};O.prototype={current:function(c){var d=this,e=d.options.active;return c===b?d._current:(d._current&&d._current.removeClass(A).removeAttr(C).removeAttr(I),c&&(c=a(c).addClass(A).attr(I,d._optionID).attr(C,!0),d.scroll(c[0])),d._current=c,e&&e(c),void 0)},close:function(){this.popup.close()},destroy:function(){var a=this;a.ul.off(n),a.list.off(n),a.popup.destroy()},open:function(){var a=this;a.ul[0].firstChild||a.bind(),a.popup.open(),a._current&&a.scroll(a._current[0])},dataBind:function(a){for(var j,b=this,d=b.options,e=d.format,f=c.toString,g=b.template,h=a.length,i=0,k="";h>i;i++)j=a[i],S(j,d.min,d.max)&&(k+=g(f(j,e,d.culture)));b._html(k,h)},refresh:function(){var p,q,s,a=this,b=a.options,d=b.format,e=Q(),f=0>e,g=b.min,h=b.max,i=R(g),j=R(h),k=b.interval*y,l=c.toString,m=a.template,n=new M(+g),o=n.getDate(),r=0,t="";for(s=f?(z+e*y)/k:z/k,i!=j&&(i>j&&(j+=z),s=(j-i)/k+1),q=parseInt(s,10);s>r;r++)r&&P(n,k,f),j&&q==r&&(p=R(n),o<n.getDate()&&(p+=z),p>j&&(n=new M(+h))),t+=m(l(n,d,b.culture));a._html(t,s)},bind:function(){var a=this,b=a.options.dates;b&&b[0]?a.dataBind(b):a.refresh()},_html:function(a,b){var c=this;c.ul[0].innerHTML=a,c._height(b),c.current(null),c.select(c._value)},scroll:function(a){if(a){var i,b=this.ul[0],c=a.offsetTop,d=a.offsetHeight,e=b.scrollTop,f=b.clientHeight,g=c+d,h=this._touchScroller;h?(i=h.dimensions.y,i.enabled&&c>i.size&&(c=c-i.size+d+4,h.scrollTo(0,-c))):b.scrollTop=e>c?c:g>e+f?g-f:e}},select:function(b){var d=this,e=d.options,f=d._current;b instanceof Date&&(b=c.toString(b,e.format,e.culture)),"string"==typeof b&&(f&&f.text()===b?b=f:(b=a.grep(d.ul[0].childNodes,function(a){return(a.textContent||a.innerText)==b}),b=b[0]?b:null)),d.current(b)},toggle:function(){var a=this;a.popup.visible()?a.close():a.open()},value:function(a){var b=this;b._value=a,b.ul[0].firstChild&&b.select(a)},_click:function(b){var c=this,d=a(b.currentTarget);b.isDefaultPrevented()||(c.select(d),c.options.change(d.text(),!0),c.close())},_height:function(a){if(a){var b=this,c=b.list,d=c.parent(".k-animation-container"),e=b.options.height;c.add(d).show().height(b.ul[0].scrollHeight>e?e:"auto").hide()}},_parse:function(a){var b=this,d=b.options,e=b._value||N;return a instanceof M?a:(a=c.parseDate(a,d.parseFormats,d.culture),a&&(a=new M(e.getFullYear(),e.getMonth(),e.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())),a)},_adjustListWidth:function(){var d,e,a=this.list,b=a[0].style.width,c=this.options.anchor;(a.data("width")||!b)&&(d=window.getComputedStyle?window.getComputedStyle(c[0],null):0,e=d?parseFloat(d.width):c.outerWidth(),d&&(h.mozilla||h.msie)&&(e+=parseFloat(d.paddingLeft)+parseFloat(d.paddingRight)+parseFloat(d.borderLeftWidth)+parseFloat(d.borderRightWidth)),b=e-(a.outerWidth()-a.width()),a.css({fontFamily:c.css("font-family"),width:b}).data("width",b))},_popup:function(){var a=this,b=a.list,d=a.options,e=d.anchor;a.popup=new i.Popup(b,K(d.popup,{anchor:e,open:d.open,close:d.close,animation:d.animation,isRtl:g.isRtl(d.anchor)})),a._touchScroller=c.touchScroller(a.popup.element)},move:function(a){var b=this,c=a.keyCode,e=b.ul[0],f=b._current,g=c===d.DOWN;if(c===d.UP||g){if(a.altKey)return b.toggle(g),void 0;f=g?f?f[0].nextSibling:e.firstChild:f?f[0].previousSibling:e.lastChild,f&&b.select(f),b.options.change(b._current.text()),a.preventDefault()}else(c===d.ENTER||c===d.TAB||c===d.ESC)&&(a.preventDefault(),f&&b.options.change(f.text(),!0),b.close())}},O.getMilliseconds=R,c.TimeView=O;var T=j.extend({init:function(a,b){var e,f,g,d=this;j.fn.init.call(d,a,b),a=d.element,b=d.options,U(b),d._wrapper(),d.timeView=f=new O(K({},b,{id:a.attr(I),anchor:d.wrapper,format:b.format,change:function(b,c){c?d._change(b):a.val(b)},open:function(b){d.timeView._adjustListWidth(),d.trigger(k)?b.preventDefault():(a.attr(D,!0),e.attr(E,!1))},close:function(b){d.trigger(l)?b.preventDefault():(a.attr(D,!1),e.attr(E,!0))},active:function(b){a.removeAttr(H),b&&a.attr(H,f._optionID)}})),e=f.ul,d._icon(),d._reset();try{a[0].setAttribute("type","text")}catch(h){a[0].type="text"}a.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1,"aria-owns":f._timeViewID}),g=a.is("[disabled]"),g?d.enable(!1):d.readonly(a.is("[readonly]")),d._old=d._update(b.value||d.element.val()),d._oldText=a.val(),c.notify(d)},options:{name:"TimePicker",min:N,max:N,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[k,l,m],setOptions:function(a){var b=this,c=b.timeView,d=c.options;j.fn.setOptions.call(b,a),U(b.options),c.options=K(d,b.options,{active:d.active,change:d.change,close:d.close,open:d.open}),c.ul[0].innerHTML=""},dataBind:function(a){J(a)&&this.timeView.dataBind(a)},_editable:function(a){var b=this,c=a.disable,d=a.readonly,e=b._arrow.off(n),f=b.element.off(n),g=b._inputWrapper.off(n);d||c?(g.addClass(c?B:p).removeClass(c?p:B),f.attr(q,c).attr(r,d).attr(F,c).attr(G,d)):(g.addClass(p).removeClass(B).on(w,b._toggleHover),f.removeAttr(q).removeAttr(r).attr(F,!1).attr(G,!1).on("keydown"+n,L(b._keydown,b)).on("blur"+n,L(b._blur,b)).on("focus"+n,function(){b._inputWrapper.addClass(u)}),e.on(o,L(b._click,b)).on(x,V))},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},destroy:function(){var a=this;j.fn.destroy.call(a),a.timeView.destroy(),a.element.off(n),a._arrow.off(n),a._inputWrapper.off(n),a._form&&a._form.off("reset",a._resetHandler)},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},value:function(a){var c=this;return a===b?c._value:(c._old=c._update(a),null===c._old&&c.element.val(""),c._oldText=c.element.val(),void 0)},_blur:function(){var a=this,b=a.element.val();a.close(),b!==a._oldText&&a._change(b),a._inputWrapper.removeClass(u)},_click:function(){var a=this,b=a.element;a.timeView.toggle(),g.touch||b[0]===e()||b.focus()},_change:function(a){var b=this;a=b._update(a),+b._old!=+a&&(b._old=a,b._oldText=b.element.val(),b.trigger(m),b.element.trigger(m))},_icon:function(){var d,b=this,c=b.element;d=c.next("span.k-select"),d[0]||(d=a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(c)),b._arrow=d.attr({role:"button","aria-controls":b.timeView._timeViewID})},_keydown:function(a){var b=this,c=a.keyCode,e=b.timeView,f=b.element.val();e.popup.visible()||a.altKey?e.move(a):c===d.ENTER&&f!==b._oldText&&b._change(f)},_option:function(a,c){var d=this,e=d.options;return c===b?e[a]:(c=d.timeView._parse(c),c&&(c=new M(+c),e[a]=c,d.timeView.options[a]=c,d.timeView.bind()),void 0)},_toggleHover:function(b){a(b.currentTarget).toggleClass(v,"mouseenter"===b.type)},_update:function(a){var b=this,d=b.options,e=b.timeView,f=e._parse(a);return S(f,d.min,d.max)||(f=null),b._value=f,b.element.val(f?c.toString(f,d.format,d.culture):a),e.value(f),f},_wrapper:function(){var d,b=this,c=b.element;d=c.parents(".k-timepicker"),d[0]||(d=c.wrap(t).parent().addClass("k-picker-wrap k-state-default"),d=d.wrap(t).parent()),d[0].style.cssText=c[0].style.cssText,b.wrapper=d.addClass("k-widget k-timepicker k-header").addClass(c[0].className),c.css({width:"100%",height:c[0].style.height}),b._inputWrapper=a(d[0].firstChild)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){b.value(c[0].defaultValue)},b._form=e.on("reset",b._resetHandler))}});i.plugin(T)}(window.kendo.jQuery),kendo_module({id:"datetimepicker",name:"DateTimePicker",category:"web",description:"The DateTimePicker allows the end user to select a value from a calendar or a time drop-down list.",depends:["datepicker","timepicker"]}),function(a,b){function Q(a){var b=new Date(2100,0,1);return b.setMinutes(-a),b}function R(a){a.preventDefault()}function S(b){var e,d=c.getCulture(b.culture).calendars.standard.patterns;b.format=g(b.format||d.g),b.timeFormat=e=g(b.timeFormat||d.t),c.DateView.normalize(b),-1===a.inArray(e,b.parseFormats)&&b.parseFormats.splice(1,0,e)}var c=window.kendo,d=c.TimeView,e=c.parseDate,f=c._activeElement,g=c._extractFormat,h=c.calendar,i=h.isInRange,j=h.restrictValue,k=h.isEqualDatePart,l=d.getMilliseconds,m=c.ui,n=m.Widget,o="open",p="close",q="change",r=".kendoDateTimePicker",s="click"+r,t="disabled",u="readonly",v="k-state-default",w="k-state-focused",x="k-state-hover",y="k-state-disabled",z="mouseenter"+r+" mouseleave"+r,A="mousedown"+r,B="month",C="<span/>",D="aria-activedescendant",E="aria-expanded",F="aria-hidden",G="aria-owns",H="aria-disabled",I="aria-readonly",J=Date,K=new J(1900,0,1),L=new J(2099,11,31),M={view:"date"},N={view:"time"},O=a.extend,P=n.extend({init:function(a,b){var e,d=this;n.fn.init.call(d,a,b),a=d.element,b=d.options,S(b),d._wrapper(),d._views(),d._icons(),d._reset(),d._template();try{a[0].setAttribute("type","text")}catch(f){a[0].type="text"}a.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1}),d._midnight=0===l(b.min)+l(b.max),e=a.is("[disabled]"),e?d.enable(!1):d.readonly(a.is("[readonly]")),d._old=d._update(b.value||d.element.val()),d._oldText=a.val(),c.notify(d)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new J(K),max:new J(L),interval:30,height:200,footer:"",start:B,depth:B,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "G")#'},events:[o,p,q],setOptions:function(a){var e,f,g,b=this,c=b.dateView.options,d=b.timeView.options;n.fn.setOptions.call(b,a),S(b.options),a=b.options,e=a.min,f=a.max,g=a.value||b._value||b.dateView._current,e&&!k(e,g)&&(e=new J(K)),f&&!k(f,g)&&(f=new J(L)),O(c,a,{change:c.change,close:c.close,open:c.open}),O(d,a,{format:a.timeFormat,active:d.active,change:d.change,close:d.close,open:d.open,min:e,max:f}),b.timeView.ul[0].innerHTML=""},_editable:function(b){var d=this,e=d.element.off(r),g=d._dateIcon.off(r),h=d._timeIcon.off(r),i=d._inputWrapper.off(r),j=b.readonly,k=b.disable;j||k?(i.addClass(k?y:v).removeClass(k?v:y),e.attr(t,k).attr(u,j).attr(H,k).attr(I,j)):(i.addClass(v).removeClass(y).on(z,d._toggleHover),e.removeAttr(t).removeAttr(u).attr(H,!1).attr(I,!1).on("keydown"+r,a.proxy(d._keydown,d)).on("focus"+r,function(){d._inputWrapper.addClass(w)}).on("blur"+r,function(){d._inputWrapper.removeClass(w),e.val()!==d._oldText&&d._change(e.val()),d.close("date"),d.close("time")}),g.on(A,R).on(s,function(){d.toggle("date"),c.support.touch||e[0]===f()||e.focus()}),h.on(A,R).on(s,function(){d.toggle("time"),c.support.touch||e[0]===f()||e.focus()}))},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},destroy:function(){var a=this;n.fn.destroy.call(a),a.dateView.destroy(),a.timeView.destroy(),a.element.off(r),a._dateIcon.off(r),a._timeIcon.off(r),a._inputWrapper.off(r),a._form&&a._form.off("reset",a._resetHandler)},close:function(a){"time"!==a&&(a="date"),this[a+"View"].close()},open:function(a){"time"!==a&&(a="date"),this[a+"View"].open()},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},toggle:function(a){var b="timeView";"time"!==a?a="date":b="dateView",this[a+"View"].toggle(),this[b].close()},value:function(a){var c=this;return a===b?c._value:(c._old=c._update(a),null===c._old&&c.element.val(""),c._oldText=c.element.val(),void 0)},_change:function(a){var b=this;a=b._update(a),+b._old!=+a&&(b._old=a,b._oldText=b.element.val(),b.trigger(q),b.element.trigger(q))},_option:function(a,c){var d=this,f=d.options,g=d.timeView,h=g.options,i=d._value||d._old;if(c===b)return f[a];if(c=e(c,f.parseFormats,f.culture)){if(f[a]=new J(+c),d.dateView[a](c),d._midnight=0===l(f.min)+l(f.max),i&&k(c,i)){if(d._midnight&&"max"==a)return h[a]=L,g.dataBind([L]),void 0;h[a]=c}else h.max=L,h.min=K;g.bind()}},_toggleHover:function(b){a(b.currentTarget).toggleClass(x,"mouseenter"===b.type)},_update:function(b){var o,p,q,r,s,d=this,f=d.options,g=f.min,h=f.max,l=f.dates,m=d.timeView,n=e(b,f.parseFormats,f.culture);return+n===+d._value?(s=c.toString(n,f.format,f.culture),s!==b&&d.element.val(null===n?b:s),n):(null!==n&&k(n,g)?n=j(n,g,h):i(n,g,h)||(n=null),d._value=n,m.value(n),d.dateView.value(n),n&&(q=d._old,p=m.options,l[0]&&(l=a.grep(l,function(a){return k(n,a)}),l[0]&&(m.dataBind(l),r=!0)),r||(k(n,g)&&(p.min=g,p.max=Q(f.interval),o=!0),k(n,h)&&(d._midnight?(m.dataBind([L]),r=!0):(p.max=h,o||(p.min=K),o=!0))),!r&&(!q&&o||q&&!k(q,n))&&(o||(p.max=L,p.min=K),m.bind())),d.element.val(n?c.toString(n,f.format,f.culture):b),d._updateARIA(n),n)},_keydown:function(a){var b=this,d=b.dateView,e=b.timeView,f=b.element.val(),g=d.popup.visible();a.altKey&&a.keyCode===c.keys.DOWN?b.toggle(g?"time":"date"):g?(d.move(a),b._updateARIA(d._current)):e.popup.visible()?e.move(a):a.keyCode===c.keys.ENTER&&f!==b._oldText&&b._change(f)},_views:function(){var h,j,k,l,m,a=this,b=a.element,f=a.options,g=b.attr("id");a.dateView=h=new c.DateView(O({},f,{id:g,anchor:a.wrapper,change:function(){var g,b=h.calendar.value(),c=+b,d=+f.min,e=+f.max;(c===d||c===e)&&(g=new J(+a._value),g.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),i(g,d,e)&&(b=g)),a._change(b),a.close("date")},close:function(c){a.trigger(p,M)?c.preventDefault():(b.attr(E,!1),k.attr(F,!0),j.popup.visible()||b.removeAttr(G))},open:function(c){a.trigger(o,M)?c.preventDefault():(a.element.val()!==a._oldText&&(m=e(b.val(),f.parseFormats,f.culture),m?(a.dateView._current=m,a.dateView.calendar._focus(m)):a.dateView.value(m)),k.attr(F,!1),b.attr(E,!0).attr(G,h._dateViewID))}})),k=h.div,a.timeView=j=new d({id:g,value:f.value,anchor:a.wrapper,animation:f.animation,format:f.timeFormat,culture:f.culture,height:f.height,interval:f.interval,min:new J(K),max:new J(L),parseFormats:f.parseFormats,change:function(d,e){d=j._parse(d),d<f.min?(d=new J(+f.min),j.options.min=d):d>f.max&&(d=new J(+f.max),j.options.max=d),e?(a._timeSelected=!0,a._change(d)):(b.val(c.toString(d,f.format,f.culture)),h.value(d),a._updateARIA(d))},close:function(c){a.trigger(p,N)?c.preventDefault():(l.attr(F,!0),b.attr(E,!1),h.popup.visible()||b.removeAttr(G))},open:function(c){j._adjustListWidth(),a.trigger(o,N)?c.preventDefault():(l.attr(F,!1),b.attr(E,!0).attr(G,j._timeViewID))},active:function(a){b.removeAttr(D),a&&b.attr(D,j._optionID)}}),l=j.ul},_icons:function(){var d,b=this,c=b.element;d=c.next("span.k-select"),d[0]||(d=a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(c)),d=d.children(),b._dateIcon=d.eq(0).attr({role:"button","aria-controls":b.dateView._dateViewID}),b._timeIcon=d.eq(1).attr({role:"button","aria-controls":b.timeView._timeViewID})},_wrapper:function(){var d,b=this,c=b.element;d=c.parents(".k-datetimepicker"),d[0]||(d=c.wrap(C).parent().addClass("k-picker-wrap k-state-default"),d=d.wrap(C).parent()),d[0].style.cssText=c[0].style.cssText,c.css({width:"100%",height:c[0].style.height}),b.wrapper=d.addClass("k-widget k-datetimepicker k-header").addClass(c[0].className),b._inputWrapper=a(d[0].firstChild)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){b.value(c[0].defaultValue)},b._form=e.on("reset",b._resetHandler))},_template:function(){this._ariaTemplate=c.template(this.options.ARIATemplate)},_updateARIA:function(a){this.element.attr("aria-label",this._ariaTemplate({current:a}))}});m.plugin(P)}(window.kendo.jQuery),kendo_module({id:"treeview",name:"TreeView",category:"web",description:"The TreeView widget displays hierarchical data in a traditional tree structure,with support for interactive drag-and-drop operations.",depends:["data","draganddrop"]}),function(a,b){function Q(a){return function(b){var c=b.children(".k-animation-container");return c.length||(c=b),c.children(a)}}function R(a){return c.template(a,{useWithBlock:!1})}function S(a){return a.children("div").find(".k-checkbox:first :checkbox")}function T(a){return function(b,c){c=c.closest(F);var e,d=c.parent();return d.parent().is("li")&&(e=d.parent()),this._dataSourceMove(b,d,e,function(b,d){return this._insert(b.data(),d,c.index()+a)})}}function U(b,c){for(var d;b&&"ul"!=b.nodeName.toLowerCase();)d=b,b=b.nextSibling,3==d.nodeType&&(d.nodeValue=a.trim(d.nodeValue)),N.test(d.className)?c.insertBefore(d,c.firstChild):c.appendChild(d)}function V(b){var c=b.children("div"),d=b.children("ul"),e=c.children(".k-icon"),f=b.children(":checkbox"),g=c.children(".k-in");b.hasClass("k-treeview")||(c.length||(c=a("<div />").prependTo(b)),!e.length&&d.length?e=a("<span class='k-icon' />").prependTo(c):d.length&&d.children().length||(e.remove(),d.remove()),f.length&&a("<span class='k-checkbox' />").appendTo(c).append(f),g.length||(g=b.children("a").eq(0).addClass("k-in"),g.length||(g=a("<span class='k-in' />")),g.appendTo(c),c.length&&U(c[0].nextSibling,g[0])))}function W(a){var b=this;b.treeview=a,b.hovered=a.element,b._draggable=new d.Draggable(a.element,{filter:"div:not(.k-state-disabled) .k-in",hint:function(b){return a.templates.dragClue({item:a.dataItem(b),treeview:a.options})},cursorOffset:{left:10,top:c.support.touch||c.support.msPointers||c.support.pointers?-40/c.support.zoomLevel():10},dragstart:k(b.dragstart,b),dragcancel:k(b.dragcancel,b),drag:k(b.drag,b),dragend:k(b.dragend,b)})}var J,K,L,M,N,c=window.kendo,d=c.ui,e=c.data,f=a.extend,g=c.template,h=a.isArray,i=d.Widget,j=e.HierarchicalDataSource,k=a.proxy,l=c.keys,m=".kendoTreeView",n="select",o="navigate",p="expand",q="change",r="error",s="checked",t="collapse",u="dragstart",v="drag",w="drop",x="dragend",y="dataBound",z="click",A="visibility",B="undefined",C="k-state-hover",D="k-treeview",E=":visible",F=".k-item",G="string",H="aria-selected",I="aria-disabled",O={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},P=function(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&1===a.nodeType&&typeof a.nodeName===G};K=Q(".k-group"),L=Q(".k-group,.k-content"),M=function(a){return a.children("div").children(".k-icon")},N=/k-sprite/,J=i.extend({init:function(a,b){var e,j,d=this,f=!1,g=b&&!!b.dataSource;h(b)&&(e=!0,b={dataSource:b}),b&&typeof b.loadOnDemand==B&&h(b.dataSource)&&(b.loadOnDemand=!1),i.prototype.init.call(d,a,b),a=d.element,b=d.options,j=a.is("ul")&&a||a.hasClass(D)&&a.children("ul"),f=!g&&j.length,f&&(b.dataSource.list=j),d._animation(),d._accessors(),d._templates(),a.hasClass(D)?(d.wrapper=a,d.root=a.children("ul").eq(0)):(d._wrapper(),j&&(d.root=a,d._group(d.wrapper))),d._tabindex(),d.wrapper.filter("[role=tree]").length||d.wrapper.attr("role","tree"),d._dataSource(f),d._attachEvents(),d._dragging(),f?d._attachUids():b.autoBind&&(d._progress(!0),d.dataSource.fetch()),b.checkboxes&&b.checkboxes.checkChildren&&d.updateIndeterminate(),d.element[0].id&&(d._ariaId=c.format("{0}_tv_active",d.element[0].id))},_attachEvents:function(){var b=this,c=".k-in:not(.k-state-selected,.k-state-disabled)",d="mouseenter";b.wrapper.on(d+m,".k-in.k-state-selected",function(a){a.preventDefault()}).on(d+m,c,function(){a(this).addClass(C)}).on("mouseleave"+m,c,function(){a(this).removeClass(C)}).on(z+m,c,k(b._click,b)).on("dblclick"+m,".k-in:not(.k-state-disabled)",k(b._toggleButtonClick,b)).on(z+m,".k-plus,.k-minus",k(b._toggleButtonClick,b)).on("keydown"+m,k(b._keydown,b)).on("focus"+m,k(b._focus,b)).on("blur"+m,k(b._blur,b)).on("mousedown"+m,".k-in,.k-checkbox :checkbox,.k-plus,.k-minus",k(b._mousedown,b)).on("change"+m,".k-checkbox :checkbox",k(b._checkboxChange,b)).on("click"+m,".k-checkbox :checkbox",k(b._checkboxClick,b)).on("click"+m,".k-request-retry",k(b._retryRequest,b)).on("click"+m,function(c){a(c.target).is(":kendoFocusable")||b.focus()})},_checkboxClick:function(b){var c=a(b.target);c.data("indeterminate")&&(c.data("indeterminate",!1).prop("indeterminate",!1).prop(s,!0),this._checkboxChange(b))},_attachUids:function(b,d){var f,e=this,g=c.attr("uid");b=b||e.root,d=d||e.dataSource,f=d.view(),b.children("li").each(function(b,c){c=a(c).attr(g,f[b].uid),c.attr("role","treeitem"),e._attachUids(c.children("ul"),f[b].children)})},_animation:function(){var a=this.options,b=a.animation;b===!1?b={expand:{effects:{}},collapse:{hide:!0,effects:{}}}:b.collapse&&"effects"in b.collapse||(b.collapse=f({reverse:!0},b.expand)),f(b.collapse,{hide:!0}),a.animation=b},_dragging:function(){var a=this.options.dragAndDrop,b=this.dragging;a&&!b?this.dragging=new W(this):!a&&b&&(b.destroy(),this.dragging=null)},_templates:function(){var a=this,b=a.options,d=k(a._fieldAccessor,a);b.template&&typeof b.template==G?b.template=g(b.template):b.template||(b.template=R("# var text = "+d("text")+"(data.item); #"+"# if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {#"+"#= text #"+"# } else { #"+"#: text #"+"# } #")),a._checkboxes(),a.templates={wrapperCssClass:function(a,b){var c="k-item",d=b.index;return a.firstLevel&&0===d&&(c+=" k-first"),d==a.length-1&&(c+=" k-last"),c},cssClass:function(a,b){var c="",d=b.index,e=a.length-1;return a.firstLevel&&0===d&&(c+="k-top "),c+=0===d&&d!=e?"k-top":d==e?"k-bot":"k-mid"},textClass:function(a){var b="k-in";return a.enabled===!1&&(b+=" k-state-disabled"),a.selected===!0&&(b+=" k-state-selected"),b},toggleButtonClass:function(a){var b="k-icon";return b+=a.expanded!==!0?" k-plus":" k-minus",a.enabled===!1&&(b+="-disabled"),b},groupAttributes:function(a){return a.expanded!==!0?" style='display:none'":""},groupCssClass:function(a){var b="k-group";return a.firstLevel&&(b+=" k-treeview-lines"),b},dragClue:R("<div class='k-header k-drag-clue'><span class='k-icon k-drag-status' />#= data.treeview.template(data) #</div>"),group:R("<ul class='#= data.r.groupCssClass(data.group) #'#= data.r.groupAttributes(data.group) # role='group'>#= data.renderItems(data) #</ul>"),itemContent:R("# var imageUrl = "+d("imageUrl")+"(data.item); #"+"# var spriteCssClass = "+d("spriteCssClass")+"(data.item); #"+"# if (imageUrl) { #"+"<img class='k-image' alt='' src='#= imageUrl #'>"+"# } #"+"# if (spriteCssClass) { #"+"<span class='k-sprite #= spriteCssClass #' />"+"# } #"+"#= data.treeview.template(data) #"),itemElement:R("# var item = data.item, r = data.r; ## var url = "+d("url")+"(item); #"+"<div class='#= r.cssClass(data.group, item) #'>"+"# if (item.hasChildren) { #"+"<span class='#= r.toggleButtonClass(item) #' role='presentation' />"+"# } #"+"# if (data.treeview.checkboxes) { #"+"<span class='k-checkbox' role='presentation'>"+"#= data.treeview.checkboxes.template(data) #"+"</span>"+"# } #"+"# var tag = url ? 'a' : 'span'; #"+"# var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #"+"<#=tag#  class='#= r.textClass(item) #'#= textAttr #>"+"#= r.itemContent(data) #"+"</#=tag#>"+"</div>"),item:R("# var item = data.item, r = data.r; #<li role='treeitem' class='#= r.wrapperCssClass(data.group, item) #' "+c.attr("uid")+"='#= item.uid #'"+"#=item.selected ? \"aria-selected='true'\" : ''#"+"#=item.enabled === false ? \"aria-disabled='true'\" : ''#"+">"+"#= r.itemElement(data) #"+"</li>"),loading:R("<div class='k-icon k-loading' /> Loading..."),retry:R("Request failed. <button class='k-button k-request-retry'>Retry</button>")}},items:function(){return this.element.find(".k-item")},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this.dataSource.fetch()},_bindDataSource:function(){this._refreshHandler=k(this.refresh,this),this._errorHandler=k(this._error,this),this.dataSource.bind(q,this._refreshHandler),this.dataSource.bind(r,this._errorHandler)},_unbindDataSource:function(){var a=this.dataSource;a&&(a.unbind(q,this._refreshHandler),a.unbind(r,this._errorHandler))},_dataSource:function(a){function e(a){for(var b=0;b<a.length;b++)a[b]._initChildren(),a[b].children.fetch(),e(a[b].children.view())}var b=this,c=b.options,d=c.dataSource;d=h(d)?{data:d}:d,b._unbindDataSource(),d.fields||(d.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),b.dataSource=d=j.create(d),a&&(d.fetch(),e(d.view())),b._bindDataSource()},events:[u,v,w,x,y,p,t,n,q,o],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},dragAndDrop:!1,checkboxes:!1,autoBind:!0,loadOnDemand:!0,template:"",dataTextField:null},_accessors:function(){var d,e,f,a=this,b=a.options,g=a.element;
for(d in O)e=b[O[d]],f=g.attr(c.attr(d+"-field")),!e&&f&&(e=f),e||(e=d),h(e)||(e=[e]),b[O[d]]=e},_fieldAccessor:function(b){var d=this.options[O[b]],e=d.length,f="(function(item) {";return 0===e?f+="return item['"+b+"'];":(f+="var levels = ["+a.map(d,function(a){return"function(d){ return "+c.expr(a)+"}"}).join(",")+"];",f+="return levels[Math.min(item.level(), "+e+"-1)](item)"),f+="})"},setOptions:function(a){i.fn.setOptions.call(this,a),this._animation(),this._dragging(),this._templates()},_trigger:function(a,b){return this.trigger(a,{node:b.closest(F)[0]})},_setChecked:function(b,c){if(b&&a.isFunction(b.view))for(var d=0,e=b.view();d<e.length;d++)e[d][s]=c,e[d].children&&this._setChecked(e[d].children,c)},_setIndeterminate:function(a){var c,d,f,b=K(a),e=!0;if(b.length&&(c=S(b.children()),d=c.length)){if(d>1){for(f=1;d>f;f++)if(c[f].checked!=c[f-1].checked||c[f].indeterminate||c[f-1].indeterminate){e=!1;break}}else e=!c[0].indeterminate;S(a).data("indeterminate",!e).prop("indeterminate",!e).prop(s,e&&c[0].checked)}},updateIndeterminate:function(a){a=a||this.wrapper;var c,b=K(a).children();if(b.length){for(c=0;c<b.length;c++)this.updateIndeterminate(b.eq(c));this._setIndeterminate(a)}},_bubbleIndeterminate:function(a){if(a.length){var c,b=this.parent(a);b.length&&(this._setIndeterminate(b),c=b.children("div").find(".k-checkbox :checkbox"),c.prop("indeterminate")===!1?this.dataItem(b).set(s,c.prop(s)):this.dataItem(b).checked=!1,this._bubbleIndeterminate(b))}},_checkboxChange:function(b){var c=a(b.target),d=c.prop(s),e=c.closest(F);this.dataItem(e).set(s,d)},_toggleButtonClick:function(b){this.toggle(a(b.target).closest(F))},_mousedown:function(b){var c=a(b.currentTarget).closest(F);this._clickTarget=c,this.current(c)},_focusable:function(a){return a&&a.length&&a.is(":visible")&&!a.find(".k-in:first").hasClass("k-state-disabled")},_focus:function(){var b=this.select(),d=this._clickTarget;c.support.touch||(d&&d.length&&(b=d),this._focusable(b)||(b=this.current()),this._focusable(b)||(b=this._nextVisible(a())),this.current(b))},focus:function(){var f,a=this.wrapper,b=a[0],c=[],d=[],e=document.documentElement;do b=b.parentNode,b.scrollHeight>b.clientHeight&&(c.push(b),d.push(b.scrollTop));while(b!=e);for(a.focus(),f=0;f<c.length;f++)c[f].scrollTop=d[f]},_blur:function(){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(a){return!a.children("div").children(".k-in").hasClass("k-state-disabled")},parent:function(b){var e,f,c=/\bk-treeview\b/,d=/\bk-item\b/;typeof b==G&&(b=this.element.find(b)),P(b)||(b=b[0]),f=d.test(b.className);do b=b.parentNode,d.test(b.className)&&(f?e=b:f=!0);while(!c.test(b.className)&&!e);return a(e)},_nextVisible:function(a){function e(a){for(;a.length&&!a.next().length;)a=b.parent(a);return a.next().length?a.next():a}var d,b=this,c=b._expanded(a);return a.length&&a.is(":visible")?c?(d=K(a).children().first(),d.length||(d=e(a))):d=e(a):d=b.root.children().eq(0),b._enabled(d)||(d=b._nextVisible(d)),d},_previousVisible:function(a){var c,d,b=this;if(!a.length||a.prev().length)for(d=a.length?a.prev():b.root.children().last();b._expanded(d)&&(c=K(d).children().last(),c.length);)d=c;else d=b.parent(a)||a;return b._enabled(d)||(d=b._previousVisible(d)),d},_keydown:function(d){var g,e=this,f=d.keyCode,h=e.current(),i=e._expanded(h),j=h.find(".k-checkbox:first :checkbox"),k=c.support.isRtl(e.element);d.target==d.currentTarget&&(!k&&f==l.RIGHT||k&&f==l.LEFT?i?g=e._nextVisible(h):e.expand(h):!k&&f==l.LEFT||k&&f==l.RIGHT?i?e.collapse(h):(g=e.parent(h),e._enabled(g)||(g=b)):f==l.DOWN?g=e._nextVisible(h):f==l.UP?g=e._previousVisible(h):f==l.HOME?g=e._nextVisible(a()):f==l.END?g=e._previousVisible(a()):f==l.ENTER?h.find(".k-in:first").hasClass("k-state-selected")||e._trigger(n,h)||e.select(h):f==l.SPACEBAR&&j.length&&(j.prop(s,!j.prop(s)).data("indeterminate",!1).prop("indeterminate",!1),e._checkboxChange({target:j}),g=h),g&&(d.preventDefault(),h[0]!=g[0]&&(e._trigger(o,g),e.current(g))))},_click:function(b){var g,c=this,d=a(b.currentTarget),e=L(d.closest(F)),f=d.attr("href");g=f?"#"==f||f.indexOf("#"+this.element.id+"-")>=0:e.length&&!e.children().length,g&&b.preventDefault(),d.hasClass(".k-state-selected")||c._trigger(n,d)||c.select(d)},_wrapper:function(){var c,d,a=this,b=a.element,e="k-widget k-treeview";b.is("ul")?(c=b.wrap("<div />").parent(),d=b):(c=b,d=c.children("ul").eq(0)),a.wrapper=c.addClass(e),a.root=d},_group:function(a){var b=this,c=a.hasClass(D),d={firstLevel:c,expanded:c||b._expanded(a)},e=a.children("ul");e.addClass(b.templates.groupCssClass(d)).css("display",d.expanded?"":"none"),b._nodes(e,d)},_nodes:function(b,c){var g,d=this,e=b.children("li");c=f({length:e.length},c),e.each(function(b,e){e=a(e),g={index:b,expanded:d._expanded(e)},V(e),d._updateNodeClasses(e,c,g),d._group(e)})},_checkboxes:function(){var c,a=this.options,b=a.checkboxes;(b||a.checkboxTemplate)&&(a.checkboxTemplate?c=a.checkboxTemplate:(c="<input type='checkbox' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #",b.name&&(c+=" name='"+b.name+"'"),c+=" />"),b=f({template:c},a.checkboxes),typeof b.template==G&&(b.template=g(b.template)),a.checkboxes=b)},_updateNodeClasses:function(a,b,c){var d=a.children("div"),e=a.children("ul"),f=this.templates;a.hasClass("k-treeview")||(c=c||{},c.expanded=typeof c.expanded!=B?c.expanded:this._expanded(a),c.index=typeof c.index!=B?c.index:a.index(),c.enabled=typeof c.enabled!=B?c.enabled:!d.children(".k-in").hasClass("k-state-disabled"),b=b||{},b.firstLevel=typeof b.firstLevel!=B?b.firstLevel:a.parent().parent().hasClass(D),b.length=typeof b.length!=B?b.length:a.parent().children().length,a.removeClass("k-first k-last").addClass(f.wrapperCssClass(b,c)),d.removeClass("k-top k-mid k-bot").addClass(f.cssClass(b,c)),d.children(".k-in").removeClass("k-in k-state-default k-state-disabled").addClass(f.textClass(c)),(e.length||"true"==a.attr("data-hasChildren"))&&(d.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(f.toggleButtonClass(c)),e.addClass("k-group")))},_processNodes:function(b,c){var d=this;d.element.find(b).each(function(b,e){c.call(d,b,a(e).closest(F))})},dataItem:function(b){var d=a(b).closest(F).attr(c.attr("uid")),e=this.dataSource;return e&&e.getByUid(d)},_insertNode:function(b,c,d,e,f){var j,l,m,n,g=this,h=K(d),i=h.children().length+1,k={firstLevel:d.hasClass(D),expanded:!f,length:i},o="",p=function(a,b){a.appendTo(b)};for(m=0;m<b.length;m++)n=b[m],n.index=c+m,o+=g._renderItem({group:k,item:n});if(l=a(o),l.length){for(h.length||(h=a(g._renderGroup({group:k})).appendTo(d)),e(l,h),d.hasClass("k-item")&&(V(d),g._updateNodeClasses(d)),g._updateNodeClasses(l.prev().first()),g._updateNodeClasses(l.next().last()),m=0;m<b.length;m++)n=b[m],n.hasChildren&&(j=n.children.data(),j.length&&g._insertNode(j,n.index,l.eq(m),p,!g._expanded(l.eq(m))));return l}},_updateNode:function(b,c){function l(){k=!0}function m(a,b){a.find(".k-checkbox :checkbox").prop(s,b).data("indeterminate",!1).prop("indeterminate",!1)}var e,f,g,h,i,d=this,j={treeview:d.options,item:g},k=!1;if("selected"==b)g=c[0],f=d.findByUid(g.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",g[b]).end(),g[b]?(d.current(f),f.attr(H,!0)):f.attr(H,!1);else for(a.inArray(b,d.options.dataTextField)>=0?k=!0:(j.item=c[0],j.item.bind("get",l),d.templates.itemContent(j),j.item.unbind("set",l)),e=0;e<c.length;e++)j.item=g=c[e],("spriteCssClass"==b||"imageUrl"==b||k)&&d.findByUid(g.uid).find(">div>.k-in").html(d.templates.itemContent(j)),b==s?(f=d.findByUid(g.uid),h=g[b],m(f.children("div"),h),d.options.checkboxes.checkChildren&&(m(f.children(".k-group"),h),d._setChecked(g.children,h),d._bubbleIndeterminate(f))):"expanded"==b?d._toggle(d.findByUid(g.uid),g,g[b]):"enabled"==b&&(f=d.findByUid(g.uid),f.find(".k-checkbox :checkbox").prop("disabled",!g[b]),i=!L(f).is(E),f.removeAttr(I),g[b]||(g.selected&&g.set("selected",!1),g.expanded&&g.set("expanded",!1),i=!0,f.removeAttr(H).attr(I,!0)),d._updateNodeClasses(f,{},{enabled:g[b],expanded:!i}))},_appendItems:function(a,b,c){var d=K(c),e=d.children(),f=!this._expanded(c);typeof a==B&&(a=e.length),this._insertNode(b,a,c,function(b,c){a==e.length?b.appendTo(c):b.insertBefore(e.eq(a))},f),this._expanded(c)&&(this._updateNodeClasses(c),K(c).css("display","block"))},refresh:function(a){var k,c=this,d=c.wrapper,e=a.node,f=a.action,g=a.items,h=c.options,i=h.loadOnDemand,j=h.checkboxes&&h.checkboxes.checkChildren;if(a.field)return c._updateNode(a.field,g);if(e&&(d=c.findByUid(e.uid),c._progress(d,!1)),j&&"remove"!=f&&e&&e.checked)for(k=0;k<g.length;k++)g[k].checked=!0;for("add"==f?this._appendItems(a.index,g,d):"remove"==f?c._remove(c.findByUid(g[0].uid),!1):e?(K(d).empty(),g.length?(this._appendItems(a.index,g,d),this._bubbleIndeterminate(K(d).children().last())):V(d)):c.root=c.wrapper.html(c._renderGroup({items:g,group:{firstLevel:!0,expanded:!0}})).children("ul"),k=0;k<g.length;k++)(!i||g[k].expanded)&&g[k].load();c.trigger(y,{node:e?d:b})},_error:function(a){var b=this,c=a.node&&b.findByUid(a.node.uid);c?(this._progress(c,!1),this._expanded(c,!1),M(c).addClass("k-i-refresh"),a.node.loaded(!1)):(this._progress(!1),this.element.html(this.templates.retry))},_retryRequest:function(a){a.preventDefault(),this.dataSource.fetch()},expand:function(a){this._processNodes(a,function(a,b){this.toggle(b,!0)})},collapse:function(a){this._processNodes(a,function(a,b){this.toggle(b,!1)})},enable:function(a,b){b=2==arguments.length?!!b:!0,this._processNodes(a,function(a,c){this.dataItem(c).set("enabled",b)})},current:function(b){var c=this,d=c._current,e=c.element,f=c._ariaId;return arguments.length>0&&b&&b.length?(d&&(d[0].id===f&&d.removeAttr("id"),d.find(".k-in:first").removeClass("k-state-focused")),d=c._current=a(b,e).closest(F),d.find(".k-in:first").addClass("k-state-focused"),f=d[0].id||f,f&&(c.wrapper.removeAttr("aria-activedescendant"),d.attr("id",f),c.wrapper.attr("aria-activedescendant",f)),void 0):(d||(d=c._nextVisible(a())),d)},select:function(b){var c=this,d=c.element;return arguments.length?(b=a(b,d).closest(F),d.find(".k-state-selected").each(function(){var a=c.dataItem(this);a.set("selected",!1),delete a.selected}),b.length&&c.dataItem(b).set("selected",!0),c.trigger(q),void 0):d.find(".k-state-selected").closest(F)},_toggle:function(a,b,c){var j,d=this,e=d.options,g=L(a),h=c?"expand":"collapse",i=e.animation[h];if(!g.data("animating")&&!d._trigger(h,a))if(d._expanded(a,c),j=b&&b.loaded(),j&&g.children().length>0){if(d._updateNodeClasses(a,{},{expanded:c}),g.css("display")==(c?"block":"none"))return;c||g.css("height",g.height()).css("height"),g.kendoStop(!0,!0).kendoAnimate(f({reset:!0},i,{complete:function(){c&&g.css("height","")}}))}else c&&(e.loadOnDemand&&d._progress(a,!0),g.remove(),b.load())},toggle:function(b,c){b=a(b),M(b).is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled")&&(1==arguments.length&&(c=!this._expanded(b)),this._expanded(b,c))},destroy:function(){var a=this;i.fn.destroy.call(a),a.element.off(m),a._unbindDataSource(),a.dragging&&a.dragging.destroy(),c.destroy(a.element)},_expanded:function(a,b){var d=c.attr("expanded"),e=this.dataItem(a);return 1==arguments.length?"true"===a.attr(d)||e&&e.expanded:(L(a).data("animating")||(e&&(e.set("expanded",b),b=e.expanded),b?(a.attr(d,"true"),a.attr("aria-expanded","true")):(a.removeAttr(d),a.attr("aria-expanded","false"))),void 0)},_progress:function(a,b){var c=this.element;1==arguments.length?(b=a,b?c.html(this.templates.loading):c.empty()):M(a).toggleClass("k-loading",b).removeClass("k-i-refresh")},text:function(a,b){var c=this.dataItem(a),d=this.options[O.text],e=c.level(),f=d.length,g=d[Math.min(e,f-1)];return b?(c.set(g,b),void 0):c[g]},_objectOrSelf:function(b){return a(b).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(a,b,c,d){var e,f=this._objectOrSelf(c||b),g=f.dataSource;return c&&c[0]!=f.element[0]&&(e=f.dataItem(c),e.loaded()||(f._progress(c,!0),e.load()),c!=this.root&&(g=e.children,g&&g instanceof j||(e._initChildren(),e.loaded(!0),g=e.children))),a=this._toObservableData(a),d.call(this,g,a)},_toObservableData:function(b){var e,f,d=b;return(b instanceof window.jQuery||P(b))&&(e=this._objectOrSelf(b).dataSource,f=a(b).attr(c.attr("uid")),d=e.getByUid(f),d&&(d=e.remove(d))),d},_insert:function(a,b,d){b instanceof c.data.ObservableArray?b=b.toJSON():h(b)||(b=[b]);var e=a.parent();return e&&(e.hasChildren=!0,e._initChildren()),a.splice.apply(a,[d,0].concat(b)),this.findByUid(a[d].uid)},insertAfter:T(1),insertBefore:T(0),append:function(b,c,d){var e=this,f=e.root;return d=d||a.noop,c&&(f=K(c)),e._dataSourceMove(b,f,c,function(a,b){function g(){c&&e._expanded(c,!0);var d=a.data(),f=Math.max(d.length,0);return e._insert(d,b,f)}var f;return a.data()?(f=g(),d(f),f):(a.one(q,function(){d(g())}),null)})},_remove:function(b,c){var e,f,g,d=this;return b=a(b,d.element),e=b.parent().parent(),f=b.prev(),g=b.next(),b[c?"detach":"remove"](),e.hasClass("k-item")&&(V(e),d._updateNodeClasses(e)),d._updateNodeClasses(f),d._updateNodeClasses(g),b},remove:function(a){var b=this.dataItem(a);b&&this.dataSource.remove(b)},detach:function(a){return this._remove(a,!0)},findByText:function(b){return a(this.element).find(".k-in").filter(function(c,d){return a(d).text()==b}).closest(F)},findByUid:function(a){return this.element.find(".k-item["+c.attr("uid")+"="+a+"]")},expandPath:function(b,c){var d=this.dataSource,e=d.get(b[0]);for(c=c||a.noop;b.length>0&&(e.expanded||e.loaded());)e.set("expanded",!0),b.shift(),e=d.get(b[0]);return b.length?(d.bind("change",function(a){var e=a.node&&a.node.id;e&&e===b[0]&&(b.shift(),b.length?d.get(b[0]).set("expanded",!0):c())}),e.set("expanded",!0),void 0):c()},_renderItem:function(a){return a.group||(a.group={}),a.treeview=this.options,a.r=this.templates,this.templates.item(a)},_renderGroup:function(a){var b=this;return a.renderItems=function(a){var c="",d=0,e=a.items,f=e?e.length:0,g=a.group;for(g.length=f;f>d;d++)a.group=g,a.item=e[d],a.item.index=d,c+=b._renderItem(a);return c},a.r=b.templates,b.templates.group(a)}}),W.prototype={_removeTouchHover:function(){var a=this;c.support.touch&&a.hovered&&(a.hovered.find("."+C).removeClass(C),a.hovered=!1)},_hintStatus:function(b){var c=this._draggable.hint.find(".k-drag-status")[0];return b?(c.className="k-icon k-drag-status "+b,void 0):a.trim(c.className.replace(/k-(icon|drag-status)/g,""))},dragstart:function(b){var c=this,d=c.treeview,e=c.sourceNode=b.currentTarget.closest(F);d.trigger(u,{sourceNode:e[0]})&&b.preventDefault(),c.dropHint=a("<div class='k-drop-hint' />").css(A,"hidden").appendTo(d.element)},drag:function(b){var h,j,k,l,m,n,o,p,q,r,d=this,e=d.treeview,f=d.sourceNode,g=d.dropTarget=a(c.eventTarget(b)),i=g.closest(".k-treeview");i.length?a.contains(f[0],g[0])?h="k-denied":(h="k-insert-middle",j=g.closest(".k-top,.k-mid,.k-bot"),j.length?(l=j.outerHeight(),m=c.getOffset(j).top,n=g.closest(".k-in"),o=l/(n.length>0?4:2),p=b.y.location<m+o,q=m+l-o<b.y.location,d._removeTouchHover(),r=n.length&&!p&&!q,d.hovered=r?i:!1,d.dropHint.css(A,r?"hidden":"visible"),n.toggleClass(C,r),r?h="k-add":(k=j.position(),k.top+=p?0:l,d.dropHint.css(k)[p?"prependTo":"appendTo"](g.closest(F).children("div:first")),p&&j.hasClass("k-top")&&(h="k-insert-top"),q&&j.hasClass("k-bot")&&(h="k-insert-bottom"))):g[0]!=d.dropHint[0]&&(h=i[0]!=e.element[0]?"k-add":"k-denied")):(h="k-denied",d._removeTouchHover()),e.trigger(v,{sourceNode:f[0],dropTarget:g[0],pageY:b.y.location,pageX:b.x.location,statusClass:h.substring(2),setStatusClass:function(a){h=a}}),0!==h.indexOf("k-insert")&&d.dropHint.css(A,"hidden"),d._hintStatus(h)},dragcancel:function(){this.dropHint.remove()},dragend:function(){function j(a){b.trigger(x,{sourceNode:a&&a[0],destinationNode:e[0],dropPosition:c})}var e,h,i,a=this,b=a.treeview,c="over",d=a.sourceNode,f=a.dropHint,g=a.dropTarget;return"visible"==f.css(A)?(c=f.prevAll(".k-in").length>0?"after":"before",e=f.closest(F)):g&&(e=g.closest(F),e.length||(e=g.closest(".k-treeview"))),h={sourceNode:d[0],destinationNode:e[0],valid:"k-denied"!=a._hintStatus(),setValid:function(a){this.valid=a},dropTarget:g[0],dropPosition:c},i=b.trigger(w,h),f.remove(),a._removeTouchHover(),!h.valid||i?(a._draggable.dropped=h.valid,void 0):(a._draggable.dropped=!0,"over"==c?b.append(d,e,j):("before"==c?d=b.insertBefore(d,e):"after"==c&&(d=b.insertAfter(d,e)),j(d)),void 0)},destroy:function(){this._draggable.destroy()}},d.plugin(J)}(window.kendo.jQuery),kendo_module({id:"slider",name:"Slider",category:"web",description:"The Slider widget provides a rich input for selecting values or ranges of values.",depends:["draganddrop"]}),function(a,b){function O(a,b,c){var d=c?" k-slider-horizontal":" k-slider-vertical",e=a.style?a.style:b.attr("style"),f=b.attr("class")?" "+b.attr("class"):"",g="";return"bottomRight"==a.tickPlacement?g=" k-slider-bottomright":"topLeft"==a.tickPlacement&&(g=" k-slider-topleft"),e=e?" style='"+e+"'":"","<div class='k-widget k-slider"+d+f+"'"+e+">"+"<div class='k-slider-wrap"+(a.showButtons?" k-slider-buttons":"")+g+"'></div></div>"}function P(a,b,c){var d="";return d="increase"==b?c?"k-i-arrow-e":"k-i-arrow-n":c?"k-i-arrow-w":"k-i-arrow-s","<a class='k-button k-button-"+b+"'><span class='k-icon "+d+"' title='"+a[b+"ButtonTitle"]+"'>"+a[b+"ButtonTitle"]+"</span></a>"}function Q(a,b){var e,c="<ul class='k-reset k-slider-items'>",d=k.floor(V(b/a.smallStep))+1;for(e=0;d>e;e++)c+="<li class='k-tick' role='presentation'>&nbsp;</li>";return c+="</ul>"}function R(a,b){var c=b.is("input")?1:2,d=2==c?a.leftDragHandleTitle:a.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+d+"' role='slider' aria-valuemin='"+a.min+"' aria-valuemax='"+a.max+"' aria-valuenow='"+(c>1?a.selectionStart||a.min:a.value||a.min)+"'>Drag</a>"+(c>1?"<a href='#' class='k-draghandle' title='"+a.rightDragHandleTitle+"'role='slider' aria-valuemin='"+a.min+"' aria-valuemax='"+a.max+"' aria-valuenow='"+(a.selectionEnd||a.max)+"'>Drag</a>":"")+"</div>"}function S(a){return function(b){return b+a}}function T(a){return function(){return a}}function U(a){return(a+"").replace(".",c.cultures.current.numberFormat["."])}function V(a){a=parseFloat(a,10);var b=k.pow(10,I||0);return k.round(a*b)/b}function W(a,c){var d=h(a.getAttribute(c));return null===d&&(d=b),d}function X(a){return typeof a!==K}var c=window.kendo,d=c.ui.Widget,e=c.ui.Draggable,f=a.extend,g=c.format,h=c.parseFloat,i=a.proxy,j=a.isArray,k=Math,l=c.support,m=l.pointers,n=l.msPointers,o="change",p="slide",q=".slider",r="touchstart"+q+" mousedown"+q,s=m?"pointerdown"+q:n?"MSPointerDown"+q:r,t="touchend"+q+" mouseup"+q,u=m?"pointerup":n?"MSPointerUp"+q:t,v="moveSelection",w="keydown"+q,x="click"+q,y="mouseover"+q,z="focus"+q,A="blur"+q,B=".k-draghandle",C=".k-slider-track",D=".k-tick",E="k-state-selected",F="k-state-focused",G="k-state-default",H="k-state-disabled",I=3,J="disabled",K="undefined",L="tabindex",M=c.getTouches,N=d.extend({init:function(a,b){var e=this;d.fn.init.call(e,a,b),b=e.options,e._distance=b.max-b.min,e._isHorizontal="horizontal"==b.orientation,e._isRtl=e._isHorizontal&&c.support.isRtl(a),e._position=e._isHorizontal?"left":"bottom",e._sizeFn=e._isHorizontal?"width":"height",e._outerSize=e._isHorizontal?"outerWidth":"outerHeight",b.tooltip.format=b.tooltip.enabled?b.tooltip.format||"{0}":"{0}",e._createHtml(),e.wrapper=e.element.closest(".k-slider"),e._trackDiv=e.wrapper.find(C),e._setTrackDivWidth(),e._maxSelection=e._trackDiv[e._sizeFn](),e._sliderItemsInit(),e._tabindex(e.wrapper.find(B)),e[b.enabled?"enable":"disable"]();var f=c.support.isRtl(e.wrapper)?-1:1;e._keyMap={37:S(-1*f*b.smallStep),40:S(-b.smallStep),39:S(1*f*b.smallStep),38:S(+b.smallStep),35:T(b.max),36:T(b.min),33:S(+b.largeStep),34:S(-b.largeStep)},c.notify(e)},events:[o,p],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_resize:function(){this._setTrackDivWidth(),this.wrapper.find(".k-slider-items").remove(),this._maxSelection=this._trackDiv[this._sizeFn](),this._sliderItemsInit(),this._refresh()},_sliderItemsInit:function(){var a=this,b=a.options,c=a._maxSelection/((b.max-b.min)/b.smallStep),d=a._calculateItemsWidth(k.floor(a._distance/b.smallStep));"none"!=b.tickPlacement&&c>=2&&(a._trackDiv.before(Q(b,a._distance)),a._setItemsWidth(d),a._setItemsTitle()),a._calculateSteps(d),"none"!=b.tickPlacement&&c>=2&&b.largeStep>b.smallStep&&a._setItemsLargeTick()},getSize:function(){return c.dimensions(this.wrapper)},_setTrackDivWidth:function(){var a=this,b=2*parseFloat(a._trackDiv.css(a._isRtl?"right":a._position),10);a._trackDiv[a._sizeFn](a.wrapper[a._sizeFn]()-2-b)},_setItemsWidth:function(b){var h,c=this,d=c.options,e=0,f=b.length-1,g=c.wrapper.find(D),i=0,j=2,k=g.length,l=0;for(h=0;k-2>h;h++)a(g[h+1])[c._sizeFn](b[h]);if(c._isHorizontal?(a(g[e]).addClass("k-first")[c._sizeFn](b[f-1]),a(g[f]).addClass("k-last")[c._sizeFn](b[f])):(a(g[f]).addClass("k-first")[c._sizeFn](b[f]),a(g[e]).addClass("k-last")[c._sizeFn](b[f-1])),0!==c._distance%d.smallStep&&!c._isHorizontal){for(h=0;h<b.length;h++)l+=b[h];i=c._maxSelection-l,i+=parseFloat(c._trackDiv.css(c._position),10)+j,c.wrapper.find(".k-slider-items").css("padding-top",i)}},_setItemsTitle:function(){for(var b=this,c=b.options,d=b.wrapper.find(D),e=c.min,f=d.length,h=b._isHorizontal&&!b._isRtl?0:f-1,i=b._isHorizontal&&!b._isRtl?f:-1,j=b._isHorizontal&&!b._isRtl?1:-1;0!==h-i;h+=j)a(d[h]).attr("title",g(c.tooltip.format,V(e))),e+=c.smallStep},_setItemsLargeTick:function(){var f,g,b=this,c=b.options,d=b.wrapper.find(D),e=0;if(0===1e3*c.largeStep%(1e3*c.smallStep)||b._distance/c.largeStep>=3)for(b._isHorizontal&&!b._isRtl&&(d=a.makeArray(d).reverse()),e=0;e<d.length;e++)f=a(d[e]),g=b._values[e],0===g%c.smallStep&&0===g%c.largeStep&&(f.addClass("k-tick-large").html("<span class='k-label'>"+f.attr("title")+"</span>"),0!==e&&e!==d.length-1&&f.css("line-height",f[b._sizeFn]()+"px"))},_calculateItemsWidth:function(a){var f,g,h,b=this,c=b.options,d=parseFloat(b._trackDiv.css(b._sizeFn))+1,e=d/b._distance;for(b._distance/c.smallStep-k.floor(b._distance/c.smallStep)>0&&(d-=b._distance%c.smallStep*e),f=d/a,g=[],h=0;a-1>h;h++)g[h]=f;return g[a-1]=g[a]=f/2,b._roundWidths(g)},_roundWidths:function(a){var d,b=0,c=a.length;for(d=0;c>d;d++)b+=a[d]-k.floor(a[d]),a[d]=k.floor(a[d]);return b=k.round(b),this._addAdditionalSize(b,a)},_addAdditionalSize:function(a,b){if(0===a)return b;var d,c=parseFloat(b.length-1)/parseFloat(1==a?a:a-1);for(d=0;a>d;d++)b[parseInt(k.round(c*d),10)]+=1;return b},_calculateSteps:function(a){var h,b=this,c=b.options,d=c.min,e=0,f=k.ceil(b._distance/c.smallStep),g=1;if(f+=0===b._distance/c.smallStep%1?1:0,a.splice(0,0,2*a[f-2]),a.splice(f-1,1,2*a.pop()),b._pixelSteps=[e],b._values=[d],0!==f){for(;f>g;)e+=(a[g-1]+a[g])/2,b._pixelSteps[g]=e,b._values[g]=d+=c.smallStep,g++;h=0===b._distance%c.smallStep?f-1:f,b._pixelSteps[h]=b._maxSelection,b._values[h]=c.max,b._isRtl&&(b._pixelSteps.reverse(),b._values.reverse())}},_getValueFromPosition:function(a,b){var h,c=this,d=c.options,e=k.max(d.smallStep*(c._maxSelection/c._distance),0),f=0,g=e/2;if(c._isHorizontal?(f=a-b.startPoint,c._isRtl&&(f=c._maxSelection-f)):f=b.startPoint-a,c._maxSelection-(parseInt(c._maxSelection%e,10)-3)/2<f)return d.max;for(h=0;h<c._pixelSteps.length;h++)if(k.abs(c._pixelSteps[h]-f)-1<=g)return V(c._values[h])},_getFormattedValue:function(a,b){var h,i,k,d=this,e="",f=d.options.tooltip;return j(a)?(i=a[0],k=a[1]):b&&b.type&&(i=b.selectionStart,k=b.selectionEnd),b&&(h=b.tooltipTemplate),!h&&f.template&&(h=c.template(f.template)),j(a)||b&&b.type?h?e=h({selectionStart:i,selectionEnd:k}):(i=g(f.format,i),k=g(f.format,k),e=i+" - "+k):(b&&(b.val=a),e=h?h({value:a}):g(f.format,a)),e},_getDraggableArea:function(){var a=this,b=c.getOffset(a._trackDiv);return{startPoint:a._isHorizontal?b.left:b.top+a._maxSelection,endPoint:a._isHorizontal?b.left+a._maxSelection:b.top}},_createHtml:function(){var a=this,b=a.element,c=a.options,d=b.find("input");2==d.length?(d.eq(0).val(c.selectionStart),d.eq(1).val(c.selectionEnd)):b.val(c.value),b.wrap(O(c,b,a._isHorizontal)).hide(),c.showButtons&&b.before(P(c,"increase",a._isHorizontal)).before(P(c,"decrease",a._isHorizontal)),b.before(R(c,b))},_focus:function(b){var c=this,d=b.target,e=c.value(),f=c._drag;f||(d==c.wrapper.find(B).eq(0)[0]?(f=c._firstHandleDrag,c._activeHandle=0):(f=c._lastHandleDrag,c._activeHandle=1),e=e[c._activeHandle]),a(d).addClass(F+" "+E),f&&(c._activeHandleDrag=f,f.selectionStart=c.options.selectionStart,f.selectionEnd=c.options.selectionEnd,f._updateTooltip(e))},_focusWithMouse:function(b){b=a(b);var c=this,d=b.is(B)?b.index():0;window.setTimeout(function(){c.wrapper.find(B)[2==d?1:0].focus()},1),c._setTooltipTimeout()},_blur:function(b){var c=this,d=c._activeHandleDrag;a(b.target).removeClass(F+" "+E),d&&(d._removeTooltip(),delete c._activeHandleDrag,delete c._activeHandle)},_setTooltipTimeout:function(){var a=this;a._tooltipTimeout=window.setTimeout(function(){var b=a._drag||a._activeHandleDrag;b&&b._removeTooltip()},300)},_clearTooltipTimeout:function(){var a=this;window.clearTimeout(this._tooltipTimeout);var b=a._drag||a._activeHandleDrag;b&&b.tooltipDiv&&b.tooltipDiv.stop(!0,!1).css("opacity",1)}}),Y=N.extend({init:function(c,d){var g,e=this;c.type="text",d=f({},{value:W(c,"value"),min:W(c,"min"),max:W(c,"max"),smallStep:W(c,"step")},d),c=a(c),d&&d.enabled===b&&(d.enabled=!c.is("[disabled]")),N.fn.init.call(e,c,d),d=e.options,X(d.value)&&null!==d.value||(d.value=d.min,c.val(d.min)),d.value=k.max(k.min(d.value,d.max),d.min),g=e.wrapper.find(B),new Y.Selection(g,e,d),e._drag=new Y.Drag(g,"",e,d)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0}"},value:null},enable:function(b){var f,g,d=this,e=d.options;if(d.disable(),b!==!1){if(d.wrapper.removeClass(H).addClass(G),d.wrapper.find("input").removeAttr(J),f=function(b){var c=M(b)[0];if(c){var e=d._isHorizontal?c.location.pageX:c.location.pageY,f=d._getDraggableArea(),g=a(b.target);if(g.hasClass("k-draghandle"))return g.addClass(F+" "+E),void 0;d._update(d._getValueFromPosition(e,f)),d._focusWithMouse(b.target),d._drag.dragstart(b),b.preventDefault()}},d.wrapper.find(D+", "+C).on(s,f).end().on(s,function(){a(document.documentElement).one("selectstart",c.preventDefault)}).on(u,function(){d._drag._end()}),d.wrapper.find(B).attr(L,0).on(t,function(){d._setTooltipTimeout()}).on(x,function(a){d._focusWithMouse(a.target),a.preventDefault()}).on(z,i(d._focus,d)).on(A,i(d._blur,d)),g=i(function(a){var b=d._nextValueByIndex(d._valueIndex+1*a);d._setValueInRange(b),d._drag._updateTooltip(b)},d),e.showButtons){var h=i(function(a,b){this._clearTooltipTimeout(),(1===a.which||l.touch&&0===a.which)&&(g(b),this.timeout=setTimeout(i(function(){this.timer=setInterval(function(){g(b)},60)},this),200))},d);d.wrapper.find(".k-button").on(t,i(function(a){this._clearTimer(),d._focusWithMouse(a.target)},d)).on(y,function(b){a(b.currentTarget).addClass("k-state-hover")}).on("mouseout"+q,i(function(b){a(b.currentTarget).removeClass("k-state-hover"),this._clearTimer()},d)).eq(0).on(r,i(function(a){h(a,1)},d)).click(!1).end().eq(1).on(r,i(function(a){h(a,-1)},d)).click(c.preventDefault)}d.wrapper.find(B).off(w,!1).on(w,i(this._keydown,d)),e.enabled=!0}},disable:function(){var b=this;b.wrapper.removeClass(G).addClass(H),a(b.element).prop(J,J),b.wrapper.find(".k-button").off(r).on(r,c.preventDefault).off(t).on(t,c.preventDefault).off("mouseleave"+q).on("mouseleave"+q,c.preventDefault).off(y).on(y,c.preventDefault),b.wrapper.find(D+", "+C).off(s).off(u),b.wrapper.find(B).attr(L,-1).off(t).off(w).off(x).off(z).off(A),b.options.enabled=!1},_update:function(a){var b=this,c=b.value()!=a;b.value(a),c&&b.trigger(o,{value:b.options.value})},value:function(a){var b=this,c=b.options;return a=V(a),isNaN(a)?c.value:(a>=c.min&&a<=c.max&&c.value!=a&&(b.element.prop("value",U(a)),c.value=a,b._refreshAriaAttr(a),b._refresh()),void 0)},_refresh:function(){this.trigger(v,{value:this.options.value})},_refreshAriaAttr:function(a){var d,b=this,c=b._drag;d=c&&c._tooltipDiv?c._tooltipDiv.text():b._getFormattedValue(a,null),this.wrapper.find(B).attr("aria-valuenow",a).attr("aria-valuetext",d)},_clearTimer:function(){clearTimeout(this.timeout),clearInterval(this.timer)},_keydown:function(a){var b=this;a.keyCode in b._keyMap&&(b._clearTooltipTimeout(),b._setValueInRange(b._keyMap[a.keyCode](b.options.value)),b._drag._updateTooltip(b.value()),a.preventDefault())},_setValueInRange:function(a){var b=this,c=b.options;return a=V(a),isNaN(a)?(b._update(c.min),void 0):(a=k.max(k.min(a,c.max),c.min),b._update(a),void 0)},_nextValueByIndex:function(a){var b=this._values.length;return this._isRtl&&(a=b-1-a),this._values[k.max(0,k.min(a,b-1))]},destroy:function(){var a=this;d.fn.destroy.call(a),a.wrapper.off(q).find(".k-button").off(q).end().find(B).off(q).end().find(D+", "+C).off(q).end(),a._drag.draggable.destroy()}});Y.Selection=function(a,b,c){function d(d){var e=d-c.min,f=b._valueIndex=k.ceil(V(e/c.smallStep)),g=parseInt(b._pixelSteps[f],10),h=b._trackDiv.find(".k-slider-selection"),i=parseInt(a[b._outerSize]()/2,10),j=b._isRtl?2:0;h[b._sizeFn](b._isRtl?b._maxSelection-g:g),a.css(b._position,g-i-j)}d(c.value),b.bind([o,p,v],function(a){d(parseFloat(a.value,10))})},Y.Drag=function(a,b,c,d){var f=this;f.owner=c,f.options=d,f.element=a,f.type=b,f.draggable=new e(a,{distance:0,dragstart:i(f._dragstart,f),drag:i(f.drag,f),dragend:i(f.dragend,f),dragcancel:i(f.dragcancel,f)}),a.click(!1)},Y.Drag.prototype={dragstart:function(a){this.owner._activeDragHandle=this,this.draggable.userEvents.cancel(),this.draggable.userEvents._start(a)},_dragstart:function(b){var c=this,d=c.owner,e=c.options;return e.enabled?(this.owner._activeDragHandle=this,d.element.off(y),c.element.addClass(F+" "+E),a(document.documentElement).css("cursor","pointer"),c.dragableArea=d._getDraggableArea(),c.step=k.max(e.smallStep*(d._maxSelection/d._distance),0),c.type?(c.selectionStart=e.selectionStart,c.selectionEnd=e.selectionEnd,d._setZIndex(c.type)):c.oldVal=c.val=e.value,c._removeTooltip(!0),c._createTooltip(),void 0):(b.preventDefault(),void 0)},_createTooltip:function(){var h,i,b=this,d=b.owner,e=b.options.tooltip,f="",g=a(window);e.enabled&&(e.template&&(h=b.tooltipTemplate=c.template(e.template)),a(".k-slider-tooltip").remove(),b.tooltipDiv=a("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body),f=d._getFormattedValue(b.val||d.value(),b),b.type||(i="k-callout-"+(d._isHorizontal?"s":"e"),b.tooltipInnerDiv="<div class='k-callout "+i+"'><!-- --></div>",f+=b.tooltipInnerDiv),b.tooltipDiv.html(f),b._scrollOffset={top:g.scrollTop(),left:g.scrollLeft()},b.moveTooltip())},drag:function(a){var h,b=this,c=b.owner,d=a.x.location,e=a.y.location,f=b.dragableArea.startPoint,g=b.dragableArea.endPoint;a.preventDefault(),b.val=c._isHorizontal?c._isRtl?b.constrainValue(d,f,g,g>d):b.constrainValue(d,f,g,d>=g):b.constrainValue(e,g,f,g>=e),b.oldVal!=b.val&&(b.oldVal=b.val,b.type?("firstHandle"==b.type?b.selectionStart=b.val<b.selectionEnd?b.val:b.selectionEnd=b.val:b.val>b.selectionStart?b.selectionEnd=b.val:b.selectionStart=b.selectionEnd=b.val,h={values:[b.selectionStart,b.selectionEnd],value:[b.selectionStart,b.selectionEnd]}):h={value:b.val},c.trigger(p,h)),b._updateTooltip(b.val)},_updateTooltip:function(a){var b=this,c=b.options,d=c.tooltip,e="";d.enabled&&(b.tooltipDiv||b._createTooltip(),e=b.owner._getFormattedValue(V(a),b),b.type||(e+=b.tooltipInnerDiv),b.tooltipDiv.html(e),b.moveTooltip())},dragcancel:function(){return this.owner._refresh(),a(document.documentElement).css("cursor",""),this._end()},dragend:function(){var b=this,c=b.owner;return a(document.documentElement).css("cursor",""),b.type?c._update(b.selectionStart,b.selectionEnd):c._update(b.val),b._end()
},_end:function(){var a=this,b=a.owner;return b._focusWithMouse(a.element),b.element.on(y),!1},_removeTooltip:function(b){var c=this,d=c.owner;c.tooltipDiv&&d.options.tooltip.enabled&&d.options.enabled&&(b?(c.tooltipDiv.remove(),c.tooltipDiv=null):c.tooltipDiv.fadeOut("slow",function(){a(this).remove(),c.tooltipDiv=null}))},moveTooltip:function(){var n,o,p,q,b=this,d=b.owner,e=0,f=0,g=b.element,h=c.getOffset(g),i=8,j=a(window),k=b.tooltipDiv.find(".k-callout"),l=b.tooltipDiv.outerWidth(),m=b.tooltipDiv.outerHeight();b.type?(n=d.wrapper.find(B),h=c.getOffset(n.eq(0)),o=c.getOffset(n.eq(1)),d._isHorizontal?(e=o.top,f=h.left+(o.left-h.left)/2):(e=h.top+(o.top-h.top)/2,f=o.left),q=n.eq(0).outerWidth()+2*i):(e=h.top,f=h.left,q=g.outerWidth()+2*i),d._isHorizontal?(f-=parseInt((l-g[d._outerSize]())/2,10),e-=m+k.height()+i):(e-=parseInt((m-g[d._outerSize]())/2,10),f-=l+k.width()+i),d._isHorizontal?(p=b._flip(e,m,q,j.outerHeight()+b._scrollOffset.top),e+=p,f+=b._fit(f,l,j.outerWidth()+b._scrollOffset.left)):(p=b._flip(f,l,q,j.outerWidth()+b._scrollOffset.left),e+=b._fit(e,m,j.outerHeight()+b._scrollOffset.top),f+=p),p>0&&k&&(k.removeClass(),k.addClass("k-callout k-callout-"+(d._isHorizontal?"n":"w"))),b.tooltipDiv.css({top:e,left:f})},_fit:function(a,b,c){var d=0;return a+b>c&&(d=c-(a+b)),0>a&&(d=-a),d},_flip:function(a,b,c,d){var e=0;return a+b>d&&(e+=-(c+b)),0>a+e&&(e+=c+b),e},constrainValue:function(a,b,c,d){var e=this,f=0;return f=a>b&&c>a?e.owner._getValueFromPosition(a,e.dragableArea):d?e.options.max:e.options.min}},c.ui.plugin(Y);var Z=N.extend({init:function(c,d){var e=this,g=a(c).find("input"),h=g.eq(0)[0],i=g.eq(1)[0];h.type="text",i.type="text",d=f({},{selectionStart:W(h,"value"),min:W(h,"min"),max:W(h,"max"),smallStep:W(h,"step")},{selectionEnd:W(i,"value"),min:W(i,"min"),max:W(i,"max"),smallStep:W(i,"step")},d),d&&d.enabled===b&&(d.enabled=!g.is("[disabled]")),N.fn.init.call(e,c,d),d=e.options,X(d.selectionStart)&&null!==d.selectionStart||(d.selectionStart=d.min,g.eq(0).val(d.min)),X(d.selectionEnd)&&null!==d.selectionEnd||(d.selectionEnd=d.max,g.eq(1).val(d.max));var j=e.wrapper.find(B);new Z.Selection(j,e,d),e._firstHandleDrag=new Y.Drag(j.eq(0),"firstHandle",e,d),e._lastHandleDrag=new Y.Drag(j.eq(1),"lastHandle",e,d)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0}"},selectionStart:null,selectionEnd:null},enable:function(b){var f,d=this,e=d.options;d.disable(),b!==!1&&(d.wrapper.removeClass(H).addClass(G),d.wrapper.find("input").removeAttr(J),f=function(b){var c=M(b)[0];if(c){var j,k,l,f=d._isHorizontal?c.location.pageX:c.location.pageY,g=d._getDraggableArea(),h=d._getValueFromPosition(f,g),i=a(b.target);if(i.hasClass("k-draghandle"))return i.addClass(F+" "+E),void 0;h<e.selectionStart?(j=h,k=e.selectionEnd,l=d._firstHandleDrag):h>d.selectionEnd?(j=e.selectionStart,k=h,l=d._lastHandleDrag):h-e.selectionStart<=e.selectionEnd-h?(j=h,k=e.selectionEnd,l=d._firstHandleDrag):(j=e.selectionStart,k=h,l=d._lastHandleDrag),l.dragstart(b),d._setValueInRange(j,k),d._focusWithMouse(l.element)}},d.wrapper.find(D+", "+C).on(s,f).end().on(s,function(){a(document.documentElement).one("selectstart",c.preventDefault)}).on(u,function(){d._activeDragHandle._end()}),d.wrapper.find(B).attr(L,0).on(t,function(){d._setTooltipTimeout()}).on(x,function(a){d._focusWithMouse(a.target),a.preventDefault()}).on(z,i(d._focus,d)).on(A,i(d._blur,d)),d.wrapper.find(B).off(w,c.preventDefault).eq(0).on(w,i(function(a){this._keydown(a,"firstHandle")},d)).end().eq(1).on(w,i(function(a){this._keydown(a,"lastHandle")},d)),d.options.enabled=!0)},disable:function(){var a=this;a.wrapper.removeClass(G).addClass(H),a.wrapper.find("input").prop(J,J),a.wrapper.find(D+", "+C).off(s).off(u),a.wrapper.find(B).attr(L,-1).off(t).off(w).off(x).off(z).off(A),a.options.enabled=!1},_keydown:function(a,b){var f,g,h,c=this,d=c.options.selectionStart,e=c.options.selectionEnd;a.keyCode in c._keyMap&&(c._clearTooltipTimeout(),"firstHandle"==b?(h=c._activeHandleDrag=c._firstHandleDrag,d=c._keyMap[a.keyCode](d),d>e&&(e=d)):(h=c._activeHandleDrag=c._lastHandleDrag,e=c._keyMap[a.keyCode](e),d>e&&(d=e)),c._setValueInRange(d,e),f=Math.max(d,c.options.selectionStart),g=Math.min(e,c.options.selectionEnd),h.selectionEnd=Math.max(g,c.options.selectionStart),h.selectionStart=Math.min(f,c.options.selectionEnd),h._updateTooltip(c.value()[c._activeHandle]),a.preventDefault())},_update:function(a,b){var c=this,d=c.value(),e=d[0]!=a||d[1]!=b;c.value([a,b]),e&&c.trigger(o,{values:[a,b],value:[a,b]})},value:function(a){return a&&a.length?this._value(a[0],a[1]):this._value()},_value:function(a,b){var c=this,d=c.options,e=d.selectionStart,f=d.selectionEnd;return isNaN(a)&&isNaN(b)?[e,f]:(a=V(a),b=V(b),a>=d.min&&a<=d.max&&b>=d.min&&b<=d.max&&b>=a&&(e!=a||f!=b)&&(c.element.find("input").eq(0).prop("value",U(a)).end().eq(1).prop("value",U(b)),d.selectionStart=a,d.selectionEnd=b,c._refresh(),c._refreshAriaAttr(a,b)),void 0)},values:function(a,b){return j(a)?this._value(a[0],a[1]):this._value(a,b)},_refresh:function(){var a=this,b=a.options;a.trigger(v,{values:[b.selectionStart,b.selectionEnd],value:[b.selectionStart,b.selectionEnd]}),b.selectionStart==b.max&&b.selectionEnd==b.max&&a._setZIndex("firstHandle")},_refreshAriaAttr:function(a,b){var f,c=this,d=c.wrapper.find(B),e=c._activeHandleDrag;f=c._getFormattedValue([a,b],e),d.eq(0).attr("aria-valuenow",a),d.eq(1).attr("aria-valuenow",b),d.attr("aria-valuetext",f)},_setValueInRange:function(a,b){var c=this.options;a=k.max(k.min(a,c.max),c.min),b=k.max(k.min(b,c.max),c.min),a==c.max&&b==c.max&&this._setZIndex("firstHandle"),this._update(k.min(a,b),k.max(a,b))},_setZIndex:function(b){this.wrapper.find(B).each(function(c){a(this).css("z-index","firstHandle"==b?1-c:c)})},destroy:function(){var a=this;d.fn.destroy.call(a),a.wrapper.off(q).find(D+", "+C).off(q).end().find(B).off(q),a._firstHandleDrag.draggable.destroy(),a._lastHandleDrag.draggable.destroy()}});Z.Selection=function(a,b,c){function d(d){d=d||[];var f=d[0]-c.min,g=d[1]-c.min,h=k.ceil(V(f/c.smallStep)),i=k.ceil(V(g/c.smallStep)),j=b._pixelSteps[h],l=b._pixelSteps[i],m=parseInt(a.eq(0)[b._outerSize]()/2,10),n=b._isRtl?2:0;a.eq(0).css(b._position,j-m-n).end().eq(1).css(b._position,l-m-n),e(j,l)}function e(a,c){var d,e,f=b._trackDiv.find(".k-slider-selection");d=k.abs(a-c),f[b._sizeFn](d),b._isRtl?(e=k.max(a,c),f.css("right",b._maxSelection-e-1)):(e=k.min(a,c),f.css(b._position,e-1))}d(b.value()),b.bind([o,p,v],function(a){d(a.values)})},c.ui.plugin(Z)}(window.kendo.jQuery),kendo_module({id:"splitter",name:"Splitter",category:"web",description:"The Splitter widget provides an easy way to create a dynamic layout of resizable and collapsible panes.",depends:["resizable"]}),function(a,b){function A(a){return j.test(a)}function B(a){return i.test(a)||/^\d+$/.test(a)}function C(a){return!A(a)&&!B(a)}function D(a,b){return function(c,d){var e=this.element.find(c).data(v);if(1==arguments.length)return e[a];if(e[a]=d,b){var f=this.element.data("kendo"+this.options.name);f.resize(!0)}}}function H(a){var b=this,d=a.orientation;b.owner=a,b._element=a.element,b.orientation=d,f(b,d===r?G:F),b._resizable=new c.ui.Resizable(a.element,{orientation:d,handle:".k-splitbar-draggable-"+d+"[data-marker="+a._marker+"]",hint:g(b._createHint,b),start:g(b._start,b),max:g(b._max,b),min:g(b._min,b),invalidClass:"k-restricted-size-"+d,resizeend:g(b._stop,b)})}var c=window.kendo,d=c.ui,e=c.keys,f=a.extend,g=a.proxy,h=d.Widget,i=/^\d+(\.\d+)?px$/i,j=/^\d+(\.\d+)?%$/i,k=".kendoSplitter",l="expand",m="collapse",n="contentLoad",o="error",p="resize",q="layoutChange",r="horizontal",s="vertical",t="mouseenter",u="click",v="pane",w="mouseleave",x="k-state-focused",y="k-"+v,z="."+y,E=h.extend({init:function(a,b){var f,d=this;h.fn.init.call(d,a,b),d.wrapper=d.element,f=d.options.orientation.toLowerCase()!=s,d.orientation=f?r:s,d._dimension=f?"width":"height",d._keys={decrease:f?e.LEFT:e.UP,increase:f?e.RIGHT:e.DOWN},d._resizeStep=10,d._marker=c.guid().substring(0,8),d._resizeHandler=function(){d.resize()},d._initPanes(),d.resizing=new H(d),d.element.triggerHandler("init"+k)},events:[l,m,n,o,p,q],_attachEvents:function(){var b=this,c=b.options.orientation;b.element.children(".k-splitbar-draggable-"+c).on("keydown"+k,a.proxy(b._keydown,b)).on("mousedown"+k,function(a){a.currentTarget.focus()}).on("focus"+k,function(b){a(b.currentTarget).addClass(x)}).on("blur"+k,function(c){a(c.currentTarget).removeClass(x),b.resizing&&b.resizing.end()}).on(t+k,function(){a(this).addClass("k-splitbar-"+b.orientation+"-hover")}).on(w+k,function(){a(this).removeClass("k-splitbar-"+b.orientation+"-hover")}).on("mousedown"+k,function(){b._panes().append("<div class='k-splitter-overlay k-overlay' />")}).on("mouseup"+k,function(){b._panes().children(".k-splitter-overlay").remove()}).end().children(".k-splitbar").on("dblclick"+k,g(b._togglePane,b)).children(".k-collapse-next, .k-collapse-prev").on(u+k,b._arrowClick(m)).end().children(".k-expand-next, .k-expand-prev").on(u+k,b._arrowClick(l)).end().end(),a(window).on("resize",b._resizeHandler)},_detachEvents:function(){var b=this;b.element.children(".k-splitbar-draggable-"+b.orientation).off(k).end().children(".k-splitbar").off("dblclick"+k).children(".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev").off(k),a(window).off("resize",b._resizeHandler)},options:{name:"Splitter",orientation:r,panes:[]},destroy:function(){var a=this;h.fn.destroy.call(a),a._detachEvents(),a.resizing&&a.resizing.destroy(),c.destroy(a.element)},_keydown:function(b){var k,c=this,d=b.keyCode,f=c.resizing,g=a(b.currentTarget),h=c._keys,i=d===h.increase,j=d===h.decrease;i||j?(b.ctrlKey?(k=g[j?"next":"prev"](),f&&f.isResizing()&&f.end(),k[c._dimension]()?c._triggerAction(m,g[j?"prev":"next"]()):c._triggerAction(l,k)):f&&f.move((j?-1:1)*c._resizeStep,g),b.preventDefault()):d===e.ENTER&&f&&(f.end(),b.preventDefault())},_initPanes:function(){var a=this,b=a.options.panes||[];a.element.addClass("k-widget").addClass("k-splitter").children(":not(script)").each(function(c,d){var e=b&&b[c];a._initPane(d,e)}).end(),a.resize()},_initPane:function(b,c){b=a(b).attr("role","group").addClass(y),b.data(v,c?c:{}).toggleClass("k-scrollable",c?c.scrollable!==!1:!0),this.ajaxRequest(b)},ajaxRequest:function(a,b,d){var f,e=this;a=e.element.find(a),f=a.data(v),b=b||f.contentUrl,b&&(a.append("<span class='k-icon k-loading k-pane-loading' />"),c.isLocalUrl(b)?jQuery.ajax({url:b,data:d||{},type:"GET",dataType:"html",success:function(b){a.html(b),e.trigger(n,{pane:a[0]})},error:function(b,c){e.trigger(o,{pane:a[0],status:c,xhr:b})}}):a.removeClass("k-scrollable").html("<iframe src='"+b+"' frameborder='0' class='k-content-frame'>"+"This page requires frames in order to show content"+"</iframe>"))},_triggerAction:function(a,b){this.trigger(a,{pane:b[0]})||this[a](b[0])},_togglePane:function(b){var e,c=this,d=a(b.target);d.closest(".k-splitter")[0]==c.element[0]&&(e=d.children(".k-icon:not(.k-resize-handle)"),1===e.length&&(e.is(".k-collapse-prev")?c._triggerAction(m,d.prev()):e.is(".k-collapse-next")?c._triggerAction(m,d.next()):e.is(".k-expand-prev")?c._triggerAction(l,d.prev()):e.is(".k-expand-next")&&c._triggerAction(l,d.next())))},_arrowClick:function(b){var c=this;return function(d){var f,e=a(d.target);e.closest(".k-splitter")[0]==c.element[0]&&(f=e.is(".k-"+b+"-prev")?e.parent().prev():e.parent().next(),c._triggerAction(b,f))}},_updateSplitBar:function(a,b,c){var d=function(a,b){return b?"<div class='k-icon "+a+"' />":""},e=this.orientation,f=b.resizable!==!1&&c.resizable!==!1,g=b.collapsible,h=b.collapsed,i=c.collapsible,j=c.collapsed;a.addClass("k-splitbar k-state-default k-secondary k-splitbar-"+e).attr("role","separator").attr("aria-expanded",!(h||j)).removeClass("k-splitbar-"+e+"-hover").toggleClass("k-splitbar-draggable-"+e,f&&!h&&!j).toggleClass("k-splitbar-static-"+e,!f&&!g&&!i).html(d("k-collapse-prev",g&&!h&&!j)+d("k-expand-prev",g&&h&&!j)+d("k-resize-handle",f)+d("k-collapse-next",i&&!j&&!h)+d("k-expand-next",i&&j&&!h))},_updateSplitBars:function(){var b=this;this.element.children(".k-splitbar").each(function(){var c=a(this),d=c.prevAll(z).first().data(v),e=c.nextAll(z).first().data(v);e&&b._updateSplitBar(c,d,e)})},_removeSplitBars:function(){this.element.children(".k-splitbar").remove()},_panes:function(){return this.element.children(z)},_resize:function(){var b=this,d=b.element,e=d.children(z),f=b.orientation==r,g=d.children(".k-splitbar"),h=g.length,i=f?"width":"height",j=d[i]();0===h?(h=e.length-1,e.slice(0,h).after("<div tabindex='0' class='k-splitbar' data-marker='"+b._marker+"' />"),b._updateSplitBars(),g=d.children(".k-splitbar")):b._updateSplitBars(),g.each(function(){j-=this[f?"offsetWidth":"offsetHeight"]});var k=0,l=0,m=a();e.css({position:"absolute",top:0})[i](function(){var c,b=a(this).data(v)||{};if(b.collapsed)c=0,a(this).css("overflow","hidden");else{if(C(b.size))return m=m.add(this),void 0;c=parseInt(b.size,10),A(b.size)&&(c=Math.floor(c*j/100))}return l++,k+=c,c}),j-=k;var n=m.length,o=Math.floor(j/n);m.slice(0,n-1).css(i,o).end().eq(n-1).css(i,j-(n-1)*o);var p=0,s=f?"height":"width",t=f?"left":"top",u=f?"offsetWidth":"offsetHeight";if(0===n){var w=e.filter(function(){return!(a(this).data(v)||{}).collapsed}).last();w[i](j+w[0][u])}d.children(":not(script)").css(s,d[s]()).each(function(a,b){b.style[t]=Math.floor(p)+"px",p+=b[u]}),b._detachEvents(),b._attachEvents(),c.resize(e),b.trigger(q)},toggle:function(a,c){var e,d=this;a=d.element.find(a),e=a.data(v),(c||e.collapsible)&&(1==arguments.length&&(c=e.collapsed===b?!1:e.collapsed),e.collapsed=!c,e.collapsed?a.css("overflow","hidden"):a.css("overflow",""),d.resize(!0))},collapse:function(a){this.toggle(a,!1)},expand:function(a){this.toggle(a,!0)},_addPane:function(a,b,c){var d=this;return c.length&&(d.options.panes.splice(b,0,a),d._initPane(c,a),d._removeSplitBars(),d.resize()),c},append:function(b){b=b||{};var c=this,d=a("<div />").appendTo(c.element);return c._addPane(b,c.options.panes.length,d)},insertBefore:function(b,c){c=a(c),b=b||{};var d=this,e=c.index(".k-pane"),f=a("<div />").insertBefore(a(c));return d._addPane(b,e,f)},insertAfter:function(b,c){c=a(c),b=b||{};var d=this,e=c.index(".k-pane"),f=a("<div />").insertAfter(a(c));return d._addPane(b,e+1,f)},remove:function(b){b=a(b);var d=this;return b.length&&(c.destroy(b),b.each(function(b,c){d.options.panes.splice(a(c).index(".k-pane"),1),a(c).remove()}),d._removeSplitBars(),d.options.panes.length&&d.resize()),d},size:D("size",!0),min:D("min"),max:D("max")});d.plugin(E);var F={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"},G={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"};H.prototype={press:function(a){this._resizable.press(a)},move:function(a,b){this.pressed||(this.press(b),this.pressed=!0),this._resizable.target||this._resizable.press(b),this._resizable.move(a)},end:function(){this._resizable.end(),this.pressed=!1},destroy:function(){this._resizable.destroy()},isResizing:function(){return this._resizable.resizing},_createHint:function(b){var c=this;return a("<div class='k-ghost-splitbar k-ghost-splitbar-"+c.orientation+" k-state-default' />").css(c.alternateSizingProperty,b[c.alternateSizingProperty]())},_start:function(b){var c=this,d=a(b.currentTarget),e=d.prev(),f=d.next(),g=e.data(v),h=f.data(v),i=parseInt(e[0].style[c.positioningProperty],10),j=parseInt(f[0].style[c.positioningProperty],10)+f[0][c.sizingDomProperty]-d[0][c.sizingDomProperty],k=parseInt(c._element.css(c.sizingProperty),10),l=function(a){var b=parseInt(a,10);return(B(a)?b:k*b/100)||0},m=l(g.min),n=l(g.max)||j-i,o=l(h.min),p=l(h.max)||j-i;c.previousPane=e,c.nextPane=f,c._maxPosition=Math.min(j-o,i+n),c._minPosition=Math.max(i+m,j-p)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(b){var d=this,e=a(b.currentTarget),f=d.owner;if(f._panes().children(".k-splitter-overlay").remove(),b.keyCode!==c.keys.ESC){var g=b.position,h=e.prev(),i=e.next(),j=h.data(v),k=i.data(v),l=g-parseInt(h[0].style[d.positioningProperty],10),m=parseInt(i[0].style[d.positioningProperty],10)+i[0][d.sizingDomProperty]-g-e[0][d.sizingDomProperty],n=d._element.children(z).filter(function(){return C(a(this).data(v).size)}).length;(!C(j.size)||n>1)&&(C(j.size)&&n--,j.size=l+"px"),(!C(k.size)||n>1)&&(k.size=m+"px"),f.resize(!0)}return!1}}}(window.kendo.jQuery),kendo_module({id:"upload",name:"Upload",category:"web",description:"The Upload widget uses progressive enhancement to deliver the best possible uploading experience to users.",depends:["core"]}),function(a,b){function t(b){return a.map(u(b),function(a){return a.name}).join(", ")}function u(a){var b=a[0];return b.files?v(b.files):[{name:y(b.value),extension:x(b.value),size:null}]}function v(b){return a.map(b,function(a){return w(a)})}function w(a){var b=a.name||a.fileName;return{name:c.htmlEncode(b),extension:x(b),size:a.size||a.fileSize,rawFile:a}}function x(a){var b=a.match(f);return b?b[0]:""}function y(a){var b=a.lastIndexOf("\\");return-1!=b?a.substr(b+1):a}function z(b,c,d){if(c._supportsRemove()){var f=b.data("fileNames"),g=a.map(f,function(a){return a.name});c._submitRemove(g,d,function(a,d,e){c._removeFileEntry(b),c.trigger(j,{operation:"remove",files:f,response:a,XMLHttpRequest:e})},function(a){c.trigger(k,{operation:"remove",files:f,XMLHttpRequest:a}),e("Server response: "+a.responseText)})}}function A(b,c,d){var e=!1,f="";try{f=a.parseJSON(B(b)),e=!0}catch(g){d()}e&&c(f)}function B(a){return("undefined"==typeof a||""===a)&&(a="{}"),a}function C(a){a.stopPropagation(),a.preventDefault()}function D(a,b,c,d){var e,f;a.on("dragenter"+b,function(){c(),f=new Date,e||(e=setInterval(function(){var a=new Date-f;a>100&&(d(),clearInterval(e),e=null)},100))}).on("dragover"+b,function(){f=new Date})}function E(a){return a.is(".k-file-progress, .k-file-success, .k-file-error")}function F(b){return a(b.target).closest(".k-file")}function G(){var c={},d=a("meta[name=csrf-token]").attr("content"),e=a("meta[name=csrf-param]").attr("content");return a("input[name^='__RequestVerificationToken']").each(function(){c[this.name]=this.value}),e!==b&&d!==b&&(c[e]=d),c}var c=window.kendo,d=c.ui.Widget,e=c.logToConsole,f=/\.([^\.]+)$/,g=".kendoUpload",h="select",i="upload",j="success",k="error",l="complete",m="cancel",n="progress",o="remove",p=d.extend({init:function(b,e){var f=this;d.fn.init.call(f,b,e),f.name=b.name,f.multiple=f.options.multiple,f.localization=f.options.localization;var h=f.element;f.wrapper=h.closest(".k-upload"),0===f.wrapper.length&&(f.wrapper=f._wrapInput(h)),f._activeInput(h),f.toggle(f.options.enabled);var i=f._ns=g+"-"+c.guid();if(h.closest("form").on("submit"+i,a.proxy(f._onParentFormSubmit,f)).on("reset"+i,a.proxy(f._onParentFormReset,f)),f.options.async.saveUrl){f._module=f._supportsFormData()?new s(f):new r(f),f._async=!0;var j=f.options.files;j.length>0&&f._renderInitialFiles(j)}else f._module=new q(f);f._supportsDrop()&&f._setupDropZone(),f.wrapper.on("click",".k-upload-action",a.proxy(f._onFileAction,f)).on("click",".k-upload-selected",a.proxy(f._onUploadSelected,f))},events:[h,i,j,k,l,m,n,o],options:{name:"Upload",enabled:!0,multiple:!0,showFileList:!0,template:"",files:[],async:{removeVerb:"POST",autoUpload:!0},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusWarning:"warning",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusUploaded:"Done"}},setOptions:function(a){var b=this,c=b.element;d.fn.setOptions.call(b,a),b.multiple=b.options.multiple,c.attr("multiple",b._supportsMultiple()?b.multiple:!1),b.toggle(b.options.enabled)},enable:function(a){a="undefined"==typeof a?!0:a,this.toggle(a)},disable:function(){this.toggle(!1)},toggle:function(a){a="undefined"==typeof a?a:!a,this.wrapper.toggleClass("k-state-disabled",a),this.element.prop("disabled",a)},destroy:function(){var b=this;a(document).add(a(".k-dropzone",b.wrapper)).add(b.wrapper.closest("form")).off(b._ns),a(b.element).off(g),d.fn.destroy.call(b)},_addInput:function(b){if(b[0].nodeType){var c=this,d=b.clone().val("");d.insertAfter(c.element).data("kendoUpload",c),a(c.element).hide().removeAttr("id").off(g),c._activeInput(d)}},_activeInput:function(b){var c=this,d=c.wrapper;c.element=b,b.attr("multiple",c._supportsMultiple()?c.multiple:!1).attr("autocomplete","off").on("click"+g,function(a){d.hasClass("k-state-disabled")&&a.preventDefault()}).on("focus"+g,function(){a(this).parent().addClass("k-state-focused")}).on("blur"+g,function(){a(this).parent().removeClass("k-state-focused")}).on("change"+g,a.proxy(c._onInputChange,c))},_onInputChange:function(b){var c=this,d=a(b.target),e=c.trigger(h,{files:u(d)});e?(c._addInput(d),d.remove()):c._module.onSelect(b)},_onDrop:function(b){var c=b.originalEvent.dataTransfer,d=this,e=c.files;if(C(b),e.length>0){var f=d.trigger(h,{files:v(e)});f||d._module.onSelect({target:a(".k-dropzone",d.wrapper)},e)}},_renderInitialFiles:function(b){var c=this,d=0;for(d=0;d<b.length;d++){var e=b[d],f=c._enqueueFile(e.name,{fileNames:[e]});f.addClass("k-file-success").data("files",[b[d]]),a(".k-progress",f).width("100%"),a(".k-upload-status",f).prepend("<span class='k-upload-pct'>100%</span>"),c._fileAction(f,o)}},_prepareTemplateData:function(a,b){var c=b.fileNames,d={},e=0,f=0;for(f=0;f<c.length;f++)e+=c[f].size;return d.name=a,d.size=e,d.files=b.fileNames,d},_prepareDefaultFileEntryTemplate:function(b,c){var d="",e=a("<li class='k-file'><span class='k-progress'></span><span class='k-icon'></span><span class='k-filename' title='"+b+"'>"+b+"</span>"+"<strong class='k-upload-status'></strong>"+"</li>");return 1==c.fileNames.length&&c.fileNames[0].extension&&(d=c.fileNames[0].extension.substring(1),a(".k-icon",e).addClass("k-i-"+d)),e},_enqueueFile:function(b,d){var f,g,k,e=this,h=a(".k-upload-files",e.wrapper),i=e.options,j=i.template;return 0===h.length&&(h=a("<ul class='k-upload-files k-reset'></ul>").appendTo(e.wrapper),e.options.showFileList||h.hide(),e.wrapper.removeClass("k-upload-empty")),f=a(".k-file",h),j?(k=e._prepareTemplateData(b,d),j=c.template(j),g=a("<li class='k-file'>"+j(k)+"</li>"),g.find(".k-upload-action").addClass("k-button k-button-bare")):g=e._prepareDefaultFileEntryTemplate(b,d),g.appendTo(h).data(d),e._async||a(".k-progress",g).width("100%"),!e.multiple&&f.length>0&&e._module.onRemove({target:a(f,e.wrapper)}),g},_removeFileEntry:function(b){var e,f,c=this,d=b.closest(".k-upload-files");b.remove(),e=a(".k-file",d),f=a(".k-file-success, .k-file-error",d),f.length===e.length&&this._hideUploadButton(),0===e.length&&(d.remove(),c.wrapper.addClass("k-upload-empty"),c._hideHeaderUploadstatus())},_fileAction:function(a,b){var c={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"},d={remove:"k-i-close",cancel:"k-i-close",retry:"k-i-refresh"};c.hasOwnProperty(b)&&(this._clearFileAction(a),this.options.template?a.find(".k-upload-action").addClass("k-button k-button-bare").append("<span class='k-icon "+d[b]+" "+c[b]+"' title='"+this.localization[b]+"'></span>").show():(a.find(".k-upload-status .k-upload-action").remove(),a.find(".k-upload-status").append(this._renderAction(c[b],this.localization[b],d[b]))))},_fileState:function(b,c){var d=this.localization,e={uploading:{text:d.statusUploading},uploaded:{text:d.statusUploaded},failed:{text:d.statusFailed}},f=e[c];f&&a(".k-icon:not(.k-delete, .k-cancel, .k-retry)",b).text(f.text)},_renderAction:function(b,c,d){return""!==b?a("<button type='button' class='k-button k-button-bare k-upload-action'><span class='k-icon "+d+" "+b+"' title='"+c+"'></span>"+"</button>"):a("<button type='button' class='k-button'>"+c+"</button>")},_clearFileAction:function(b){a(".k-upload-action",b).empty().hide()},_onFileAction:function(b){var c=this;if(!c.wrapper.hasClass("k-state-disabled")){var d=a(b.target).closest(".k-upload-action"),e=d.find(".k-icon"),f=d.closest(".k-file"),g={files:f.data("fileNames")};e.hasClass("k-delete")?c.trigger(o,g)||c._module.onRemove({target:a(f,c.wrapper)},g.data):e.hasClass("k-cancel")?(c.trigger(m,g),c._module.onCancel({target:a(f,c.wrapper)}),this._checkAllComplete(),c._updateHeaderUploadStatus()):e.hasClass("k-retry")&&(a(".k-warning",f).remove(),c._module.onRetry({target:a(f,c.wrapper)}))}return!1},_onUploadSelected:function(){return this._module.onSaveSelected(),!1},_onFileProgress:function(b,c){var d;this.options.template?a(".k-progress",b.target).width(c+"%"):(d=a(".k-upload-pct",b.target),0===d.length&&a(".k-upload-status",b.target).prepend("<span class='k-upload-pct'></span>"),a(".k-upload-pct",b.target).text(c+"%"),a(".k-progress",b.target).width(c+"%")),this.trigger(n,{files:F(b).data("fileNames"),percentComplete:c})},_onUploadSuccess:function(a,b,c){var d=F(a);this._fileState(d,"uploaded"),d.removeClass("k-file-progress").addClass("k-file-success"),this._updateHeaderUploadStatus(),this.trigger(j,{files:d.data("fileNames"),response:b,operation:"upload",XMLHttpRequest:c}),this._supportsRemove()?this._fileAction(d,o):this._clearFileAction(d),this._checkAllComplete()},_onUploadError:function(b,c){var d=F(b),f=a(".k-upload-pct",d);this._fileState(d,"failed"),d.removeClass("k-file-progress").addClass("k-file-error"),a(".k-progress",d).width("100%"),f.length>0?f.empty().removeClass("k-upload-pct").addClass("k-icon k-warning"):a(".k-upload-status",d).prepend("<span class='k-icon k-warning'></span>"),this._updateHeaderUploadStatus(),this._fileAction(d,"retry"),this.trigger(k,{operation:"upload",files:d.data("fileNames"),XMLHttpRequest:c}),e("Server response: "+c.responseText),this._checkAllComplete()},_showUploadButton:function(){var b=a(".k-upload-selected",this.wrapper);0===b.length&&(b=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected")),this.wrapper.append(b)},_hideUploadButton:function(){a(".k-upload-selected",this.wrapper).remove()},_showHeaderUploadStatus:function(){var b=this.localization,c=a(".k-dropzone",this.wrapper),d=a(".k-upload-status-total",this.wrapper);0!==d.length&&d.remove(),d='<strong class="k-upload-status k-upload-status-total">'+b.headerStatusUploading+'<span class="k-icon k-loading">'+b.statusUploading+"</span>"+"</strong>",c.length>0?c.append(d):a(".k-upload-button",this.wrapper).after(d)},_updateHeaderUploadStatus:function(){var e,f,g,b=this,c=b.localization,d=a(".k-file",b.wrapper).not(".k-file-success, .k-file-error");0===d.length&&(e=a(".k-file.k-file-error",b.wrapper),f=a(".k-upload-status-total",b.wrapper),g=a(".k-icon",f).removeClass("k-loading").addClass(0!==e.length?"k-warning":"k-i-tick").text(0!==e.length?c.statusWarning:c.statusUploaded),f.text(b.localization.headerStatusUploaded).append(g))},_hideHeaderUploadstatus:function(){a(".k-upload-status-total",this.wrapper).remove()},_onParentFormSubmit:function(){var b=this,c=b.element;if("undefined"!=typeof this._module.onAbort&&this._module.onAbort(),!c.value){var d=a(c);d.attr("disabled","disabled"),window.setTimeout(function(){d.removeAttr("disabled")},0)}},_onParentFormReset:function(){a(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return"undefined"!=typeof FormData},_supportsMultiple:function(){var a=this._userAgent().indexOf("Windows")>-1;return!(c.support.browser.opera||c.support.browser.safari&&a)},_supportsDrop:function(){var a=this._userAgent().toLowerCase(),b=/chrome/.test(a),c=!b&&/safari/.test(a),d=c&&/windows/.test(a);return!d&&this._supportsFormData()&&this.options.async.saveUrl},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var b=this;a(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'></div>");var c=b._ns,d=a(".k-dropzone",b.wrapper).append(a("<em>"+b.localization.dropFilesHere+"</em>")).on("dragenter"+c,C).on("dragover"+c,function(a){a.preventDefault()}).on("drop"+c,a.proxy(this._onDrop,this));D(d,c,function(){d.addClass("k-dropzone-hovered")},function(){d.removeClass("k-dropzone-hovered")}),D(a(document),c,function(){d.addClass("k-dropzone-active"),d.closest(".k-upload").removeClass("k-upload-empty")},function(){d.removeClass("k-dropzone-active"),0===a("li.k-file",d.closest(".k-upload")).length&&d.closest(".k-upload").addClass("k-upload-empty")})},_supportsRemove:function(){return!!this.options.async.removeUrl},_submitRemove:function(b,c,d,e){var f=this,g=f.options.async.removeField||"fileNames",h=a.extend(c,G());h[g]=b,jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:B,url:this.options.async.removeUrl,traditional:!0,data:h,success:d,error:e})},_wrapInput:function(a){var b=this,c=b.options;return a.wrap("<div class='k-widget k-upload k-header'><div class='k-button k-upload-button'></div></div>"),c.async.saveUrl||a.closest(".k-upload").addClass("k-upload-sync"),a.closest(".k-upload").addClass("k-upload-empty"),a.closest(".k-button").append("<span>"+this.localization.select+"</span>"),a.closest(".k-upload")},_checkAllComplete:function(){0===a(".k-file.k-file-progress",this.wrapper).length&&this.trigger(l)}}),q=function(a){this.name="syncUploadModule",this.element=a.wrapper,this.upload=a,this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};q.prototype={onSelect:function(b){var c=this.upload,d=a(b.target);c._addInput(d);var e=c._enqueueFile(t(d),{relatedInput:d,fileNames:u(d)});c._fileAction(e,o)},onRemove:function(a){var b=F(a);b.data("relatedInput").remove(),this.upload._removeFileEntry(b)}};var r=function(a){this.name="iframeUploadModule",this.element=a.wrapper,this.upload=a,this.iframes=[]};p._frameId=0,r.prototype={onSelect:function(b){var c=this.upload,d=a(b.target),e=this.prepareUpload(d);c.options.async.autoUpload?this.performUpload(e):(c._supportsRemove()&&this.upload._fileAction(e,o),c._showUploadButton())},prepareUpload:function(b){var c=this.upload,d=a(c.element),e=c.options.async.saveField||b.attr("name");c._addInput(b),b.attr("name",e);var f=this.createFrame(c.name+"_"+p._frameId++);this.registerFrame(f);var g=this.createForm(c.options.async.saveUrl,f.attr("name")).append(d),h=c._enqueueFile(t(b),{frame:f,relatedInput:d,fileNames:u(b)});return f.data({form:g,file:h}),h},performUpload:function(b){var c={files:b.data("fileNames")},d=b.data("frame"),e=this.upload;if(e.trigger(i,c))e._removeFileEntry(d.data("file")),this.cleanupFrame(d),this.unregisterFrame(d);else{e._hideUploadButton(),e._showHeaderUploadStatus(),d.appendTo(document.body);var f=d.data("form").attr("action",e.options.async.saveUrl).appendTo(document.body);c.data=a.extend({},c.data,G());for(var g in c.data){var h=f.find("input[name='"+g+"']");0===h.length&&(h=a("<input>",{type:"hidden",name:g}).appendTo(f)),h.val(c.data[g])}e._fileAction(b,m),e._fileState(b,"uploading"),a(b).addClass("k-file-progress"),d.one("load",a.proxy(this.onIframeLoad,this)),f[0].submit()}},onSaveSelected:function(){var b=this;a(".k-file",this.element).each(function(){var c=a(this),d=E(c);d||b.performUpload(c)})},onIframeLoad:function(b){var d,c=a(b.target);try{d=c.contents().text()}catch(e){d="Error trying to get server response: "+e}this.processResponse(c,d)},processResponse:function(b,c){var d=b.data("file"),e=this,f={responseText:c};A(c,function(c){a.extend(f,{statusText:"OK",status:"200"}),e.upload._onFileProgress({target:a(d,e.upload.wrapper)},100),e.upload._onUploadSuccess({target:a(d,e.upload.wrapper)},c,f),e.cleanupFrame(b),e.unregisterFrame(b)},function(){a.extend(f,{statusText:"error",status:"500"}),e.upload._onUploadError({target:a(d,e.upload.wrapper)},f)})},onCancel:function(b){var c=a(b.target).data("frame");this.stopFrameSubmit(c),this.cleanupFrame(c),this.unregisterFrame(c),this.upload._removeFileEntry(c.data("file"))
},onRetry:function(a){var b=F(a);this.performUpload(b)},onRemove:function(a,b){var c=F(a),d=c.data("frame");d?(this.unregisterFrame(d),this.upload._removeFileEntry(c),this.cleanupFrame(d)):z(c,this.upload,b)},onAbort:function(){var b=this.element,c=this;a.each(this.iframes,function(){a("input",this.data("form")).appendTo(b),c.stopFrameSubmit(this[0]),this.data("form").remove(),this.remove()}),this.iframes=[]},createFrame:function(b){return a("<iframe name='"+b+"'"+" id='"+b+"'"+" style='display:none;' />")},createForm:function(b,c){return a("<form enctype='multipart/form-data' method='POST' action='"+b+"'"+" target='"+c+"'"+"/>")},stopFrameSubmit:function(a){"undefined"!=typeof a.stop?a.stop():a.document&&a.document.execCommand("Stop")},registerFrame:function(a){this.iframes.push(a)},unregisterFrame:function(b){this.iframes=a.grep(this.iframes,function(a){return a.attr("name")!=b.attr("name")})},cleanupFrame:function(a){var b=a.data("form");a.data("file").data("frame",null),setTimeout(function(){b.remove(),a.remove()},1)}};var s=function(a){this.name="formDataUploadModule",this.element=a.wrapper,this.upload=a};s.prototype={onSelect:function(b,c){var d=this.upload,e=this,f=a(b.target),g=c?v(c):this.inputFiles(f),h=this.prepareUpload(f,g);a.each(h,function(){d.options.async.autoUpload?e.performUpload(this):(d._supportsRemove()&&d._fileAction(this,o),d._showUploadButton())})},prepareUpload:function(b,c){var d=this.enqueueFiles(c);return b.is("input")&&(a.each(d,function(){a(this).data("relatedInput",b)}),b.data("relatedFileEntries",d),this.upload._addInput(b)),d},enqueueFiles:function(b){var d,e,g,h,c=this.upload,f=b.length,i=[];if(c.options.async.batch===!0)d=a.map(b,function(a){return a.name}).join(", "),h=c._enqueueFile(d,{fileNames:b}),h.data("files",b),i.push(h);else for(e=0;f>e;e++)g=b[e],d=g.name,h=c._enqueueFile(d,{fileNames:[g]}),h.data("files",[g]),i.push(h);return i},inputFiles:function(a){return u(a)},performUpload:function(b){var c=this.upload,d=this.createFormData(b.data("files")),e=new XMLHttpRequest,f={files:b.data("fileNames"),XMLHttpRequest:e};if(c.trigger(i,f))this.removeFileEntry(b);else{c._fileAction(b,m),c._hideUploadButton(),c._showHeaderUploadStatus(),f.data=a.extend({},f.data,G());for(var g in f.data)d.append(g,f.data[g]);c._fileState(b,"uploading"),a(b).addClass("k-file-progress"),this.postFormData(c.options.async.saveUrl,d,b,e)}},onSaveSelected:function(){var b=this;a(".k-file",this.element).each(function(){var c=a(this),d=E(c);d||b.performUpload(c)})},onCancel:function(a){var b=F(a);this.stopUploadRequest(b),this.removeFileEntry(b)},onRetry:function(a){var b=F(a);this.performUpload(b)},onRemove:function(a,b){var c=F(a);c.hasClass("k-file-success")?z(c,this.upload,b):this.removeFileEntry(c)},postFormData:function(a,b,c,d){var e=this;c.data("request",d),d.addEventListener("load",function(a){e.onRequestSuccess.call(e,a,c)},!1),d.addEventListener(k,function(a){e.onRequestError.call(e,a,c)},!1),d.upload.addEventListener("progress",function(a){e.onRequestProgress.call(e,a,c)},!1),d.open("POST",a,!0),d.withCredentials="true",d.send(b)},createFormData:function(a){var d,b=new FormData,c=this.upload,e=a.length;for(d=0;e>d;d++)b.append(c.options.async.saveField||c.name,a[d].rawFile);return b},onRequestSuccess:function(b,c){function f(){e.upload._onUploadError({target:a(c,e.upload.wrapper)},d)}var d=b.target,e=this;d.status>=200&&d.status<=299?A(d.responseText,function(b){e.upload._onFileProgress({target:a(c,e.upload.wrapper)},100),e.upload._onUploadSuccess({target:a(c,e.upload.wrapper)},b,d),e.cleanupFileEntry(c)},f):f()},onRequestError:function(b,c){var d=b.target;this.upload._onUploadError({target:a(c,this.upload.wrapper)},d)},cleanupFileEntry:function(b){var c=b.data("relatedInput"),d=!0;c&&(a.each(c.data("relatedFileEntries")||[],function(){this.parent().length>0&&this[0]!=b[0]&&(d=d&&this.hasClass("k-file-success"))}),d&&c.remove())},removeFileEntry:function(a){this.cleanupFileEntry(a),this.upload._removeFileEntry(a)},onRequestProgress:function(b,c){var d=Math.round(100*b.loaded/b.total);this.upload._onFileProgress({target:a(c,this.upload.wrapper)},d)},stopUploadRequest:function(a){a.data("request").abort()}},c.ui.plugin(p)}(window.kendo.jQuery),kendo_module({id:"window",name:"Window",category:"web",description:"The Window widget displays content in a modal or non-modal HTML window.",depends:["draganddrop"]}),function(a,b){function T(a){return"undefined"!=typeof a}function U(a,b,c){return Math.max(Math.min(parseInt(a,10),1/0===c?c:parseInt(c,10)),parseInt(b,10))}function V(a,b){return function(){var c=this,d=c.wrapper,e=d[0].style,f=c.options;if(!f.isMaximized&&!f.isMinimized)return c.restoreOptions={width:e.width,height:e.height},d.children(s).hide().end().children(q).find(N).parent().hide().eq(0).before(m.action({name:"Restore"})),b.call(c),"maximize"==a?c.wrapper.children(q).find(Q).parent().hide():c.wrapper.children(q).find(Q).parent().show(),c}}function X(a){var b=this;b.owner=a,b._draggable=new e(a.wrapper,{filter:s,group:a.wrapper.id+"-resizing",dragstart:h(b.dragstart,b),drag:h(b.drag,b),dragend:h(b.dragend,b)})}function Y(a,b){var c=this;c.owner=a,c._draggable=new e(a.wrapper,{filter:b,group:a.wrapper.id+"-moving",dragstart:h(c.dragstart,c),drag:h(c.drag,c),dragend:h(c.dragend,c),dragcancel:h(c.dragcancel,c)}),c._draggable.userEvents.stopPropagation=!1}var m,c=window.kendo,d=c.ui.Widget,e=c.ui.Draggable,f=a.isPlainObject,g=c._activeElement,h=a.proxy,i=a.extend,j=a.each,k=c.template,l="body",n=".kendoWindow",o=".k-window",p=".k-window-title",q=p+"bar",r=".k-window-content",s=".k-resize-handle",t=".k-overlay",u="k-content-frame",v="k-loading",w="k-state-hover",x="k-state-focused",y="k-window-maximized",z=":visible",A="hidden",B="cursor",C="open",D="activate",E="deactivate",F="close",G="refresh",H="resize",I="dragstart",J="dragend",K="error",L="overflow",M="zIndex",N=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",O=".k-i-pin",P=".k-i-unpin",Q=O+","+P,R=".k-window-titlebar .k-window-action",S=c.isLocalUrl,W=d.extend({init:function(e,g){var j,l,m,s,u,v,B,i=this,k={},t=!1,y=g&&g.actions&&!g.actions.length;d.fn.init.call(i,e,g),g=i.options,s=g.position,e=i.element,u=g.content,y&&(g.actions=[]),i.appendTo=a(a(g.appendTo)[0]||document.body),i._animations(),u&&!f(u)&&(u=g.content={url:u}),e.find("script").filter(function(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}).remove(),e.parent().is(i.appendTo)||g.position.top!==b&&g.position.left!==b||(e.is(z)?(k=e.offset(),t=!0):(l=e.css("visibility"),m=e.css("display"),e.css({visibility:A,display:""}),k=e.offset(),e.css({visibility:l,display:m}))),T(g.visible)&&null!==g.visible||(g.visible=e.is(z)),j=i.wrapper=e.closest(o),e.is(".k-content")&&j[0]||(e.addClass("k-window-content k-content"),i._createWindow(e,g),j=i.wrapper=e.closest(o),i._dimensions()),s.top!==b&&(s.top=s.top.toString()),s.left!==b&&(s.left=s.left.toString()),j.css({top:s.top||k.top||"",left:s.left||k.left||""}),g.pinned&&i.pin(!0),u&&i.refresh(u),g.visible&&i.toFront(),v=j.children(r),i._tabindex(v),g.visible&&g.modal&&i._overlay(j.is(z)).css({opacity:.5}),j.on("mouseenter"+n,R,function(){a(this).addClass(w)}).on("mouseleave"+n,R,function(){a(this).removeClass(w)}).on("click"+n,"> "+R,h(i._windowActionHandler,i)),v.on("keydown"+n,h(i._keydown,i)).on("focus"+n,function(){j.addClass(x)}).on("blur"+n,function(){j.removeClass(x)}),this._resizable(),this._draggable(),B=e.attr("id"),B&&(B+="_wnd_title",j.children(q).children(p).attr("id",B),v.attr({role:"dialog","aria-labelledby":B})),j.add(j.children(".k-resize-handle,"+q)).on("mousedown"+n,h(i.toFront,i)),i.touchScroller=c.touchScroller(e),i._resizeHandler=function(a){return i._onDocumentResize(a)},a(window).on("resize",i._resizeHandler),g.visible&&(i.trigger(C),i.trigger(D)),c.notify(i)},_dimensions:function(){var a=this,b=a.wrapper,c=a.options,d=c.width,e=c.height,f=c.maxHeight;a.title(c.title),j(["minWidth","minHeight","maxWidth","maxHeight"],function(a,d){var e=c[d];e&&1/0!=e&&b.css(d,e)}),f&&1/0!=f&&a.element.css("maxHeight",f),d&&(d.toString().indexOf("%")>0?b.width(d):b.width(U(d,c.minWidth,c.maxWidth))),e&&(e.toString().indexOf("%")>0?b.height(e):b.height(U(e,c.minHeight,c.maxHeight))),c.visible||b.hide()},_animations:function(){var a=this.options;a.animation===!1&&(a.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},_resize:function(){c.resize(this.element.children())},_resizable:function(){var b=this.options.resizable,c=this.wrapper;b?(c.on("dblclick"+n,q,h(function(b){a(b.target).closest(".k-window-action").length||this.toggleMaximization()},this)),j("n e s w se sw ne nw".split(" "),function(a,b){c.append(m.resizeHandle(b))}),this.resizing=new X(this)):this.resizing&&(c.off("dblclick"+n).children(s).remove(),this.resizing.destroy(),this.resizing=null)},_draggable:function(){var a=this.options.draggable;a?this.dragging=new Y(this,a.dragHandle||q):this.dragging&&(this.dragging.destroy(),this.dragging=null)},setOptions:function(a){d.fn.setOptions.call(this,a),this._animations(),this._dimensions(),this._resizable(),this._draggable()},events:[C,D,E,F,G,H,I,J,K],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],autoFocus:!0,modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:1/0,maxHeight:1/0,pinned:!1,position:{},content:null,visible:null,height:null,width:null},_closable:function(){return a.inArray("close",a.map(this.options.actions,function(a){return a.toLowerCase()}))>-1},_keydown:function(a){var h,i,l,m,n,o,b=this,d=b.options,e=c.keys,f=a.keyCode,g=b.wrapper,j=10,k=b.options.isMaximized;a.target!=a.currentTarget||b._closing||(f==e.ESC&&b._closable()&&b._close(!0),!d.draggable||a.ctrlKey||k||(h=c.getOffset(g),f==e.UP?i=g.css("top",h.top-j):f==e.DOWN?i=g.css("top",h.top+j):f==e.LEFT?i=g.css("left",h.left-j):f==e.RIGHT&&(i=g.css("left",h.left+j))),d.resizable&&a.ctrlKey&&!k&&(f==e.UP?(i=!0,m=g.height()-j):f==e.DOWN&&(i=!0,m=g.height()+j),f==e.LEFT?(i=!0,l=g.width()-j):f==e.RIGHT&&(i=!0,l=g.width()+j),i&&(n=U(l,d.minWidth,d.maxWidth),o=U(m,d.minHeight,d.maxHeight),isNaN(n)||(g.width(n),b.options.width=n+"px"),isNaN(o)||(g.height(o),b.options.height=o+"px"),b.resize())),i&&a.preventDefault())},_overlay:function(b){var c=this.appendTo.children(t),d=this.wrapper;return c.length||(c=a("<div class='k-overlay' />")),c.insertBefore(d[0]).toggle(b).css(M,parseInt(d.css(M),10)-1),c},_windowActionHandler:function(b){var c=a(b.target).closest(".k-window-action").find(".k-icon"),d=this;d._closing||j({"k-i-close":function(){d._close(!0)},"k-i-maximize":d.maximize,"k-i-minimize":d.minimize,"k-i-restore":d.restore,"k-i-refresh":d.refresh,"k-i-pin":d.pin,"k-i-unpin":d.unpin},function(a,e){return c.hasClass(a)?(b.preventDefault(),e.call(d),!1):void 0})},_modals:function(){var b=this;return a(o).filter(function(){var c=a(this),d=b._object(c).options;return d.modal&&d.visible&&c.is(z)}).sort(function(b,c){return+a(b).css("zIndex")-+a(c).css("zIndex")})},_object:function(a){var b=a.children(r);return b.data("kendoWindow")||b.data("kendo"+this.options.name)},center:function(){var b=this,c=b.wrapper,d=a(window);return b.options.isMaximized?b:(c.css({left:d.scrollLeft()+Math.max(0,(d.width()-c.width())/2),top:d.scrollTop()+Math.max(0,(d.height()-c.height())/2)}),b)},title:function(a){var b=this,c=b.wrapper,d=b.options,e=c.children(q),f=e.children(p),g=e.outerHeight();return arguments.length?(a===!1?(c.addClass("k-window-titleless"),e.remove()):(e.length||c.prepend(m.titlebar(i(m,d))),c.css("padding-top",g),e.css("margin-top",-g)),f.text(a),b.options.title=a,b):f.text()},content:function(a){var b=this.wrapper.children(r),d=b.children(".km-scroll-container");return b=d[0]?d:b,a?(c.destroy(this.element.children()),b.html(a),this):b.html()},open:function(){var i,b=this,d=b.wrapper,e=b.options,f=e.animation.open,g=d.children(r),h=g.css(L);if(!b.trigger(C)){if(b._closing&&d.kendoStop(!0,!0),b._closing=!1,b.toFront(),e.autoFocus&&b.element.focus(),e.visible=!0,e.modal){if(i=b._overlay(!1),i.kendoStop(!0,!0),f.duration&&c.effects.Fade){var j=c.fx(i).fadeIn();j.duration(f.duration||0),j.endValue(.5),j.play()}else i.css("opacity",.5);i.show()}d.is(z)||(g.css(L,A),d.show().kendoStop().kendoAnimate({effects:f.effects,duration:f.duration,complete:function(){e.autoFocus&&b.element.focus(),b.trigger(D),g.css(L,h)}}))}return e.isMaximized&&(b._documentScrollTop=a(document).scrollTop(),a("html, body").css(L,A)),b},_removeOverlay:function(d){var e=this._modals(),f=this.options,g=f.modal&&!e.length,h=f.modal?this._overlay(!0):a(b),i=f.animation.close;if(g)if(!d&&i.duration&&c.effects.Fade){var j=c.fx(h).fadeOut();j.duration(i.duration||0),j.startValue(.5),j.play()}else this._overlay(!1).remove();else e.length&&this._object(e.last())._overlay(!0)},_close:function(b){var c=this,d=c.wrapper,e=c.options,f=e.animation.open,g=e.animation.close;d.is(z)&&!c.trigger(F,{userTriggered:!!b})&&(c._closing=!0,e.visible=!1,a(o).each(function(b,c){var e=a(c).children(r);c!=d&&e.find("> ."+u).length>0&&e.children(t).remove()}),this._removeOverlay(),d.kendoStop().kendoAnimate({effects:g.effects||f.effects,reverse:g.reverse===!0,duration:g.duration,complete:function(){d.hide().css("opacity",""),c.trigger(E);var a=c._object(c._modals().last());a&&a.toFront()}})),c.options.isMaximized&&(a("html, body").css(L,""),c._documentScrollTop&&c._documentScrollTop>0&&a(document).scrollTop(c._documentScrollTop))},close:function(){return this._close(!1),this},_actionable:function(b){return a(b).is(R+","+R+" .k-icon,:input,a")},_shouldFocus:function(b){var c=g(),d=this.element;return!(!this.options.autoFocus||a(c).is(d)||this._actionable(b)||d.find(c).length&&d.find(b).length)},toFront:function(b){var c=this,d=c.wrapper,e=d[0],f=+d.css(M),g=f,h=b&&b.target||null;if(a(o).each(function(b,c){var d=a(c),g=d.css(M),h=d.children(r);isNaN(g)||(f=Math.max(+g,f)),c!=e&&h.find("> ."+u).length>0&&h.append(m.overlay)}),(!d[0].style.zIndex||f>g)&&d.css(M,f+2),c.element.find("> .k-overlay").remove(),c._shouldFocus(h)){c.element.focus();var i=a(window).scrollTop(),j=parseInt(d.position().top,10);j>0&&i>j&&(i>0?a(window).scrollTop(j):d.css("top",i))}return c},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var b=this,c=b.options,d=c.minHeight,e=b.restoreOptions;return c.isMaximized||c.isMinimized?(d&&1/0!=d&&b.wrapper.css("min-height",d),b.wrapper.css({position:c.pinned?"fixed":"absolute",left:e.left,top:e.top,width:e.width,height:e.height}).removeClass(y).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(N).parent().show().end().end().find(Q).parent().show(),b.options.width=e.width,b.options.height=e.height,a("html, body").css(L,""),this._documentScrollTop&&this._documentScrollTop>0&&a(document).scrollTop(this._documentScrollTop),c.isMaximized=c.isMinimized=!1,b.resize(),b):b},maximize:V("maximize",function(){var b=this,c=b.wrapper,d=c.position();i(b.restoreOptions,{left:d.left,top:d.top}),c.css({left:0,top:0,position:"fixed"}).addClass(y),this._documentScrollTop=a(document).scrollTop(),a("html, body").css(L,A),b.options.isMaximized=!0,b._onDocumentResize()}),minimize:V("minimize",function(){var a=this;a.wrapper.css({height:"",minHeight:""}),a.element.hide(),a.options.isMinimized=!0}),pin:function(b){var c=this,d=a(window),e=c.wrapper,f=parseInt(e.css("top"),10),g=parseInt(e.css("left"),10);(b||!c.options.pinned&&!c.options.isMaximized)&&(e.css({position:"fixed",top:f-d.scrollTop(),left:g-d.scrollLeft()}),e.children(q).find(O).addClass("k-i-unpin").removeClass("k-i-pin"),c.options.pinned=!0)},unpin:function(){var b=this,c=a(window),d=b.wrapper,e=parseInt(d.css("top"),10),f=parseInt(d.css("left"),10);b.options.pinned&&!b.options.isMaximized&&(d.css({position:"",top:e+c.scrollTop(),left:f+c.scrollLeft()}),d.children(q).find(P).addClass("k-i-pin").removeClass("k-i-unpin"),b.options.pinned=!1)},_onDocumentResize:function(){var e,f,b=this,c=b.wrapper,d=a(window);b.options.isMaximized&&(e=d.width(),f=d.height()-parseInt(c.css("padding-top"),10),c.css({width:e,height:f}),b.options.width=e,b.options.height=f,b.resize())},refresh:function(b){var g,h,j,c=this,d=c.options,e=a(c.element);return f(b)||(b={url:b}),b=i({},d.content,b),h=T(d.iframe)?d.iframe:b.iframe,j=b.url,j?(T(h)||(h=!S(j)),h?(g=e.find("."+u)[0],g?g.src=j||g.src:e.html(m.contentFrame(i({},d,{content:b}))),e.find("."+u).unbind("load"+n).on("load"+n,function(){c.trigger(G)})):c._ajaxRequest(b)):(b.template&&c.content(k(b.template)({})),c.trigger(G)),c},_ajaxRequest:function(b){var c=this,d=b.template,e=c.wrapper.find(".k-window-titlebar .k-i-refresh"),f=setTimeout(function(){e.addClass(v)},100);a.ajax(i({type:"GET",dataType:"html",cache:!1,error:function(a,b){c.trigger(K,{status:b,xhr:a})},complete:function(){clearTimeout(f),e.removeClass(v)},success:function(a){d&&(a=k(d)(a||{})),c.content(a),c.element.prop("scrollTop",0),c.trigger(G)}},b))},destroy:function(){var b=this.wrapper;d.fn.destroy.call(this),c.destroy(b),this.resizing&&this.resizing.destroy(),this.dragging&&this.dragging.destroy(),this.element.children("iframe").remove(),b.find(".k-resize-handle,.k-window-titlebar").off(n),b.remove().off(n),a(window).off("resize",this._resizeHandler),this._removeOverlay(!0)},_createWindow:function(){var f,g,b=this,d=b.element,e=b.options,h=c.support.isRtl(d);e.scrollable===!1&&d.attr("style","overflow:hidden;"),g=a(m.wrapper(e)),e.title!==!1&&g.append(m.titlebar(i(m,e))),f=d.find("iframe:not(.k-content)").map(function(){var a=this.getAttribute("src");return this.src="",a}),g.toggleClass("k-rtl",h).appendTo(b.appendTo).append(d).find("iframe:not(.k-content)").each(function(a){this.src=f[a]}),g.find(".k-window-title").css(h?"left":"right",g.find(".k-window-actions").outerWidth()+10),d.show(),d.find("[data-role=editor]").each(function(){var b=a(this).data("kendoEditor");b&&b.refresh()})}});m={wrapper:k("<div class='k-widget k-window' />"),action:k("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:k("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions'># for (var i = 0; i < actions.length; i++) { ##= action({ name: actions[i] }) ## } #</div></div>"),overlay:"<div class='k-overlay' />",contentFrame:k("<iframe frameborder='0' title='#= title #' class='"+u+"' "+"src='#= content.url #'>"+"This page requires frames in order to show content"+"</iframe>"),resizeHandle:k("<div class='k-resize-handle k-resize-#= data #'></div>")},X.prototype={dragstart:function(b){var d=this,e=d.owner,f=e.wrapper;d.elementPadding=parseInt(e.wrapper.css("padding-top"),10),d.initialCursorPosition=c.getOffset(f,"position"),d.resizeDirection=b.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),d.initialSize={width:f.width(),height:f.height()},d.containerOffset=c.getOffset(e.appendTo),f.append(m.overlay).children(s).not(b.currentTarget).hide(),a(l).css(B,b.currentTarget.css(B))},drag:function(a){var j,k,l,m,b=this,c=b.owner,d=c.wrapper,e=c.options,f=b.resizeDirection,g=b.containerOffset,h=b.initialCursorPosition,i=b.initialSize,n=Math.max(a.x.location,g.left),o=Math.max(a.y.location,g.top);f.indexOf("e")>=0?(j=n-h.left,d.width(U(j,e.minWidth,e.maxWidth))):f.indexOf("w")>=0&&(m=h.left+i.width,j=U(m-n,e.minWidth,e.maxWidth),d.css({left:m-j-g.left,width:j})),f.indexOf("s")>=0?(k=o-h.top-b.elementPadding,d.height(U(k,e.minHeight,e.maxHeight))):f.indexOf("n")>=0&&(l=h.top+i.height,k=U(l-o,e.minHeight,e.maxHeight),d.css({top:l-k-g.top,height:k})),j&&(c.options.width=j+"px"),k&&(c.options.height=k+"px"),c.resize()},dragend:function(b){var c=this,d=c.owner,e=d.wrapper;return e.find(t).remove().end().children(s).not(b.currentTarget).show(),a(l).css(B,""),d.touchScroller&&d.touchScroller.reset(),27==b.keyCode&&e.css(c.initialCursorPosition).css(c.initialSize),!1},destroy:function(){this._draggable.destroy()}},Y.prototype={dragstart:function(b){var d=this.owner,e=d.element,f=e.find(".k-window-actions"),g=c.getOffset(d.appendTo);d.trigger(I),d.initialWindowPosition=c.getOffset(d.wrapper,"position"),d.startPosition={left:b.x.client-d.initialWindowPosition.left,top:b.y.client-d.initialWindowPosition.top},d.minLeftPosition=f.length>0?f.outerWidth()+parseInt(f.css("right"),10)-e.outerWidth():20-e.outerWidth(),d.minLeftPosition-=g.left,d.minTopPosition=-g.top,d.wrapper.append(m.overlay).children(s).hide(),a(l).css(B,b.currentTarget.css(B))},drag:function(b){var c=this.owner,d={left:Math.max(b.x.client-c.startPosition.left,c.minLeftPosition),top:Math.max(b.y.client-c.startPosition.top,c.minTopPosition)};a(c.wrapper).css(d)},_finishDrag:function(){var b=this.owner;b.wrapper.children(s).toggle(!b.options.isMinimized).end().find(t).remove(),a(l).css(B,"")},dragcancel:function(a){this._finishDrag(),a.currentTarget.closest(o).css(this.owner.initialWindowPosition)},dragend:function(){return this._finishDrag(),this.owner.trigger(J),!1},destroy:function(){this._draggable.destroy()}},c.ui.plugin(W)}(window.kendo.jQuery),kendo_module({id:"scheduler.view",name:"Scheduler View",category:"web",description:"The Scheduler Common View",depends:["core"],hidden:!0}),function(a){function h(a,b){function d(a,e){if(e=e[b])for(var f=c[a]=c[a]||[],g=0;g<e.length;g++)f.push(e[g]),d(a+1,e[g])}var c=[];return d(0,a),c}function i(){return b.support.cssBorderSpacing?"":'cellspacing="0"'}function j(b,c){return b.length?"<table "+i()+' class="'+a.trim("k-scheduler-table "+(c||""))+'">'+"<tr>"+b.join("</tr><tr>")+"</tr>"+"</table>":""}function k(a,b){return a.length?"<div style='position:relative'>"+j(a,b)+"</div>":""}function l(b,c,d){var e=[];if(d>0)for(var f=0;b>f;f++)e.push("<th></th>");return c&&e.push('<th class="k-scheduler-times-all-day">'+c.text+"</th>"),1>d?a():a('<div class="k-scheduler-times">'+j(e)+"</div>")}function m(b,c,d){for(var f,e=[],g=0;g<b.length;g++){var h=b[g],i=[],l=c/h.length;for(f=0;f<h.length;f++)i.push('<th colspan="'+l+'" class="'+(h[f].className||"")+'">'+h[f].text+"</th>");e.push(i.join(""))}var m=[];if(d){var n=b[b.length-1],o=[],p=d.cellContent;for(f=0;f<n.length;f++)o.push('<td class="'+(n[f].className||"")+'">'+(p?p(f):"&nbsp;")+"</th>");m.push(o.join(""))}return a('<div class="k-scheduler-header k-state-default"><div class="k-scheduler-header-wrap">'+j(e)+k(m,"k-scheduler-header-all-day")+"</div>"+"</div>")}function n(b,c){for(var f,d=new Array(c).join().split(","),e=[],g=0;g<b.length;g++){var k,h=b[g],i=c/h.length;for(f=0;f<h.length;f++)k=h[f].className||"",h[f].allDay&&(k="k-scheduler-times-all-day"),d[i*f]+='<th class="'+k+'" rowspan="'+i+'">'+h[f].text+"</th>"}for(f=0;c>f;f++)e.push(d[f]);return 1>c?a():a('<div class="k-scheduler-times">'+j(e)+"</div>")}function o(){return a('<div class="k-scheduler-content"><table '+i()+' class="k-scheduler-table"/>'+"</div>")}function z(){return y=y?y:b.support.scrollbar()}function A(a,b,c){var d,e,f,g,h;for(d=a.length-1;d>=0;d--)e=B(a[d]),f=e.start,h=e.end,g=b>=f&&h>=b,(g||f>=b&&c>=h||f>=b&&c>=f)&&(b>f&&(b=f),h>c&&(c=h));return C(a,b,c)}function B(a){return{start:a.start,end:a.end}}function C(a,b,c){for(var d=[],e=0;e<a.length;e++){var f=B(a[e]);(f.start<b&&f.end>b||f.start>=b&&f.end<=c)&&d.push(a[e])}return d}function D(a){return G(a)}function E(a){return G(a)}function G(a){for(var b=[],c=0;c<a.length;c++){for(var d=a[c],e=B(d),f=null,g=0,h=b.length;h>g;g++){var i=e.start>b[g].end;if(e.start<b[g].start||i){f=b[g],f.end<e.end&&(f.end=e.end);break}}f||(f={start:e.start,end:e.end,events:[]},b.push(f)),f.events.push(d)}return b}function H(a,c,d){var e=c[0];if(e){for(var f=[],g=e.dataSource.view(),h=0;h<g.length;h++){var i={text:b.getter(e.dataTextField)(g[h]),className:"k-slot-cell"};i[a]=H(a,c.slice(1),d),f.push(i)}return f}return d}function I(c){return function(d){if(a.isArray(d)||d instanceof b.data.ObservableArray){for(var e=0;e<d.length;e++)if(d[e]==c)return!0;return!1}return d==c}}function K(a){a.className=a.className.replace(J,"")+" k-state-selected"}var b=window.kendo,c=b.ui,d=c.Widget,e=b.keys,f=".kendoSchedulerView",g=Math,p='<div class="k-marquee k-scheduler-marquee"><div class="k-marquee-color"></div><div class="k-marquee-text"><div class="k-label-top"></div><div class="k-label-bottom"></div></div></div>';b.ui.scheduler={};var y,q=b.Class.extend({init:function(a){this._index=a,this._timeSlotCollections=[],this._daySlotCollections=[]},addTimeSlotCollection:function(a,b){return this._addCollection(a,b,this._timeSlotCollections)},addDaySlotCollection:function(a,b){return this._addCollection(a,b,this._daySlotCollections)},_addCollection:function(a,b,c){var d=new u(a,b,this._index,c.length);return c.push(d),d},timeSlotCollectionCount:function(){return this._timeSlotCollections.length},daySlotCollectionCount:function(){return this._daySlotCollections.length},daySlotByPosition:function(a,b){return this._slotByPosition(a,b,this._daySlotCollections)},timeSlotByPosition:function(a,b){return this._slotByPosition(a,b,this._timeSlotCollections)},_slotByPosition:function(a,b,c){for(var d=0;d<c.length;d++)for(var e=c[d],f=0;f<e.count();f++){var g=e.at(f);if(a>=g.offsetLeft&&a<g.offsetLeft+g.clientWidth&&b>=g.offsetTop&&b<g.offsetTop+g.clientHeight)return g}},refresh:function(){var a;for(a=0;a<this._daySlotCollections.length;a++)this._daySlotCollections[a].refresh();for(a=0;a<this._timeSlotCollections.length;a++)this._timeSlotCollections[a].refresh()},timeSlotRanges:function(a,b){var c=this._timeSlotCollections,d=this._startSlot(a,c),e=d;return b>a&&(e=this._endSlot(b,c)),this._continuousRange(s,c,d,e)},daySlotRanges:function(a,b,c){var d=this._daySlotCollections,e=this._startSlot(a,d,c),f=e;return b>a&&(f=this._endSlot(b,d,c)),this._continuousRange(t,d,e,f)},_continuousRange:function(a,b,c,d){for(var e=c.slot,f=d.slot,g=e.collectionIndex,h=f.collectionIndex,i=[],j=g;h>=j;j++){var k=b[j],l=k.first(),m=k.last(),n=!1,o=!1;j==g&&(o=!c.inRange),j==h&&(n=!d.inRange),l.start<e.start&&(l=e),m.start>f.start&&(m=f),h>g&&(j==g?n=!0:j==h?o=!0:n=o=!0),i.push(new a({start:l,end:m,collection:k,head:n,tail:o}))}return i},slotRanges:function(a,c){var d=b.date.toUtcTime(a.start),e=b.date.toUtcTime(a.end);return void 0===c&&(c=a.isMultiDay()),c?this.daySlotRanges(d,e,a.isAllDay):(a.startTime&&(d=b.date.getMilliseconds(a.startTime)+b.date.toUtcTime(b.date.getDate(a.start))),a.endTime&&(e=b.date.getMilliseconds(a.endTime)+b.date.toUtcTime(b.date.getDate(a.end))),this.timeSlotRanges(d,e))},ranges:function(a,c,d,e){return"number"!=typeof a&&(a=b.date.toUtcTime(a)),"number"!=typeof c&&(c=b.date.toUtcTime(c)),d?this.daySlotRanges(a,c,e):this.timeSlotRanges(a,c)},_startCollection:function(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d.startInRange(a))return d}return null},_endCollection:function(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d.endInRange(a))return d}return null},_getCollections:function(a){return a?this._daySlotCollections:this._timeSlotCollections},continuousSlot:function(a,b){var c=b?-1:1,d=this._getCollections(a.isDaySlot),e=d[a.collectionIndex+c];return e?e[b?"last":"first"]():void 0},firstSlot:function(){var a=this._getCollections(this.daySlotCollectionCount());return a[0].first()},lastSlot:function(){var a=this._getCollections(this.daySlotCollectionCount());return a[a.length-1].last()},upSlot:function(a,b){var c=this,d=function(a,d,e){var f=0===e;return!b&&!a&&f&&c.daySlotCollectionCount()?c._daySlotCollections[0].at(d):void 0};return this.timeSlotCollectionCount()||(b=!0),this._verticalSlot(a,-1,d)},downSlot:function(a,b){var c=this,d=function(a,d,e){return!b&&a&&c.timeSlotCollectionCount()?c._timeSlotCollections[e].at(0):void 0};return this.timeSlotCollectionCount()||(b=!0),this._verticalSlot(a,1,d)},leftSlot:function(a){return this._horizontalSlot(a,-1)},rightSlot:function(a){return this._horizontalSlot(a,1)},_horizontalSlot:function(a,b){var c=a.index,d=a.isDaySlot,e=a.collectionIndex,f=this._getCollections(d);d?c+=b:e+=b;var g=f[e];return g?g.at(c):void 0},_verticalSlot:function(a,b,c){var d=a.index,e=a.isDaySlot,f=a.collectionIndex,g=this._getCollections(e);if(a=c(e,f,d))return a;e?f+=b:d+=b;var h=g[f];return h?h.at(d):void 0},_collection:function(a,b){var c=b?this._daySlotCollections:this._timeSlotCollections;return c[a]},_startSlot:function(a,b,c){var d=this._startCollection(a,b),e=!0;d||(d=b[0],e=!1);var f=d.slotByStartDate(a,c);return f||(f=d.first(),e=!1),{slot:f,inRange:e}},_endSlot:function(a,b,c){var d=this._endCollection(a,b),e=!0;d||(d=b[b.length-1],e=!1);var f=d.slotByEndDate(a,c);return f||(f=d.last(),e=!1),{slot:f,inRange:e}},getSlotCollection:function(a,b){return this[b?"getDaySlotCollection":"getTimeSlotCollection"](a)},getTimeSlotCollection:function(a){return this._timeSlotCollections[a]},getDaySlotCollection:function(a){return this._daySlotCollections[a]}}),r=b.Class.extend({init:function(b){a.extend(this,b)},innerHeight:function(){for(var a=this.collection,b=this.start.index,c=this.end.index,d=0,e=b;c>=e;e++)d+=a.at(e).offsetHeight;return d},events:function(){return this.collection.events()},addEvent:function(a){this.events().push(a)},startSlot:function(){return this.start.offsetLeft>this.end.offsetLeft?this.end:this.start},endSlot:function(){return this.start.offsetLeft>this.end.offsetLeft?this.start:this.end}}),s=r.extend({innerHeight:function(){for(var a=this.collection,b=this.start.index,c=this.end.index,d=0,e=b;c>=e;e++)d+=a.at(e).offsetHeight;return d},outerRect:function(a,b,c){return this._rect("offset",a,b,c)},_rect:function(a,c,d,e){var f,g,h=this.start,i=this.end;if("number"!=typeof c&&(c=b.date.toUtcTime(c)),"number"!=typeof d&&(d=b.date.toUtcTime(d)),e)f=h.offsetTop,g=i.offsetTop+i[a+"Height"];else{var j=c-h.start;0>j&&(j=0);var k=h.end-h.start;f=h.offsetTop+h[a+"Height"]*j/k;var l=i.end-d;0>l&&(l=0);var m=i.end-i.start;g=i.offsetTop+i[a+"Height"]-i[a+"Height"]*l/m}return{top:f,bottom:g}},innerRect:function(a,b,c){return this._rect("client",a,b,c)}}),t=r.extend({innerWidth:function(){for(var a=this.collection,b=this.start.index,c=this.end.index,d=0,e=b!==c?"offsetWidth":"clientWidth",f=b;c>=f;f++)d+=a.at(f)[e];return d}}),u=b.Class.extend({init:function(a,c,d,e){this._slots=[],this._events=[],this._start=b.date.toUtcTime(a),this._end=b.date.toUtcTime(c),this._groupIndex=d,this._collectionIndex=e},refresh:function(){for(var a=[],b=0;b<this._slots.length;b++){var c=this._slots[b],d=c.offsetTop;c.refresh(),a[b]=c.offsetTop-d}for(var e=0;e<this._events.length;e++){var f=this._events[e];f.element.css({top:f.element[0].offsetTop+a[f.slotIndex]})}},startInRange:function(a){return this._start<=a&&a<this._end},endInRange:function(a){return this._start<=a&&a<=this._end},slotByStartDate:function(a){var c=a;"number"!=typeof c&&(c=b.date.toUtcTime(a));for(var d=0;d<this._slots.length;d++){var e=this._slots[d];if(e.startInRange(c))return e}return null},slotByEndDate:function(a,c){var d=a;if("number"!=typeof d&&(d=b.date.toUtcTime(a)),c)return this.slotByStartDate(a,!1);for(var e=0;e<this._slots.length;e++){var f=this._slots[e];if(f.endInRange(d))return f}return null},count:function(){return this._slots.length},events:function(){return this._events},addTimeSlot:function(a,b,c){var d=new w(a,b,c,this._groupIndex,this._collectionIndex,this._slots.length);this._slots.push(d)},addDaySlot:function(a,b,c,d){var e=new x(a,b,c,this._groupIndex,this._collectionIndex,this._slots.length,d);this._slots.push(e)},first:function(){return this._slots[0]},last:function(){return this._slots[this._slots.length-1]},at:function(a){return this._slots[a]}}),v=b.Class.extend({init:function(a,b,c,d,e,f){this.element=a,this.clientWidth=a.clientWidth,this.clientHeight=a.clientHeight,this.offsetWidth=a.offsetWidth,this.offsetHeight=a.offsetHeight,this.offsetTop=a.offsetTop,this.offsetLeft=a.offsetLeft,this.start=b,this.end=c,this.element=a,this.groupIndex=d,this.collectionIndex=e,this.index=f,this.isDaySlot=!1
},startDate:function(){return b.timezone.toLocalDate(this.start)},endDate:function(){return b.timezone.toLocalDate(this.end)},startInRange:function(a){return this.start<=a&&a<this.end},endInRange:function(a){return this.start<a&&a<=this.end},startOffset:function(){return this.start},endOffset:function(){return this.end}}),w=v.extend({refresh:function(){this.offsetTop=this.element.offsetTop},offsetX:function(a,b){return a?this.offsetLeft+b:this.offsetLeft+b},startInRange:function(a){return this.start<=a&&a<this.end},endInRange:function(a){return this.start<a&&a<=this.end},startOffset:function(b,c,d){if(d)return this.start;var e=a(this.element).offset(),f=c-e.top,g=this.end-this.start,h=Math.floor(g*(f/this.offsetHeight));return this.start+h},endOffset:function(b,c,d){if(d)return this.end;var e=a(this.element).offset(),f=c-e.top,g=this.end-this.start,h=Math.floor(g*(f/this.offsetHeight));return this.start+h}}),x=v.extend({init:function(a,b,c,d,e,f,g){v.fn.init.apply(this,arguments),this.eventCount=g,this.isDaySlot=!0,this.firstChildHeight=this.element.firstChild.offsetHeight+3,this.firstChildTop=this.element.firstChild.offsetTop},refresh:function(){this.clientHeight=this.element.clientHeight,this.offsetTop=this.element.offsetTop},startDate:function(){var a=new Date(this.start);return b.timezone.apply(a,"Etc/UTC")},endDate:function(){var a=new Date(this.end);return b.timezone.apply(a,"Etc/UTC")},startInRange:function(a){return this.start<=a&&a<this.end},endInRange:function(a){return this.start<a&&a<=this.end}});b.ui.SchedulerView=d.extend({init:function(c,e){d.fn.init.call(this,c,e),this._scrollbar=z(),this._isRtl=b.support.isRtl(c),this._resizeHint=a(),this._moveHint=a(),this._cellId=b.guid(),this._resourcesForGroups(),this._selectedSlots=[]},_isMobile:function(){var a=this.options;return a.mobile===!0&&b.support.mobileOS||"phone"===a.mobile||"tablet"===a.mobile},_isMobilePhoneView:function(){var a=this.options;return a.mobile===!0&&b.support.mobileOS&&!b.support.mobileOS.tablet||"phone"===a.mobile},_addResourceView:function(){var a=new q(this.groups.length);return this.groups.push(a),a},dateForTitle:function(){return b.format(this.options.selectedDateFormat,this.startDate(),this.endDate())},_changeGroup:function(a,b){var c=b?"prevGroupSlot":"nextGroupSlot",d=this[c](a.start,a.groupIndex,a.isAllDay);return d&&(a.groupIndex+=b?-1:1),d},_changeGroupContinuously:function(){return null},_changeViewPeriod:function(){return!1},_horizontalSlots:function(a,b,c,d){var e=d?"leftSlot":"rightSlot",f=b[0].start,g=b[b.length-1].end,h=this.groups[a.groupIndex];if(!c){var i=this._normalizeHorizontalSelection(a,b,d);i&&(f=g=i)}f=h[e](f),g=h[e](g),c||this._isVerticallyGrouped()||f&&g||(f=g=this._changeGroup(a,d));var j;return f&&g||(j=this._continuousSlot(a,b,d),j=this._changeGroupContinuously(a,j,c,d),j&&(f=g=j)),{startSlot:f,endSlot:g}},_verticalSlots:function(a,b,c,d){var e=b[0].start,f=b[b.length-1].end,g=this.groups[a.groupIndex];if(!c){var h=this._normalizeVerticalSelection(a,b,d);h&&(e=f=h)}var i=d?"upSlot":"downSlot";return e=g[i](e,c),f=g[i](f,c),c||!this._isVerticallyGrouped()||e&&f||(e=f=this._changeGroup(a,d)),{startSlot:e,endSlot:f}},_normalizeHorizontalSelection:function(){return null},_normalizeVerticalSelection:function(a,b,c){var d;return d=c?b[0].start:b[b.length-1].end},_continuousSlot:function(){return null},constrainSelection:function(a){if(!this.inRange(a)){var b=this.groups[0].firstSlot();a.isAllDay=b.isDaySlot,a.start=b.startDate(),a.end=b.endDate()}},move:function(a,b,c){var d=!1,f=this.groups[a.groupIndex];f.timeSlotCollectionCount()||(a.isAllDay=!0);var h,i,j,k,g=f.ranges(a.start,a.end,a.isAllDay,!1);if(b===e.DOWN||b===e.UP){if(d=!0,j=b===e.UP,this._updateDirection(a,g,c,j,!0),k=this._verticalSlots(a,g,c,j),!k.startSlot&&!c&&this._changeViewPeriod(a,j,!0))return d}else if((b===e.LEFT||b===e.RIGHT)&&(d=!0,j=b===e.LEFT,this._updateDirection(a,g,c,j,!1),k=this._horizontalSlots(a,g,c,j),!k.startSlot&&!c&&this._changeViewPeriod(a,j,!1)))return d;if(d){if(h=k.startSlot,i=k.endSlot,c){var l=a.backward;l&&h?a.start=h.startDate():!l&&i&&(a.end=i.endDate())}else h&&i&&(a.isAllDay=h.isDaySlot,a.start=h.startDate(),a.end=i.endDate());a.events=[]}return d},moveToEventInGroup:function(b,c,d,e){for(var g,h,f=b._continuousEvents||[],i=e?-1:1,j=f.length,k=e?j-1:0;j>k&&k>-1;){if(h=f[k],(!e&&h.start.startDate()>=c.startDate()||e&&h.start.startDate()<=c.startDate())&&(d.length&&(h=f[k+i]),h&&-1===a.inArray(h.uid,d))){g=!!h;break}k+=i}return h},moveToEvent:function(a,b){for(var i,c=a.groupIndex,d=this.groups[c],e=d.ranges(a.start,a.end,a.isAllDay,!1)[0].start,f=this.groups.length,g=b?-1:1,h=a.events;f>c&&c>-1&&(i=this.moveToEventInGroup(d,e,h,b),c+=g,d=this.groups[c],d&&!i);)h=[],e=b?d.lastSlot():d.firstSlot(!0);return i&&(a.events=[i.uid],a.start=i.start.startDate(),a.end=i.end.endDate(),a.isAllDay=i.start.isDaySlot,a.groupIndex=i.start.groupIndex),!!i},current:function(a){return void 0===a?this._current:(this._current=a,this._scrollTo(a,this.content[0]),void 0)},select:function(a){this.clearSelection(),this._selectEvents(a)||this._selectSlots(a)},_selectSlots:function(a){var b=a.isAllDay,c=this.groups[a.groupIndex];c.timeSlotCollectionCount()||(b=!0),this._selectedSlots=[];for(var e,f,d=c.ranges(a.start,a.end,b,!1),g=0;g<d.length;g++)for(var h=d[g],i=h.collection,j=h.start.index;j<=h.end.index;j++)f=i.at(j),e=f.element,e.setAttribute("aria-selected",!0),K(e),this._selectedSlots.push({start:f.startDate(),end:f.endDate(),element:e});a.backward&&(e=d[0].start.element),this.current(e)},_selectEvents:function(b){var f,c=!1,d=b.events,e=this.groups[b.groupIndex]._continuousEvents||[],g=e.length;if(!d[0]||!e[0])return c;var h=a();for(f=0;g>f;f++)a.inArray(e[f].uid,d)>-1&&(h=h.add(e[f].element));return h[0]&&(h.addClass("k-state-selected").attr("aria-selected",!0),this.current(h.last()[0]),c=!0),c},inRange:function(a){var c=this.startDate(),d=b.date.addDays(this.endDate(),1),e=a.start,f=a.end;return e>=c&&d>e&&f>c&&d>=f},_scrollbarOffset:function(a,c){return!this._isRtl||c&&!this._isVerticallyGrouped()||!b.support.browser.webkit?a:this._scrollbarWidth+a},_resourceValue:function(a,c){return a.valuePrimitive&&(c=b.getter(a.dataValueField)(c)),c},_resourceBySlot:function(a){var c=this.groupedResources,d={};if(c.length)for(var e=a.groupIndex,f=c.length-1;f>=0;f--){var g=c[f],h=this._resourceValue(g,g.dataSource.at(e%g.dataSource.total()));g.multiple&&(h=[h]);var i=b.setter(g.field);i(d,h),e=Math.floor(e/g.dataSource.total())}return d},_createResizeHint:function(b,c,d,e){return a(p).css({left:b,top:c,width:d,height:e})},_removeResizeHint:function(){this._resizeHint.remove(),this._resizeHint=a()},_removeMoveHint:function(){this._moveHint.remove(),this._moveHint=a()},_scrollTo:function(a,b){var c=a.offsetTop,d=a.offsetHeight,e=b.scrollTop,f=b.clientHeight,g=c+d,h=0;h=e>c?c:g>e+f?f>=d?g-f:c:e,b.scrollTop=h},_shouldInverseResourceColor:function(a){var b=new F(a.color).isDark(),c=this.element.css("color"),d=new F(c).isDark();return b==d},eventResources:function(a){var c=[],d=this.options;if(!d.resources)return c;for(var e=0;e<d.resources.length;e++){var f=d.resources[e],g=f.field,h=b.getter(g)(a);if(h){f.multiple||(h=[h]);for(var i=f.dataSource.view(),j=0;j<h.length;j++){var k=null,l=h[j];f.valuePrimitive||(l=b.getter(f.dataValueField)(l));for(var m=0;m<i.length;m++)if(i[m].get(f.dataValueField)==l){k=i[m];break}if(null!=k){var n=b.getter(f.dataColorField)(k);c.push({text:b.getter(f.dataTextField)(k),value:l,color:n})}}}}return c},createLayout:function(b){var c=-1;b.rows||(b.rows=[]);for(var d=0;d<b.rows.length;d++)if(b.rows[d].allDay){c=d;break}var e=b.rows[c];c>=0&&b.rows.splice(c,1);var f=this.columnLevels=h(b,"columns"),g=this.rowLevels=h(b,"rows");this.table=a("<table "+i()+' class="k-scheduler-layout k-scheduler-'+this.name+'view"/>');var j=g[g.length-1].length;this.table.append(this._topSection(f,e,j)),this.table.append(this._bottomSection(f,g,j)),this.element.append(this.table),this._scroller()},refreshLayout:function(){for(var c=this,d=c.element.find(">.k-scheduler-toolbar"),e=c.element.innerHeight(),f=this._scrollbar,g=0,h=this._isRtl?"left":"right",i=0;i<d.length;i++)e-=d.eq(i).outerHeight();if(c.datesHeader&&(g=c.datesHeader.outerHeight()),c.timesHeader&&c.timesHeader.outerHeight()>g&&(g=c.timesHeader.outerHeight()),c.datesHeader&&c.timesHeader){var j=c.datesHeader.find("table:first tr");c.timesHeader.find("tr").height(function(b){a(this).height(j.eq(b).height())})}g&&(e-=g),c.footer&&(e-=c.footer.outerHeight());var k=function(a){var b,c;return a[0].style.height?!0:(b=a.height(),a.height("auto"),c=a.height(),b!=c?(a.height(""),!0):(a.height(""),!1))},l=c.content[0],m=b.support.kineticScrollNeeded?0:f;if(this._scrollbarWidth=0,k(c.element)){e>2*f?c.content.height(e):c.content.height(2*f+1),c.times.height(l.clientHeight);var n=c.times.find("table");n.length&&n.height(c.content.find("table")[0].clientHeight)}l.offsetWidth-l.clientWidth>0?(c.table.addClass("k-scrollbar-v"),c.datesHeader.css("padding-"+h,m-parseInt(c.datesHeader.children().css("border-"+h+"-width"),10)),this._scrollbarWidth=m):c.datesHeader.css("padding-"+h,""),l.offsetHeight-l.clientHeight>0||l.clientHeight>c.content.children(".k-scheduler-table").height()?c.table.addClass("k-scrollbar-h"):c.table.removeClass("k-scrollbar-h")},_topSection:function(b,c,d){this.timesHeader=l(b.length,c,d);var e=b[b.length-1].length;return this.datesHeader=m(b,e,c),a("<tr>").append(this.timesHeader.add(this.datesHeader).wrap("<td>").parent())},_bottomSection:function(b,c,d){return this.times=n(c,d),this.content=o(b[b.length-1],c[c.length-1]),a("<tr>").append(this.times.add(this.content).wrap("<td>").parent())},_scroller:function(){var c=this;this.content.bind("scroll"+f,function(){c.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(this.scrollLeft),c.times.scrollTop(this.scrollTop)});var d=b.touchScroller(this.content,{avoidScrolling:function(b){return a(b.event.target).closest(".k-event.k-event-active").length>0}});d&&d.movable&&(this._touchScroller=d,this.content=d.scrollElement,d.movable.bind("change",function(a){c.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(-a.sender.x),c.times.scrollTop(-a.sender.y)}))},_resourcesForGroups:function(){var a=[],b=this.options.group,c=this.options.resources;if(b=b&&b.resources?b.resources:[],c&&b.length)for(var d=0,e=c.length;e>d;d++)for(var f=0,g=b.length;g>f;f++)c[d].name===b[f]&&a.push(c[d]);this.groupedResources=a},_createColumnsLayout:function(a,b){return H("columns",a,b)},_groupOrientation:function(){var a=this.options.group;return a&&a.resources?a.orientation:"horizontal"},_isVerticallyGrouped:function(){return this.groupedResources.length&&"vertical"===this._groupOrientation()},_createRowsLayout:function(a,b){return H("rows",a,b)},selectionByElement:function(){return null},clearSelection:function(){this.content.find(".k-state-selected").removeAttr("id").attr("aria-selected",!1).removeClass("k-state-selected")},destroy:function(){var a=this;d.fn.destroy.call(this),a.table&&(b.destroy(a.table),a.table.remove())},calendarInfo:function(){return b.getCulture().calendars.standard},prevGroupSlot:function(a,b,c){var d,e=this.groups[b],f=e.ranges(a,a,c,!1)[0].start;return 0>=b?void 0:this._isVerticallyGrouped()?e.timeSlotCollectionCount()?(d=e._collection(c?f.index:f.collectionIndex,!1),d.last()):(d=e._collection(e.daySlotCollectionCount()-1,!0),d.at(f.index)):e.timeSlotCollectionCount()?(d=e._collection(c?0:e.timeSlotCollectionCount()-1,c),c?d.last():d.at(f.index)):(d=e._collection(f.collectionIndex,!0),d.last())},nextGroupSlot:function(a,b,c){var d,e=this.groups[b],f=e.ranges(a,a,c,!1)[0].start;return b>=this.groups.length-1?void 0:this._isVerticallyGrouped()?e.timeSlotCollectionCount()?(d=e._collection(0,e.daySlotCollectionCount()),c?d.last():d.at(f.collectionIndex)):(d=e._collection(0,!0),d.at(f.index)):e.timeSlotCollectionCount()?(d=e._collection(0,c),c?d.first():d.at(f.index)):(d=e._collection(f.collectionIndex,!0),d.first())}});var F=function(a){var d,e,f,g,h,b=this,c=F.formats;if(1===arguments.length)for(a=b.resolveColor(a),g=0;g<c.length;g++)d=c[g].re,e=c[g].process,f=d.exec(a),f&&(h=e(f),b.r=h[0],b.g=h[1],b.b=h[2]);else b.r=arguments[0],b.g=arguments[1],b.b=arguments[2];b.r=b.normalizeByte(b.r),b.g=b.normalizeByte(b.g),b.b=b.normalizeByte(b.b)};F.prototype={resolveColor:function(a){return a=a||"#000","#"==a.charAt(0)&&(a=a.substr(1,6)),a=a.replace(/ /g,""),a=a.toLowerCase(),a=F.namedColors[a]||a},normalizeByte:function(a){return 0>a||isNaN(a)?0:a>255?255:a},percBrightness:function(){var a=this;return g.sqrt(.241*a.r*a.r+.691*a.g*a.g+.068*a.b*a.b)},isDark:function(){var a=this,b=a.percBrightness();return 180>b}},F.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(a){return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],F.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};var J=/\s*k-state-selected/;a.extend(c.SchedulerView,{createColumns:D,createRows:E,rangeIndex:B,collidingEvents:A,groupEqFilter:I})}(window.kendo.jQuery),kendo_module({id:"scheduler.dayview",name:"Scheduler Day View",category:"web",description:"The Scheduler Day View",depends:["scheduler.view"],hidden:!0}),function(a){function s(a){var b=new Date(1980,1,1,0,0,0);return e(b,l(a)),b}function t(a,b,c){var f,d=b.getTime(),e=c.getTime();return f=a.getTime(),f>=d&&e>=f}function u(a,b,c,d){return d=d?c>=a:c>a,a>b&&d}function v(a,b,d,e){var f=a._continuousEvents,g=f[f.length-1],h=i(b.start.startDate()).getTime();if(e&&g&&i(g.start.startDate()).getTime()==h){for(var j=f.length-1;j>-1&&!(f[j].isAllDay||i(f[j].start.startDate()).getTime()<h);j--);f.splice(j+1,0,{element:d,isAllDay:!0,uid:d.attr(c.attr("uid")),start:b.start,end:b.end})}else f.push({element:d,isAllDay:e,uid:d.attr(c.attr("uid")),start:b.start,end:b.end})}function w(a){var b=[],c=a.workWeekStart;for(b.push(c);a.workWeekEnd!=c;)c>6?c-=7:c++,b.push(c);return b}var c=window.kendo,d=c.ui,e=c.date.setTime,f=d.SchedulerView,g=a.extend,h=a.proxy,i=c.date.getDate,j=c.date.MS_PER_MINUTE,k=c.date.MS_PER_DAY,l=c.date.getMilliseconds,m=".kendoMultiDayView",n=c.template('<div title="(#=kendo.format("{0:t} - {1:t}", start, end)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),o=c.template('<div title="(#=kendo.format("{0:t}", start)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">${title}</div></div>'),p=c.template("<span class='k-link k-nav-day'>#=kendo.toString(date, 'ddd M/dd')#</span>"),q='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#" #} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span>#if(resizable && !singleDay && !data.tail && !data.middle){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !singleDay && !data.head && !data.middle){#<span class="k-resize-handle k-resize-e"></span>#}#</div>',r='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#" #if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</span><span class="k-event-top-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-n"></span># } #</span><span class="k-event-bottom-actions"># if(data.head || data.middle) {#<span class="k-icon k-i-arrow-s"></span># } #</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-n"></span># } ## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-s"></span># } #</div>',x=f.extend({init:function(a,b){var c=this;f.fn.init.call(c,a,b),c.title=c.options.title||c.options.name,c._workDays=w(c.options),c._templates(),c._editable(),c.calculateDateRange(),c._groups()},_updateResizeHint:function(a,b,d,e){var g=a.isMultiDay(),h=this.groups[b],i=h.ranges(d,e,g,a.isAllDay);this._removeResizeHint();for(var j=0;j<i.length;j++){var k=i[j],l=k.startSlot(),m=l.offsetWidth,n=l.clientHeight,o=l.offsetTop;if(g)m=k.innerWidth();else{var p=k.outerRect(d,e,this.options.snap);o=p.top,n=p.bottom-p.top}var q=f.fn._createResizeHint.call(this,this._scrollbarOffset(l.offsetLeft,g),o,m,n);this._resizeHint=this._resizeHint.add(q)}var r="t",s=this.content;g&&(r="M/dd",s=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div"),s.length||(s=this.content)),this._resizeHint.appendTo(s),this._resizeHint.find(".k-label-top,.k-label-bottom").text(""),this._resizeHint.first().addClass("k-first").find(".k-label-top").text(c.toString(c.timezone.toLocalDate(d),r)),this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(c.toString(c.timezone.toLocalDate(e),r))},_updateMoveHint:function(a,b,d){var e=a.isMultiDay(),f=this.groups[b],g=c.date.toUtcTime(a.start)+d,h=g+a.duration(),i=f.ranges(g,h,e,a.isAllDay);g=c.timezone.toLocalDate(g),h=c.timezone.toLocalDate(h),this._removeMoveHint(),!e&&(0===l(h)||l(h)<l(this.startTime()))&&i.length>1&&i.pop();for(var j=0;j<i.length;j++){var k=i[j],m=k.start,n=this._createEventElement(a.clone({start:g,startTime:g,end:h,endTime:h}),!e);n.addClass("k-event-drag-hint");var o={left:m.offsetLeft+2,top:m.offsetTop};if(this._isRtl&&(o.left=.1*m.clientWidth+this._scrollbarOffset(m.offsetLeft)+2),e)o.width=k.innerWidth()-4;else{var p=k.outerRect(g,h,this.options.snap);o.top=p.top,o.height=p.bottom-p.top,o.width=.9*m.clientWidth-4}n.css(o),this._moveHint=this._moveHint.add(n)}var q=this.content;e&&(q=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div"),q.length||(q=this.content)),this._moveHint.appendTo(q)},_slotByPosition:function(a,b){var c,d;this._isVerticallyGrouped()?(d=this.content.offset(),b+=this.content[0].scrollTop,a+=this.content[0].scrollLeft):d=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day)").find(">div").offset(),d&&(a-=d.left,b-=d.top),a=Math.ceil(a),b=Math.ceil(b);var e,f;for(f=0;f<this.groups.length;f++)if(e=this.groups[f],c=e.daySlotByPosition(a,b))return c;for(d&&(a+=d.left,b+=d.top),d=this.content.offset(),a-=d.left,b-=d.top,this._isVerticallyGrouped()||(b+=this.content[0].scrollTop,a+=this.content[0].scrollLeft),a=Math.ceil(a),b=Math.ceil(b),f=0;f<this.groups.length;f++)if(e=this.groups[f],c=e.timeSlotByPosition(a,b))return c;return null},_groupCount:function(){var a=this.groupedResources;return a.length?"vertical"===this._groupOrientation()?this._rowCountForLevel(a.length-1):this._columnCountForLevel(a.length)/this._columnOffsetForResource(a.length):1},_columnCountInResourceView:function(){var a=this.groupedResources;return!a.length||this._isVerticallyGrouped()?this._columnCountForLevel(0):this._columnOffsetForResource(a.length)},_timeSlotGroups:function(a,b){var c=this._timeSlotInterval(),d=this.content.find("tr:not(.k-scheduler-header-all-day)");d.attr("role","row");var e=d.length;this._isVerticallyGrouped()&&(e=Math.floor(e/a));for(var f=0;a>f;f++){var g=0;this._isVerticallyGrouped()&&(g=f);var i,h=g*e,j=0;for(this._isVerticallyGrouped()||(j=f);(g+1)*e>h;){var k=d[h].children,m=this.groups[f];0===h%e&&(i=l(new Date(+this.startTime())));for(var n=j*b;(j+1)*b>n;n++){var o=k[n],p=n%b,q=m.getTimeSlotCollection(p),r=this._dates[p],s=Date.UTC(r.getFullYear(),r.getMonth(),r.getDate()),t=s+i,u=t+c;o.setAttribute("role","gridcell"),o.setAttribute("aria-selected",!1),q.addTimeSlot(o,t,u)}i+=c,h++}}},_daySlotGroups:function(a,b){var d;d=this._isVerticallyGrouped()?this.element.find(".k-scheduler-header-all-day"):this.element.find(".k-scheduler-header-all-day tr"),d.attr("role","row");for(var e=0;a>e;e++){var f=0;this._isVerticallyGrouped()&&(f=e);var g=this.groups[e],h=g.getDaySlotCollection(0),i=d[f].children,j=0;this._isVerticallyGrouped()||(j=e);for(var k=0,l=j*b;(j+1)*b>l;l++){var m=i[l];0===l%b&&(k=0);var n=c.date.addDays(this.startDate(),k),o=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate());k++,m.setAttribute("role","gridcell"),m.setAttribute("aria-selected",!1),h.addDaySlot(m,o,o+c.date.MS_PER_DAY)}}},_groups:function(){var a=this._groupCount(),b=this._columnCountInResourceView();this.groups=[];for(var d=0;a>d;d++){for(var e=this._addResourceView(d),f=0;b>f;f++)e.addTimeSlotCollection(this._dates[f],c.date.addDays(this._dates[f],1));e.addDaySlotCollection(this._dates[0],this._dates[this._dates.length-1])}this._timeSlotGroups(a,b),this.options.allDaySlot&&this._daySlotGroups(a,b)},options:{name:"MultiDayView",selectedDateFormat:"{0:D}",allDaySlot:!0,showWorkHours:!1,title:"",startTime:c.date.today(),endTime:c.date.today(),minorTickCount:2,majorTick:60,majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",minorTimeHeaderTemplate:"&nbsp;",slotTemplate:"&nbsp;",allDaySlotTemplate:"&nbsp;",eventTemplate:n,allDayEventTemplate:o,dateHeaderTemplate:p,editable:!0,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,footer:{command:"workDay"},messages:{allDay:"all day",showFullDay:"Show full day",showWorkDay:"Show business hours"}},events:["remove","add","edit"],_templates:function(){var a=this.options,b=g({},c.Template,a.templateSettings);this.eventTemplate=this._eventTmpl(a.eventTemplate,r),this.allDayEventTemplate=this._eventTmpl(a.allDayEventTemplate,q),this.majorTimeHeaderTemplate=c.template(a.majorTimeHeaderTemplate,b),this.minorTimeHeaderTemplate=c.template(a.minorTimeHeaderTemplate,b),this.dateHeaderTemplate=c.template(a.dateHeaderTemplate,b),this.slotTemplate=c.template(a.slotTemplate,b),this.allDaySlotTemplate=c.template(a.allDaySlotTemplate,b)},_editable:function(){this.options.editable&&(this._isMobile()?this._touchEditable():this._mouseEditable())},_mouseEditable:function(){var b=this;b.element.on("click"+m,".k-event a:has(.k-si-close)",function(d){b.trigger("remove",{uid:a(this).closest(".k-event").attr(c.attr("uid"))}),d.preventDefault()}),b.options.editable.create!==!1&&b.element.on("dblclick"+m,".k-scheduler-content td",function(c){if(!a(this).parent().hasClass("k-scheduler-header-all-day")){var d=b._slotByPosition(c.pageX,c.pageY);if(d){var e=b._resourceBySlot(d);b.trigger("add",{eventInfo:g({start:d.startDate(),end:d.endDate()},e)})}c.preventDefault()}}).on("dblclick"+m,".k-scheduler-header-all-day td",function(a){var d=b._slotByPosition(a.pageX,a.pageY);if(d){var e=b._resourceBySlot(d);b.trigger("add",{eventInfo:g({},{isAllDay:!0,start:c.date.getDate(d.startDate()),end:c.date.getDate(d.startDate())},e)})}a.preventDefault()}),b.options.editable.update!==!1&&b.element.on("dblclick"+m,".k-event",function(d){b.trigger("edit",{uid:a(this).closest(".k-event").attr(c.attr("uid"))}),d.preventDefault()})},_touchEditable:function(){var b=this;b.options.editable.create!==!1&&(b._addUserEvents=new c.UserEvents(b.element,{filter:".k-scheduler-content td",tap:function(c){if(!a(c.target).parent().hasClass("k-scheduler-header-all-day")){var d=b._slotByPosition(c.x.location,c.y.location);if(d){var e=b._resourceBySlot(d);b.trigger("add",{eventInfo:g({start:d.startDate(),end:d.endDate()},e)})}c.preventDefault()}}}),b._allDayUserEvents=new c.UserEvents(b.element,{filter:".k-scheduler-header-all-day td",tap:function(a){var d=b._slotByPosition(a.x.location,a.y.location);if(d){var e=b._resourceBySlot(d);b.trigger("add",{eventInfo:g({},{isAllDay:!0,start:c.date.getDate(d.startDate()),end:c.date.getDate(d.startDate())},e)})}a.preventDefault()}})),b.options.editable.update!==!1&&(b._editUserEvents=new c.UserEvents(b.element,{filter:".k-event",tap:function(d){var e=a(d.target).closest(".k-event");e.hasClass("k-event-active")||b.trigger("edit",{uid:e.attr(c.attr("uid"))}),d.preventDefault()}}))},_layout:function(a){for(var b=[],d=[],e=this.options,f=this,g=0;g<a.length;g++){var h={};h.text=f.dateHeaderTemplate({date:a[g]}),c.date.isToday(a[g])&&(h.className="k-today"),b.push(h)}var i=this.groupedResources;return e.allDaySlot&&d.push({text:e.messages.allDay,allDay:!0,cellContent:function(b){return b=i.length&&"vertical"!==f._groupOrientation()?b%a.length:b,f.allDaySlotTemplate({date:a[b]})}}),this._forTimeRange(this.startTime(),this.endTime(),function(a,b,c,e){var g=b?f.majorTimeHeaderTemplate:f.minorTimeHeaderTemplate,h={text:g({date:a}),className:e?"k-slot-cell":""};d.push(h)}),i.length&&("vertical"===this._groupOrientation()?d=this._createRowsLayout(i,d):b=this._createColumnsLayout(i,b)),{columns:b,rows:d}},_footer:function(){var b=this.options;if(b.footer!==!1){var c='<div class="k-header k-scheduler-footer">',d=b.footer.command;d&&"workDay"===d?(c+='<ul class="k-reset k-header k-toolbar">',c+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>',c+=(b.showWorkHours?b.messages.showFullDay:b.messages.showWorkDay)+"</a></li>",c+="</ul>"):c+="&nbsp;",c+="</div>",this.footer=a(c).appendTo(this.element);var e=this;this.footer.on("click"+m,".k-scheduler-fullday",function(a){a.preventDefault(),e.trigger("navigate",{view:e.name||b.name,date:e.startDate(),isWorkDay:!b.showWorkHours})})}},_forTimeRange:function(a,b,c,d){a=s(a),b=s(b);var q,t,f=this,g=l(a),h=l(b),i=f.options.minorTickCount,m=f.options.majorTick*j,n=m/i||1,o=new Date(+a),p=o.getDate(),r=0,u="";for(t=k/n,g!=h&&(g>h&&(h+=k),t=(h-g)/n),t=Math.round(t);t>r;r++){var v=r%(m/n),w=0===v,x=i-1>v,y=v===i-1;u+=c(o,w,x,y),e(o,n,!1)}return h&&(q=l(o),p<o.getDate()&&(q+=k),q>h&&(o=new Date(+b))),d&&(u+=d(o)),u},_content:function(a){var b=this,d=b.options,e=b.startTime(),f=this.endTime(),g=1,h=1,i=a.length,j="",k=this.groupedResources,l="",m=this.slotTemplate;if(k.length)if("vertical"===b._groupOrientation()){if(h=this._rowCountForLevel(this.rowLevels.length-2),d.allDaySlot){l='<tr class="k-scheduler-header-all-day">';for(var n=0,o=a.length;o>n;n++)l+="<td>"+this.allDaySlotTemplate({date:a[n]})+"</td>";l+="</tr>"}}else g=this._columnCountForLevel(this.columnLevels.length-2);j+="<tbody>";for(var p=function(d,e){var h,j,l,f="",k="";f="<tr"+(e?' class="k-middle-row"':"")+">";for(var n=0;g>n;n++)for(h=0,j=i;j>h;h++)k="",c.date.isToday(a[h])&&(k+="k-today"),(c.date.getMilliseconds(d)<c.date.getMilliseconds(b.options.workDayStart)||c.date.getMilliseconds(d)>=c.date.getMilliseconds(b.options.workDayEnd)||!b._isWorkDay(a[h]))&&(k+=" k-nonwork-hour"),f+="<td"+(""!==k?' class="'+k+'"':"")+">",l=c.date.getDate(a[h]),c.date.setTime(l,c.date.getMilliseconds(d)),f+=m({date:l}),f+="</td>";return f+="</tr>"},q=0;h>q;q++)j+=l,j+=this._forTimeRange(e,f,p);j+="</tbody>",this.content.find("table").append(j)},_isWorkDay:function(a){for(var b=a.getDay(),c=this._workDays,d=0;d<c.length;d++)if(c[d]===b)return!0;return!1},_render:function(b){var c=this;b=b||[],this._dates=b,this._startDate=b[0],this._endDate=b[b.length-1||0],this.createLayout(this._layout(b)),this._content(b),this._footer(),this.refreshLayout();var d=this.element.find(".k-scheduler-header-all-day td");d.length&&(this._allDayHeaderHeight=d.first()[0].clientHeight),c.datesHeader.on("click"+m,".k-nav-day",function(b){var d=a(b.currentTarget).closest("th"),e=d.offset(),f=c._slotByPosition(e.left,e.top+d.outerHeight());c.trigger("navigate",{view:"day",date:f.startDate()})})},startTime:function(){var a=this.options;return a.showWorkHours?a.workDayStart:a.startTime},endTime:function(){var a=this.options;return a.showWorkHours?a.workDayEnd:a.endTime},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_end:function(a){var b=l(this.endTime())||k;return a&&(b=0),new Date(this._endDate.getTime()+b)},nextDate:function(){return c.date.nextDay(this.endDate())},previousDate:function(){return c.date.previousDay(this.startDate())},calculateDateRange:function(){this._render([this.options.date])},destroy:function(){var a=this;a.datesHeader&&a.datesHeader.off(m),a.element&&a.element.off(m),f.fn.destroy.call(this),a.footer&&a.footer.remove(),this._isMobile()&&(a.options.editable.create!==!1&&(a._addUserEvents.destroy(),a._allDayUserEvents.destroy()),a.options.editable.update!==!1&&a._editUserEvents.destroy())},selectionByElement:function(a){var b=a.offset();return this._slotByPosition(b.left,b.top)},_timeSlotInterval:function(){var a=this.options;return a.majorTick/a.minorTickCount*j},_timeSlotIndex:function(a){var b=this.options,c=l(a),d=l(this.startTime()),e=b.majorTick/b.minorTickCount*j;return(c-d)/e},_slotIndex:function(a,b){return b?this._dateSlotIndex(a):this._timeSlotIndex(a)},_dateSlotIndex:function(a,b){var d,e,g,h,f=this._dates||[],i=1;for(d=0,e=f.length;e>d;d++)if(g=c.date.getDate(f[d]),h=new Date(c.date.getDate(f[d]).getTime()+k-(b?0:1)),t(a,g,h))return d*i;return-1},_positionAllDayEvent:function(b,c){var d=c.innerWidth(),e=c.start.index,g=c.end.index,h=f.collidingEvents(c.events(),e,g),i=this._headerColumnCount||0,j=2,k=e!==g?5:4,l=this._allDayHeaderHeight,m=c.startSlot();b.css({left:this._scrollbarOffset(m.offsetLeft+j,!0),width:d-k}),c.addEvent({slotIndex:e,start:e,end:g,element:b}),h.push({slotIndex:e,start:e,end:g,element:b});var n=f.createRows(h);n.length&&n.length>i&&(this._updateAllDayHeaderHeight(l*n.length+l),this._headerColumnCount=n.length);for(var o=c.start.offsetTop,p=0,q=n.length;q>p;p++)for(var r=n[p].events,s=0,t=r.length;t>s;s++)a(r[s].element).css({top:o+p*l})},_arrangeColumns:function(a,b,c,d){var e=d.start;a={element:a,slotIndex:e.index,start:b,end:b+c};var g,j,h=e.clientWidth,i=.1*h,k=d.events(),l=f.collidingEvents(k,a.start,a.end);d.addEvent(a),l.push(a),g=f.createColumns(l);for(var m=(h-i)/g.length,n=0,o=g.length;o>n;n++){j=g[n].events;for(var p=0,q=j.length;q>p;p++)j[p].element[0].style.width=m-4+"px",j[p].element[0].style.left=(this._isRtl?this._scrollbarOffset(i):0)+e.offsetLeft+n*m+2+"px"}},_positionEvent:function(a,b,d){var e=a.start,f=a.end;a.startTime&&(e=c.date.getMilliseconds(a.startTime)+c.date.toUtcTime(c.date.getDate(a.start))),a.endTime&&(f=c.date.getMilliseconds(a.endTime)+c.date.toUtcTime(c.date.getDate(a.end)));
var g=d.innerRect(e,f,!1),h=g.bottom-g.top-2;0>h&&(h=0),b.css({top:g.top,height:h}),this._arrangeColumns(b,g.top,b[0].clientHeight,d)},_eventTmpl:function(a,b){var d=this.options,e=g({},c.Template,d.templateSettings),f=e.paramName,i="",j=typeof a,k={storage:{},count:0};"function"===j?(k.storage["tmpl"+k.count]=a,i+="#=this.tmpl"+k.count+"("+f+")#",k.count++):"string"===j&&(i+=a);var l=c.template(c.format(b,i),e);return k.count>0&&(l=h(l,k.storage)),l},_createEventElement:function(b,d,e,f){var x,h=d?this.eventTemplate:this.allDayEventTemplate,j=this.options,m=j.editable,n=this._isMobile(),o=m&&m.destroy!==!1&&!n,p=m&&m.resize!==!1,q=i(this.startDate()),r=i(this.endDate()),s=l(this.startTime()),u=l(this.endTime()),v=l(b.startTime||b.start),w=l(b.endTime||b.end);s>=u&&(u=l(new Date(this.endTime().getTime()+k-1))),d||b.isAllDay||(r=new Date(r.getTime()+k));var y=b.end;b.isAllDay&&(y=i(b.end)),!t(i(b.start),q,r)&&!t(y,q,r)||d&&s>v&&w>u?x=!0:i(b.start)<q||d&&s>v?f=!0:(y>r&&!d||d&&w>u)&&(e=!0);var z=this.eventResources(b);return a(h(g({},{ns:c.ns,resizable:p,showDelete:o,middle:x,head:e,tail:f,singleDay:1==this._dates.length,resources:z,inverseColor:z&&z[0]?this._shouldInverseResourceColor(z[0]):!1},b,{start:b.startTime||b.start,end:b.endTime||b.end})))},_isInTimeSlot:function(a){var b=this.startTime(),d=this.endTime(),f=a.startTime||a.start,g=a.endTime||a.end;if(l(d)===l(c.date.getDate(d))&&(d=c.date.getDate(d),e(d,k-1)),c.date.getDate(g)>c.date.getDate(f)&&(g=c.date.getDate(g),e(g,k-1)),g=l(g),f=l(f),d=l(d),b=l(b),b===f&&f===g)return!0;var h=f!==d;return u(f,b,d,h)||u(g,b,d,h)||u(b,f,g)||u(d,f,g)},_isInDateSlot:function(a){var b=this.startDate(),c=new Date(this.endDate().getTime()+k-1);return(t(a.start,b,c)||t(a.end,b,c)||t(b,a.start,a.end)||t(c,a.start,a.end))&&(!t(a.end,b,b)||t(a.end,a.start,a.start)||a.isAllDay)},_updateAllDayHeaderHeight:function(a){var b=this.element.find(".k-scheduler-header-all-day td");if(b.length){b.parent().add(this.element.find(".k-scheduler-times-all-day").parent()).height(a);for(var c=0;c<this.groups.length;c++)this.groups[c].refresh()}},_renderEvents:function(a,b){var d,e,f,c=this.datesHeader.find(".k-scheduler-header-wrap > div");for(e=0,f=a.length;f>e;e++)if(d=a[e],this._isInDateSlot(d)){var i,j,l,g=d.isAllDay||d.end.getTime()-d.start.getTime()>=k,h=g&&!this._isVerticallyGrouped()?c:this.content;if(g)this.options.allDaySlot&&(l=this.groups[b],l._continuousEvents||(l._continuousEvents=[]),j=l.slotRanges(d),i=this._createEventElement(d,!g),this._positionAllDayEvent(i,j[0]),v(l,j[0],i,!0),i.appendTo(h));else if(this._isInTimeSlot(d)){l=this.groups[b],l._continuousEvents||(l._continuousEvents=[]),j=l.slotRanges(d);for(var m=j.length,n=0;m>n;n++){var o=j[n],p=d.start,q=d.end;m>1&&(0===n?q=o.end.endDate():n==m-1?p=o.start.startDate():(p=o.start.startDate(),q=o.end.endDate()));var r=d.clone({start:p,end:q,startTime:d.startTime,endTime:d.endTime});if(this._isInTimeSlot(r)){var s=o.head;i=this._createEventElement(d,!g,s,o.tail),i.appendTo(h),this._positionEvent(r,i,o),v(l,o,i,!1)}}}}},render:function(a){this._headerColumnCount=0,this._groups(),this.element.find(".k-event").remove(),this._updateAllDayHeaderHeight(this._allDayHeaderHeight),a=new c.data.Query(a).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var b=this.groupedResources;b.length?this._renderGroups(a,b,0):this._renderEvents(a,0,0),this.refreshLayout(),this.trigger("activate")},_renderGroups:function(a,b,d){var e=b[0];if(e)for(var g=e.dataSource.view(),h=0;h<g.length;h++){var i=this._resourceValue(e,g[h]),j=new c.data.Query(a).filter({field:e.field,operator:f.groupEqFilter(i)}).toArray();b.length>1?d=this._renderGroups(j,b.slice(1),d++):this._renderEvents(j,d++)}return d},_columnOffsetForResource:function(a){return this._columnCountForLevel(a)/this._columnCountForLevel(a-1)},_columnCountForLevel:function(a){var b=this.columnLevels[a];return b?b.length:0},_rowCountForLevel:function(a){var b=this.rowLevels[a];return b?b.length:0},clearSelection:function(){this.content.add(this.datesHeader).find(".k-state-selected").removeAttr("id").attr("aria-selected",!1).removeClass("k-state-selected")},_updateDirection:function(a,b,c,d,e){var f=a.isAllDay,g=b[0].start,h=b[b.length-1].end;c&&(e?f||g.index!==h.index||g.collectionIndex!==h.collectionIndex||(a.backward=d):(f&&g.index===h.index||!f&&g.collectionIndex===h.collectionIndex)&&(a.backward=d))},_changeViewPeriod:function(a,b,c){if(!c){var d=b?this.previousDate():this.nextDate(),f=a.start,g=a.end;a.start=new Date(d),a.end=new Date(d);var h=a.isAllDay?k:l(g);return e(a.start,l(f)),e(a.end,h),this._isVerticallyGrouped()||(a.groupIndex=b?this.groups.length-1:0),a.events=[],!0}}});g(!0,d,{MultiDayView:x,DayView:x.extend({options:{title:"Day"},name:"day"}),WeekView:x.extend({options:{title:"Week",selectedDateFormat:"{0:D} - {1:D}"},name:"week",calculateDateRange:function(){var d,e,a=this.options.date,b=c.date.dayOfWeek(a,this.calendarInfo().firstDay,-1),f=[];for(d=0,e=7;e>d;d++)f.push(b),b=c.date.nextDay(b);this._render(f)}}),WorkWeekView:x.extend({options:{title:"Work Week",selectedDateFormat:"{0:D} - {1:D}"},nextDate:function(){return c.date.dayOfWeek(c.date.nextDay(this.endDate()),this.options.workWeekStart,1)},previousDate:function(){return c.date.previousDay(this.startDate())},calculateDateRange:function(){for(var a=this.options.date,b=c.date.dayOfWeek(a,this.options.workWeekStart,-1),d=c.date.dayOfWeek(b,this.options.workWeekEnd,1),e=[];d>=b;)e.push(b),b=c.date.nextDay(b);this._render(e)}})})}(window.kendo.jQuery),kendo_module({id:"scheduler.agendaview",name:"Scheduler Agenda View",category:"web",description:"The Scheduler Agenda View",depends:["scheduler.view"],hidden:!0}),function(a){function e(a){for(var b=0,c=0,d=a.length;d>c;c++)b+=a[c].items.length;return b}function f(a,c){return a.valuePrimitive&&(c=b.getter(a.dataValueField)(c)),c}function g(a){for(var d,b=0,c=a.length,e=[];c>b;b++)d=a[b],d.groups?(d=h(d.groups),e=e.concat(d)):e=e.concat(h(d.items));return e}function h(a){for(var b=[].concat(a),c=b.shift(),d=[],e=[].push;c;)c.groups?e.apply(b,c.groups):c.items?e.apply(b,c.items):e.call(d,c),c=b.shift();return d}var b=window.kendo,c=b.ui,d=".kendoAgendaView";c.AgendaView=c.SchedulerView.extend({init:function(e,f){c.SchedulerView.fn.init.call(this,e,f),f=this.options,f.editable&&(f.editable=a.extend({"delete":!0},f.editable,{create:!1,update:!1})),this.title=f.title,this.name="agenda",this._eventTemplate=b.template(f.eventTemplate),this._dateTemplate=b.template(f.eventDateTemplate),this._groupTemplate=b.template(f.eventGroupTemplate),this._timeTemplate=b.template(f.eventTimeTemplate),this.element.on("mouseenter"+d,".k-scheduler-agenda .k-scheduler-content tr","_mouseenter").on("mouseleave"+d,".k-scheduler-agenda .k-scheduler-content tr","_mouseleave").on("click"+d,".k-scheduler-agenda .k-scheduler-content .k-link:has(.k-si-close)","_remove"),this._renderLayout(f.date)},_mouseenter:function(b){a(b.currentTarget).addClass("k-state-hover")},_mouseleave:function(b){a(b.currentTarget).removeClass("k-state-hover")},_remove:function(c){c.preventDefault(),this.trigger("remove",{uid:a(c.currentTarget).closest(".k-task").attr(b.attr("uid"))})},nextDate:function(){return b.date.nextDay(this.startDate())},startDate:function(){return this._startDate},endDate:function(){return this._endDate},previousDate:function(){return b.date.previousDay(this.startDate())},_renderLayout:function(a){this._startDate=a,this._endDate=b.date.addDays(a,7),this.createLayout(this._layout()),this.table.addClass("k-scheduler-agenda")},_layout:function(){var a=[{text:this.options.messages.time,className:"k-scheduler-timecolumn"},{text:this.options.messages.event}];this._isMobilePhoneView()||a.splice(0,0,{text:this.options.messages.date,className:"k-scheduler-datecolumn"});var b=this.groupedResources;if(b.length){for(var c=[],d=0;d<b.length;d++)c.push({text:"",className:"k-scheduler-groupcolumn"});a=c.concat(a)}return{columns:a}},_tasks:function(a){for(var c=[],d=0;d<a.length;d++){var e=a[d],f=e.start,g=e.end;e.isAllDay&&(g=b.date.nextDay(g));var h=Math.ceil((g-f)/b.date.MS_PER_DAY);e.isAllDay||1!==h||b.date.getDate(g).getTime()===b.date.getDate(f).getTime()||(h+=1);var i=e.clone();if(i.startDate=b.date.getDate(f),i.startDate>=this.startDate()&&c.push(i),h>1){i.end=b.date.nextDay(f),i.head=!0;for(var j=1;h>j;j++)f=i.end,i=e.clone(),i.start=f,i.startDate=b.date.getDate(f),i.end=b.date.nextDay(f),j==h-1?(i.end=new Date(i.start.getFullYear(),i.start.getMonth(),i.start.getDate(),g.getHours(),g.getMinutes(),g.getSeconds(),g.getMilliseconds()),i.tail=!0):(i.isAllDay=!0,i.middle=!0),i.end<=this.endDate()&&i.start>=this.startDate()&&c.push(i)}}return new b.data.Query(c).sort([{field:"start",dir:"asc"},{field:"end",dir:"asc"}]).groupBy({field:"startDate"}).toArray()},_renderTaskGroups:function(a,c){for(var d=[],e=this.options.editable,f=e&&e.destroy!==!1&&!this._isMobile(),g=this._isMobilePhoneView(),h=0;h<a.length;h++)for(var i=a[h].value,j=a[h].items,k=b.date.isToday(i),l=0;l<j.length;l++){var m=j[l],n=[],o=g?[]:n;if(0===h&&0===l&&c.length)for(var p=0;p<c.length;p++)o.push(b.format('<td class="k-scheduler-groupcolumn{2}" rowspan="{0}">{1}</td>',c[p].rowSpan,this._groupTemplate({value:c[p].text}),c[p].className));0===l&&(g?(o.push(b.format('<td class="k-scheduler-datecolumn" colspan="2">{0}</td>',this._dateTemplate({date:i}))),d.push('<tr role="row" aria-selected="false"'+(k?' class="k-today">':">")+o.join("")+"</tr>")):n.push(b.format('<td class="k-scheduler-datecolumn{2}" rowspan="{0}">{1}</td>',j.length,this._dateTemplate({date:i}),h!=a.length-1||c.length?"":" k-last"))),m.format=m.head?"{0:t}":m.tail?"{1:t}":"{0:t}-{1:t}",m.resources=this.eventResources(m),n.push(b.format('<td class="k-scheduler-timecolumn"><div>{0}{1}{2}</div></td><td>{3}</td>',m.tail||m.middle?'<span class="k-icon k-i-arrow-w"></span>':"",this._timeTemplate(m.clone({start:m.startTime||m.start,end:m.endTime||m.end})),m.head||m.middle?'<span class="k-icon k-i-arrow-e"></span>':"",this._eventTemplate(m.clone({showDelete:f})))),d.push('<tr role="row" aria-selected="false"'+(k?' class="k-today">':">")+n.join("")+"</tr>")}return d.join("")},render:function(a){var b=this.content.find("table").empty(),c=[];if(a.length>0){var d=this.groupedResources;d.length?(c=this._createGroupConfiguration(a,d,null),this._renderGroups(c,b,[])):(c=this._tasks(a),b.append(this._renderTaskGroups(c,[])))}this._eventsList=g(c),this.refreshLayout(),this.trigger("activate")},_renderGroups:function(a,b,c){for(var d=0,e=a.length;e>d;d++){var f=c.splice(0);f.push(a[d]),a[d].groups?this._renderGroups(a[d].groups,b,f):b.append(this._renderTaskGroups(a[d].items,f))}},_createGroupConfiguration:function(a,d,g){for(var h=d[0],i=[],j=h.dataSource.view(),k=this._isMobilePhoneView(),l=0;l<j.length;l++){var m=f(h,j[l]),n=new b.data.Query(a).filter({field:h.field,operator:c.SchedulerView.groupEqFilter(m)}).toArray();if(n.length){var o=this._tasks(n),p=g?"":" k-first";l===j.length-1&&(!g||g.className.indexOf("k-last")>-1)&&(p+=" k-last");var q={text:b.getter(h.dataTextField)(j[l]),value:m,rowSpan:0,className:p};if(d.length>1)q.groups=this._createGroupConfiguration(n,d.slice(1),q),g&&(g.rowSpan+=q.rowSpan);else{q.items=o;var r=e(q.items);k&&(r+=q.items.length),q.rowSpan=r,g&&(g.rowSpan+=r)}i.push(q)}}return i},selectionByElement:function(b){if(b=a(b),!b.hasClass("k-scheduler-datecolumn")){var c=b.parent().index(),d=this._eventsList[c];return{index:c,start:d.start,end:d.end,isAllDay:d.isAllDay,uid:d.uid}}},select:function(a){this.clearSelection();var b=this.table.find(".k-task").eq(a.index).closest("tr").addClass("k-state-selected")[0];b&&this._scrollTo(b,this.content[0])},move:function(a,c){var d=!1,e=a.index;if(c==b.keys.UP?(e--,d=!0):c==b.keys.DOWN&&(e++,d=!0),d){var f=this._eventsList[e];f&&(a.start=f.start,a.end=f.end,a.isAllDay=f.isAllDay,a.events=[f.uid],a.index=e)}return d},moveToEvent:function(){return!1},constrainSelection:function(a){var b=this._eventsList[0];b&&(a.start=b.start,a.end=b.end,a.isAllDay=b.isAllDay,a.events=[b.uid],a.index=0)},isInRange:function(){return!0},destroy:function(){this.element&&this.element.off(d),c.SchedulerView.fn.destroy.call(this)},options:{title:"Agenda",name:"agenda",editable:!0,selectedDateFormat:"{0:D}-{1:D}",eventTemplate:'<div class="k-task" title="#:title.replace(/"/g,"\'")#" data-#=kendo.ns#uid="#=uid#"># if (resources[0]) {#<span class="k-scheduler-mark" style="background-color:#=resources[0].color#"></span># } ## if (data.isException()) { #<span class="k-icon k-i-exception"></span># } else if (data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } ##:title##if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</div>',eventTimeTemplate:"#if(data.isAllDay) {#all day#} else { ##=kendo.format(format, start, end)## } #",eventDateTemplate:'<strong class="k-scheduler-agendaday">#=kendo.toString(date, "dd")#</strong><em class="k-scheduler-agendaweek">#=kendo.toString(date,"dddd")#</em><span class="k-scheduler-agendadate">#=kendo.toString(date, "y")#</span>',eventGroupTemplate:'<strong class="k-scheduler-adgendagroup">#=value#</strong>',messages:{event:"Event",date:"Date",time:"Time"}}})}(window.kendo.jQuery),kendo_module({id:"scheduler.monthview",name:"Scheduler Month View",category:"web",description:"The Scheduler Month View",depends:["scheduler.view"],hidden:!0}),function(a){function p(a,b){return a.slice(b).concat(a.slice(0,b))}function q(a,c){for(var d=c.firstDay,e=new Date(a.getFullYear(),a.getMonth(),0,a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds());e.getDay()!=d;)b.date.setTime(e,-1*i);return e}function r(a,b,c){var f,d=b.getTime(),e=c.getTime();return f=a.getTime(),f>=d&&e>=f}var b=window.kendo,c=b.ui,d=c.SchedulerView,e=".kendoMonthView",f=a.extend,g=a.proxy,h=b.date.getDate,i=b.date.MS_PER_DAY,j=6,k=7,l=b.template('<span class="k-link k-nav-day">#:kendo.toString(date, "dd")#</span>'),m='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span>#}#</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-w"></span>#}## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-e"></span>#}#</div>',n=b.template('<div title="#=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">#:title#</div></div>'),o=b.template('<div style="width:#=width#px;left:#=left#px;top:#=top#px" class="k-more-events k-button"><span>...</span></div>');c.MonthView=d.extend({init:function(a,b){var c=this;d.fn.init.call(c,a,b),c.title=c.options.title,c.name="month",c._templates(),c._editable(),c._renderLayout(c.options.date),c._groups()},_updateDirection:function(a,b,c,d,e){if(c){var j,f=b[0].start,g=b[b.length-1].end,h=f.index===g.index,i=f.collectionIndex===g.collectionIndex;j=e?h&&i||i:h&&i,j&&(a.backward=d)}},_changeViewPeriod:function(a,c,d){var e=d?7:1;return c&&(e*=-1),a.start=b.date.addDays(a.start,e),a.end=b.date.addDays(a.end,e),(!d||d&&this._isVerticallyGrouped())&&(a.groupIndex=c?this.groups.length-1:0),a.events=[],!0},_continuousSlot:function(a,b,c){var d=a.backward?0:b.length-1,e=this.groups[a.groupIndex];return e.continuousSlot(b[d].start,c)},_changeGroupContinuously:function(a,b,c,d){if(!c){var e=a.groupIndex,f=this.groups.length-1,g=this._isVerticallyGrouped(),h=this.groups[e];!b&&g?(b=h[d?"lastSlot":"firstSlot"](),e+=d?-1:1):b&&!g&&(e=d?f:0),(0>e||e>f)&&(e=d?f:0,b=null),a.groupIndex=e}return b},_normalizeHorizontalSelection:function(a,b,c){var d;return d=c?b[0].start:b[b.length-1].end},_normalizeVerticalSelection:function(a,b){var c;return c=a.backward?b[0].start:b[b.length-1].end},_templates:function(){var a=this.options,c=f({},b.Template,a.templateSettings);this.eventTemplate=this._eventTmpl(a.eventTemplate),this.dayTemplate=b.template(a.dayTemplate,c)},dateForTitle:function(){return b.format(this.options.selectedDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},nextDate:function(){return b.date.nextDay(this._lastDayOfMonth)},previousDate:function(){return b.date.previousDay(this._firstDayOfMonth)},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_renderLayout:function(c){var d=this;this._firstDayOfMonth=b.date.firstDayOfMonth(c),this._lastDayOfMonth=b.date.lastDayOfMonth(c),this._startDate=q(c,this.calendarInfo()),this.createLayout(this._layout()),this._content(),this.refreshLayout(),this.content.on("click"+e,".k-nav-day,.k-more-events",function(b){var c=a(b.currentTarget).offset(),e=d._slotByPosition(c.left,c.top);b.preventDefault(),d.trigger("navigate",{view:"day",date:e.startDate()})})},_editable:function(){this.options.editable&&!this._isMobilePhoneView()&&(this._isMobile()?this._touchEditable():this._mouseEditable())},_mouseEditable:function(){var c=this;c.element.on("click"+e,".k-scheduler-monthview .k-event a:has(.k-si-close)",function(d){c.trigger("remove",{uid:a(this).closest(".k-event").attr(b.attr("uid"))}),d.preventDefault()}),c.options.editable.create!==!1&&c.element.on("dblclick"+e,".k-scheduler-monthview .k-scheduler-content td",function(b){var d=a(b.currentTarget).offset(),e=c._slotByPosition(d.left,d.top);if(e){var g=c._resourceBySlot(e);c.trigger("add",{eventInfo:f({isAllDay:!0,start:e.startDate(),end:e.startDate()},g)})}b.preventDefault()}),c.options.editable.update!==!1&&c.element.on("dblclick"+e,".k-scheduler-monthview .k-event",function(d){c.trigger("edit",{uid:a(this).closest(".k-event").attr(b.attr("uid"))}),d.preventDefault()})},_touchEditable:function(){var c=this;c.options.editable.create!==!1&&(c._addUserEvents=new b.UserEvents(c.element,{filter:".k-scheduler-monthview .k-scheduler-content td",tap:function(b){var d=a(b.target).offset(),e=c._slotByPosition(d.left,d.top);if(e){var g=c._resourceBySlot(e);c.trigger("add",{eventInfo:f({isAllDay:!0,start:e.startDate(),end:e.startDate()},g)})}b.preventDefault()}})),c.options.editable.update!==!1&&(c._editUserEvents=new b.UserEvents(c.element,{filter:".k-scheduler-monthview .k-event",tap:function(d){0===a(d.event.target).closest("a:has(.k-si-close)").length&&(c.trigger("edit",{uid:a(d.target).closest(".k-event").attr(b.attr("uid"))}),d.preventDefault())}}))},selectionByElement:function(b){var c=a(b).offset();return this._slotByPosition(c.left,c.top)},_columnCountForLevel:function(a){var b=this.columnLevels[a];return b?b.length:0},_rowCountForLevel:function(a){var b=this.rowLevels[a];return b?b.length:0},_content:function(){var a="<tbody>",b=1,c=this.groupedResources;c.length&&this._isVerticallyGrouped()&&(b=this._rowCountForLevel(c.length-1));for(var d=0;b>d;d++)a+=this._createCalendar();a+="</tbody>",this.content.find("table").html(a)},_createCalendar:function(){var a=this.startDate(),c=k*j,d=k,e=[a],f="",g=1,h=this.groupedResources;h.length&&(this._isVerticallyGrouped()||(g=this._columnCountForLevel(h.length-1))),this._slotIndices={};for(var i=0;c/d>i;i++){f+="<tr>",e.push(a);for(var l=i*d,m=0;g>m;m++)f+=this._createRow(a,l,d);a=b.date.addDays(a,d),f+="</tr>"}return this._weekStartDates=e,this._endDate=b.date.previousDay(a),f},_createRow:function(a,c,d){for(var e=this._firstDayOfMonth,f=this._lastDayOfMonth,g=this.dayTemplate,i="",j="",k=0;d>k;k++)i="",b.date.isToday(a)&&(i+="k-today"),b.date.isInDateRange(a,e,f)||(i+=" k-other-month"),j+="<td ",""!==i&&(j+='class="'+i+'"'),j+=">",j+=g({date:a}),j+="</td>",this._slotIndices[h(a).getTime()]=c+k,a=b.date.nextDay(a);return j},_layout:function(){var g,b=this.calendarInfo(),c=this._isMobile()?b.days.namesShort:b.days.names,d=p(c,b.firstDay),e=a.map(d,function(a){return{text:a}}),f=this.groupedResources;if(f.length)if(this._isVerticallyGrouped()){for(var h=[],i=0;6>i;i++)h.push({text:"<div>&nbsp;</div>",className:"k-hidden k-slot-cell"});g=this._createRowsLayout(f,h)}else e=this._createColumnsLayout(f,e);return{columns:e,rows:g}},_eventTmpl:function(a){var c=this.options,d=f({},b.Template,c.templateSettings),e=d.paramName,h="",i=typeof a,j={storage:{},count:0};"function"===i?(j.storage["tmpl"+j.count]=a,h+="#=this.tmpl"+j.count+"("+e+")#",j.count++):"string"===i&&(h+=a);var k=b.template(b.format(m,h),d);return j.count>0&&(k=g(k,j.storage)),k},_createEventElement:function(c){var d=this.options,e=d.editable,f=this._isMobile();return c.showDelete=e&&e.destroy!==!1&&!f,c.resizable=e&&e.resize!==!1&&!f,c.ns=b.ns,c.resources=this.eventResources(c),c.inverseColor=c.resources&&c.resources[0]?this._shouldInverseResourceColor(c.resources[0]):!1,a(this.eventTemplate(c))},_isInDateSlot:function(a){var b=this.startDate(),c=new Date(this.endDate().getTime()+i-1);return(r(a.start,b,c)||r(a.end,b,c)||r(b,a.start,a.end)||r(c,a.start,a.end))&&(!r(a.end,b,b)||r(a.end,a.start,a.start)||a.isAllDay)},_slotIndex:function(a){return this._slotIndices[h(a).getTime()]},_positionMobileEvent:function(c,e,f){var g=c.start;c.start.offsetLeft>c.end.offsetLeft&&(g=c.end);var h=c.start.index,i=h,j=3,k=d.collidingEvents(c.events(),h,i);k.push({element:e,start:h,end:i});var l=d.createRows(k),m=c.collection.at(h),n=m.container;n||(n=a(b.format('<div class="k-events-container" style="top:{0};left:{1};width:{2}"/>',g.offsetTop+g.firstChildTop+g.firstChildHeight-3+"px",g.offsetLeft+"px",g.offsetWidth+"px")),m.container=n,this.content[0].appendChild(n[0])),l.length<=j&&(c.addEvent({element:e,start:h,end:i,groupIndex:g.groupIndex}),f._continuousEvents.push({element:e,uid:e.attr(b.attr("uid")),start:c.start,end:c.end}),n[0].appendChild(e[0]))},_positionEvent:function(c,e,f){var g=this.options.eventHeight,h=c.start;c.start.offsetLeft>c.end.offsetLeft&&(h=c.end);var i=c.start.index,j=c.end.index,k=h.eventCount,l=d.collidingEvents(c.events(),i,j),m=i!==j?5:4;l.push({element:e,start:i,end:j});for(var n=d.createRows(l),p=0,q=Math.min(n.length,k);q>p;p++)for(var r=n[p].events,s=h.offsetTop+h.firstChildHeight+p*g+3*p+"px",t=0,u=r.length;u>t;t++)r[t].element[0].style.top=s;if(n.length>k)for(var v=i;j>=v;v++){var w=c.collection,x=w.at(v);if(x.more)return;x.more=a(o({ns:b.ns,start:v,end:v,width:x.clientWidth-2,left:this._scrollbarOffset(x.offsetLeft+2),top:x.offsetTop+x.firstChildHeight+k*g+3*k})),this.content[0].appendChild(x.more[0])}else c.addEvent({element:e,start:i,end:j,groupIndex:h.groupIndex}),e[0].style.width=c.innerWidth()-m+"px",e[0].style.left=this._scrollbarOffset(h.offsetLeft+2)+"px",e[0].style.height=g+"px",f._continuousEvents.push({element:e,uid:e.attr(b.attr("uid")),start:c.start,end:c.end}),this.content[0].appendChild(e[0])},_slotByPosition:function(a,b){var c=this.content.offset();a-=c.left,b-=c.top,b+=this.content[0].scrollTop,a+=this.content[0].scrollLeft,a=Math.ceil(a),b=Math.ceil(b);for(var d=0;d<this.groups.length;d++){var e=this.groups[d].daySlotByPosition(a,b);if(e)return e}return null},_createResizeHint:function(a){var b=a.startSlot().offsetLeft;b=this._scrollbarOffset(b);var c=a.start.offsetTop,e=a.innerWidth(),f=a.start.clientHeight-2,g=d.fn._createResizeHint.call(this,b,c,e,f);g.appendTo(this.content),this._resizeHint=this._resizeHint.add(g)},_updateResizeHint:function(a,c,d,e){this._removeResizeHint();for(var f=this.groups[c],g=f.ranges(d,e,!0,a.isAllDay),h=0;h<g.length;h++)this._createResizeHint(g[h]);this._resizeHint.find(".k-label-top,.k-label-bottom").text(""),this._resizeHint.first().addClass("k-first").find(".k-label-top").text(b.toString(b.timezone.toLocalDate(d),"M/dd")),this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(b.toString(b.timezone.toLocalDate(e),"M/dd"))},_updateMoveHint:function(a,c,d){var e=b.date.toUtcTime(a.start)+d,f=e+a.duration(),g=this.groups[c],h=g.ranges(e,f,!0,a.isAllDay);this._removeMoveHint();for(var i=0;i<h.length;i++){var j=h[i],k=j.startSlot(),l=j.endSlot(),m=this._createEventElement(a.clone({head:j.head,tail:j.tail}));m.css({left:k.offsetLeft+2,top:k.offsetTop+k.firstChildHeight,height:this.options.eventHeight,width:j.innerWidth()-(k.index!==l.index?5:4)}),m.addClass("k-event-drag-hint"),m.appendTo(this.content),this._moveHint=this._moveHint.add(m)}},_groups:function(){var a=this._groupCount(),c=k,d=j;this.groups=[];for(var e=0;a>e;e++)this._addResourceView(e);for(var f=this.content[0].getElementsByTagName("tr"),g=0;a>g;g++){var h=0,i=0;this._isVerticallyGrouped()&&(i=g);for(var l=i*d;(i+1)*d>l;l++){var m=this.groups[g],n=m.addDaySlotCollection(b.date.addDays(this.startDate(),h),b.date.addDays(this.startDate(),h+c)),o=f[l],p=o.children,q=0;o.setAttribute("role","row"),this._isVerticallyGrouped()||(q=g);for(var r=q*c;(q+1)*c>r;r++){var s=p[r],t=s.clientHeight,u=s.firstChild.offsetHeight+3,v=b.date.toUtcTime(b.date.addDays(this.startDate(),h));h++;var w=Math.floor((t-u)/(this.options.eventHeight+3))-1;s.setAttribute("role","gridcell"),s.setAttribute("aria-selected",!1),n.addDaySlot(s,v,v+b.date.MS_PER_DAY,w)}}}},render:function(a){this.content.children(".k-event,.k-more-events,.k-events-container").remove(),this._groups(),a=new b.data.Query(a).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var c=this.groupedResources;c.length?this._renderGroups(a,c,0,1):this._renderEvents(a,0),this.refreshLayout(),this.trigger("activate")},_renderEvents:function(a,b){var c,d,e,f=this._isMobilePhoneView();for(d=0,e=a.length;e>d;d++)if(c=a[d],this._isInDateSlot(c)){var g=this.groups[b];g._continuousEvents||(g._continuousEvents=[]);for(var h=g.slotRanges(c,!0),i=h.length,j=0;i>j;j++){var k=h[j],l=c.start,m=c.end;i>1&&(0===j?m=k.end.endDate():j==i-1?l=k.start.startDate():(l=k.start.startDate(),m=k.end.endDate()));var n=c.clone({start:l,end:m,head:k.head,tail:k.tail});f?this._positionMobileEvent(k,this._createEventElement(n),g):this._positionEvent(k,this._createEventElement(n),g)}}},_renderGroups:function(a,c,e,f){var g=c[0];if(g)for(var h=g.dataSource.view(),i=0;i<h.length;i++){var j=this._resourceValue(g,h[i]),k=new b.data.Query(a).filter({field:g.field,operator:d.groupEqFilter(j)}).toArray();c.length>1?e=this._renderGroups(k,c.slice(1),e++,f+1):this._renderEvents(k,e++)}return e},_groupCount:function(){var a=this.groupedResources;return a.length?this._isVerticallyGrouped()?this._rowCountForLevel(a.length-1):this._columnCountForLevel(a.length)/this._columnOffsetForResource(a.length):1},_columnOffsetForResource:function(a){return this._columnCountForLevel(a)/this._columnCountForLevel(a-1)},destroy:function(){this.table&&this.table.removeClass("k-scheduler-monthview"),this.content&&this.content.off(e),this.element&&this.element.off(e),d.fn.destroy.call(this),this._isMobile()&&!this._isMobilePhoneView()&&(this.options.editable.create!==!1&&this._addUserEvents.destroy(),this.options.editable.update!==!1&&this._editUserEvents.destroy())},events:["remove","add","edit","navigate"],options:{title:"Month",name:"month",eventHeight:25,editable:!0,selectedDateFormat:"{0:y}",dayTemplate:l,eventTemplate:n}})}(window.kendo.jQuery),kendo_module({id:"scheduler.recurrence",name:"Recurrence",category:"web",depends:["dropdownlist","datepicker","numerictextbox"],hidden:!0}),function(a,b){function F(a,b){return 0!==a&&b>a?a=b-a:a%=b,a}function G(a){var b=a.getMonth(),c=T(a)?o[b]:p[b];return c+a.getDate()}function H(a,c){var d,e;return a=new Date(a.getFullYear(),a.getMonth(),a.getDate()),l(a,0),d=a.getFullYear(),c!==b?(k(a,c,-1),a.setDate(a.getDate()+4)):a.setDate(a.getDate()+(4-(a.getDay()||7))),l(a,0),e=Math.floor((a.getTime()-new Date(d,0,1,-6))/864e5),1+Math.floor(e/7)}function I(a,b){var c=m(a).getDay(),d=Math.abs(7-(c+7-(b||7)))||7;return Math.ceil((a.getDate()-d)/7)+1}function J(a,b,c){return 0>b&&(b=K(a,c)+(b+1)),b}function K(a,b){return I(new Date(a.getFullYear(),a.getMonth()+1,0),b)}function L(a,b,c){var d=b.offset,e=I(a,c);return M(a,b,c)||(e-=1),e===J(a,d,c)}function M(a,b,c){var f,g,d=b.day,e=b.offset;return e?(f=m(a).getDay(),c>f&&(f+=c),c>d&&(d+=c),g=d>=f,!g&&0>e&&1!==J(a,e,c)&&(g=!0),g):!0}function N(a,b,c){var f,g,h,i,d=b.getDay(),e=a.length,j=[],k=0;for(c>d&&(d+=7);e>k;k++)if(f=a[k],h=f.offset,g=f.day,c>g&&(g+=7),i=I(b,c),M(b,f,c)||(i-=1),h=h?J(b,h,c):i,h>i)j.push(f);else if(i===h)if(g>d)j.push(f);else if(d===g)return null;return j}function O(a,b,c){for(var g,d=0,e=a.length,f=[];e>d;d++){if(g=a[d],c&&(g=c(g)),b===g)return null;g>b&&f.push(g)}return f}function P(a,b){for(var e,c=0,d=a.length;d>c;c++){if(e=parseInt(a[c],10),isNaN(e)||e<b.start||e>b.end||0===e&&b.start<0)return null;a[c]=e}return a.sort(U)}function Q(a){for(var e,f,g,c=0,d=a.length;d>c;c++){if(e=a[c],f=e.length,g=e.substring(f-2).toUpperCase(),g=s[g],g===b)return null;a[c]={offset:parseInt(e.substring(0,f-2),10)||0,day:g}}return a}function R(a){for(var d,e,b=0,c=a.length,f=[];c>b;b++)d=a[b],"string"==typeof d?e=d:(e=""+r[d.day],d.offset&&(e=d.offset+e)),f.push(e);return f.toString()}function S(a){var b=a.getMonth();return 1===b?1===new Date(a.getFullYear(),1,29).getMonth()?29:28:q[b]}function T(a){return a=a.getFullYear(),0===a%4&&0!==a%100||0===a%400}function U(a,b){return a-b}function V(a,b){var d,e,c=0,f=[];if(a)for(a=a.split(";"),d=a.length;d>c;c++)e=_(a[c],b),e&&f.push(e);return f}function W(b,c,d){for(var e=a.isArray(b)?b:V(b,d),f=c.getTime()-c.getMilliseconds(),g=0,h=e.length;h>g;g++)if(e[g].getTime()===f)return!0;return!1}function X(a,b){var c=new Date(a);switch(b.freq){case"yearly":c.setFullYear(c.getFullYear(),0,1);break;case"monthly":c.setFullYear(c.getFullYear(),c.getMonth(),1);break;case"weekly":k(c,b.weekStart,-1)}return b.hours&&c.setHours(0),b.minutes&&c.setMinutes(0),b.seconds&&c.setSeconds(0),c}function Y(a,b){var c=new Date(a);switch(b.freq){case"yearly":c.setFullYear(c.getFullYear(),11,31);break;case"monthly":c.setFullYear(c.getFullYear(),c.getMonth()+1,0);break;case"weekly":k(c,b.weekStart,-1),c.setDate(c.getDate()+6)}return b.hours&&c.setHours(23),b.minutes&&c.setMinutes(59),b.seconds&&c.setSeconds(59),c}function Z(a,b,c){for(var h,i,d=a.slice(c._startIdx),e=d.length,f=c.positions,g=[],j=0,k=f.length;k>j;j++)h=f[j],0>h?h=e+h:h-=1,i=d[h],i&&i.start>=b&&g.push(i);return a=a.slice(0,c._startIdx).concat(g),c._startIdx=a.length,a}function $(a,d,e,f){var h,i,k,l,m,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,E,g=bb(a.recurrenceRule),F=[];if(!g)return[a];for(C=g.positions,E=C?0:1,s=g.start,t=g.end,(s||t)&&(a=a.clone({start:s?new Date(s.value):b,end:t?new Date(t.value):b})),z=a.start,y=z.getTime(),x=n(z),w=V(a.recurrenceException,f),q=d=new Date(d),e=new Date(e),v=g.freq,B=D[v],A=g.count,g.until&&g.until<e&&(e=new Date(g.until)),u="yearly"===v||"monthly"===v||"weekly"===v,y>d||A||g.interval>1||u?d=new Date(y):(l=d.getHours(),m=d.getMinutes(),o=d.getSeconds(),g.hours||(l=z.getHours()),g.minutes||(m=z.getMinutes()),g.seconds||(o=z.getSeconds()),d.setHours(l,m,o,z.getMilliseconds())),g._startPeriod=new Date(d),C&&(d=X(d,g),e=Y(e,g),g._startPeriod=new Date(d),g._endPeriod=Y(d,g),g._startIdx=0),p=a.duration(),g._startTime=h=c.date.toInvariantTime(d),B.setup&&B.setup(g,z,d),B.limit(d,e,g);e>=d;)if(k=new Date(d),j(k,p),r=d>=q||k>q,(r&&!W(w,d,f)||C)&&(i=new Date(g._startTime),j(i,p),y!==d.getTime()||x!==n(h)?F.push(a.toOccurrence({start:new Date(d),startTime:new Date(h),end:k,endTime:i})):(a.startTime=h,a.endTime=i,F.push(a))),C){if(B.next(d,g),B.limit(d,e,g),d>g._endPeriod&&(F=Z(F,z,g),g._endPeriod=Y(d,g),E=F.length),A&&A===E)break}else{if(A&&A===E)break;E++,B.next(d,g),B.limit(d,e,g)}return F}function _(a,b){return a=c.parseDate(a,t),a&&b&&(a=d.convert(a,a.getTimezoneOffset(),b)),a
}function ab(a,b){for(var d,e,f,g,c=a.split(";"),h=0,i=c.length;i>h;h++)d=c[h].split(":"),e=d[0],f=d[1],-1!==e.indexOf("TZID")&&(g=e.substring(e.indexOf("TZID")).split("=")[1]),f&&(f=_(f,g||b));return f?{value:f,tzid:g}:void 0}function bb(d,e){var h,i,j,k,l,m,o,p,q,f={},g=0,n=!1,r=function(a,b){var c=a.day,d=b.day;return l>c&&(c+=7),l>d&&(d+=7),c-d};if(!d)return null;for(q=d.split("\n"),q[1]||-1===d.indexOf("DTSTART")&&-1===d.indexOf("DTEND")||(q=d.split(" ")),g=0,h=q.length;h>g;g++)p=q[g],-1!==p.indexOf("DTSTART")?f.start=ab(p,e):-1!==p.indexOf("DTEND")?f.end=ab(p,e):o=-1!==p.indexOf("RRULE")?p.substring(6):p;for(o=o.split(";"),g=0,h=o.length;h>g;g++)switch(k=o[g],i=k.split("="),j=a.trim(i[1]).split(","),a.trim(i[0]).toUpperCase()){case"FREQ":f.freq=j[0].toLowerCase();break;case"UNTIL":f.until=_(j[0],e);break;case"COUNT":f.count=parseInt(j[0],10);break;case"INTERVAL":f.interval=parseInt(j[0],10);break;case"BYSECOND":f.seconds=P(j,{start:0,end:60}),n=!0;break;case"BYMINUTE":f.minutes=P(j,{start:0,end:59}),n=!0;break;case"BYHOUR":f.hours=P(j,{start:0,end:23}),n=!0;break;case"BYMONTHDAY":f.monthDays=P(j,{start:-31,end:31}),n=!0;break;case"BYYEARDAY":f.yearDays=P(j,{start:-366,end:366}),n=!0;break;case"BYMONTH":f.months=P(j,{start:1,end:12}),n=!0;break;case"BYDAY":f.weekDays=m=Q(j),n=!0;break;case"BYWEEKNO":f.weeks=P(j,{start:-53,end:53}),n=!0;break;case"BYSETPOS":f.positions=P(j,{start:-366,end:366});break;case"WKST":f.weekStart=l=s[j[0]]}return f.freq===b||f.count!==b&&f.until?null:(f.interval||(f.interval=1),l===b&&(f.weekStart=l=c.culture().calendar.firstDay),m&&(f.weekDays=m.sort(r)),f.positions&&!n&&(f.positions=null),f._hasRuleValue=n,f)}function cb(a,b){var e=a.value,f=a.tzid||"";return e=d.convert(e,f||b||e.getTimezoneOffset(),"Etc/UTC"),f&&(f=";TZID="+f),f+":"+c.toString(e,"yyyyMMddTHHmmssZ")+" "}function db(a,e){var f=a.weekStart,g="FREQ="+a.freq.toUpperCase(),h=a.until,i=a.start||"",j=a.end||"";return a.interval>1&&(g+=";INTERVAL="+a.interval),a.count&&(g+=";COUNT="+a.count),h&&(h=d.convert(h,e||h.getTimezoneOffset(),"Etc/UTC"),g+=";UNTIL="+c.toString(h,"yyyyMMddTHHmmssZ")),a.months&&(g+=";BYMONTH="+a.months),a.weeks&&(g+=";BYWEEKNO="+a.weeks),a.yearDays&&(g+=";BYYEARDAY="+a.yearDays),a.monthDays&&(g+=";BYMONTHDAY="+a.monthDays),a.weekDays&&(g+=";BYDAY="+R(a.weekDays)),a.hours&&(g+=";BYHOUR="+a.hours),a.minutes&&(g+=";BYMINUTE="+a.minutes),a.seconds&&(g+=";BYSECOND="+a.seconds),a.positions&&(g+=";BYSETPOS="+a.positions),f!==b&&(g+=";WKST="+r[f]),i&&(i="DTSTART"+cb(i,e)),j&&(j="DTEND"+cb(j,e)),(i||j)&&(g=i+j+"RRULE:"+g),g}var c=window.kendo,d=c.timezone,e=c.Class,f=c.ui,g=f.Widget,h=f.DropDownList,i=c.date,j=i.setTime,k=i.setDayOfWeek,l=i.adjustDST,m=i.firstDayOfMonth,n=i.getMilliseconds,o=[0,31,60,91,121,152,182,213,244,274,305,335,366],p=[0,31,59,90,120,151,181,212,243,273,304,334,365],q=[31,28,30,31,30,31,30,31,30,31,30,31],r={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},s={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},t=["yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-ddTHH","yyyy-MM-dd","yyyyMMddTHHmmssfffzzz","yyyyMMddTHHmmsszzz","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"],u=["months","weeks","yearDays","monthDays","weekDays","hours","minutes","seconds"],v=u.length,w={months:function(a,b,c){var d=c.months,e=O(d,a.getMonth()+1),f=!1;return null!==e&&(e.length?a.setMonth(e[0]-1,1):a.setFullYear(a.getFullYear()+1,d[0]-1,1),f=!0),f},monthDays:function(a,b,c){for(var d,e,f,g=!1,h=a.getHours(),i=function(a){return 0>a&&(a=d+a),a};b>=a;){if(e=a.getMonth(),d=S(a),f=O(c.monthDays,a.getDate(),i),null===f)return g;if(g=!0,f.length){if(a.setMonth(e,f.sort(U)[0]),l(a,h),e===a.getMonth())break}else a.setMonth(e+1,1)}return g},yearDays:function(a,b,c){for(var d,e,f=!1,g=a.getHours(),h=function(a){return 0>a&&(a=d+a),a};b>a;){if(d=T(a)?366:365,e=O(c.yearDays,G(a),h),null===e)return f;if(f=!0,d=a.getFullYear(),e.length){a.setFullYear(d,0,e.sort(U)[0]),l(a,g);break}a.setFullYear(d+1,0,1)}return f},weeks:function(a,b,c){for(var e,f,g,d=c.weekStart,h=!1,i=a.getHours(),j=function(a){return 0>a&&(a=53+a),a};b>a;){if(f=O(c.weeks,H(a,d),j),null===f)return h;if(h=!0,e=a.getFullYear(),f.length){g=7*f.sort(U)[0]-1,a.setFullYear(e,0,g),k(a,d,-1),l(a,i);break}a.setFullYear(e+1,0,1)}return h},weekDays:function(a,b,c){var h,i,d=c.weekDays,e=c.weekStart,f=N(d,a,e),g=a.getHours();if(null===f)return!1;if(h=f[0],h||(h=d[0],k(a,e)),i=h.day,h.offset)for(;b>=a&&!L(a,h,e);)I(a,e)===K(a,e)?(a.setMonth(a.getMonth()+1,1),l(a,g)):(a.setDate(a.getDate()+7),l(a,g),k(a,e,-1));return a.getDay()!==i&&k(a,i),!0},hours:function(a,b,c){var d=c.hours,e=c._startTime,f=e.getHours(),g=O(d,f),h=!1;return null!==g&&(h=!0,a.setHours(f),l(a,f),g.length?(g=g[0],a.setHours(g)):(g=a.getHours(),a.setDate(a.getDate()+1),l(a,g),g=d[0],a.setHours(g),l(a,g)),c.minutes&&a.setMinutes(0),e.setHours(g,a.getMinutes())),h},minutes:function(a,b,c){var d=c.minutes,e=a.getMinutes(),f=O(d,e),g=c._startTime.getHours(),h=!1;return null!==f&&(h=!0,f.length?f=f[0]:(g+=1,f=d[0]),c.seconds&&a.setSeconds(0),a.setHours(g,f),g%=24,l(a,g),c._startTime.setHours(g,f,a.getSeconds())),h},seconds:function(a,b,c){var d=c.seconds,e=c._startTime.getHours(),f=O(d,a.getSeconds()),g=a.getMinutes(),h=!1;return null!==f&&(h=!0,f.length?a.setSeconds(f[0]):(g+=1,a.setMinutes(g,d[0]),g>59&&(g%=60,e=(e+1)%24)),c._startTime.setHours(e,g,a.getSeconds())),h}},x=e.extend({next:function(a,b){var e,f,c=b._startTime,d=c.getDate();if(b.seconds)f=a.getSeconds()+1,a.setSeconds(f),c.setSeconds(f),c.setDate(d);else{if(!b.minutes)return!1;e=a.getMinutes()+1,a.setMinutes(e),c.setMinutes(e),c.setDate(d)}return!0},normalize:function(a){var b=a.rule;4===a.idx&&b.hours&&(b._startTime.setHours(0),this._hour(a.date,b))},limit:function(a,c,d){for(var f,g,h,i,j,e=d.interval;c>=a;){for(h=g=b,j=a.getDate(),i=0;v>i;i++){if(f=u[i],d[f]){if(h=w[f](a,c,d),g!==b&&h)break;g=h}h&&this.normalize({date:a,rule:d,day:j,idx:i})}if((1===e||!this.interval(d,a))&&i===v)break}},interval:function(a,b){var n,d=new Date(a._startPeriod),e=b.getHours(),f=a.weekStart,g=a.interval,h=a.freq,i=!1,j=0,k=0,m=1;return"hourly"===h?(n=Math.floor((b-d)/(60*c.date.MS_PER_MINUTE)),j=F(n,g),0!==j&&(this._hour(b,a,j),i=!0)):"daily"===h?(n=Math.floor((b-d)/c.date.MS_PER_DAY),j=F(n,g),0!==j&&(this._date(b,a,j),i=!0)):"weekly"===h?(n=52*(b.getFullYear()-d.getFullYear()),j=H(b,f)-H(d,f)+n,j=F(j,g),0!==j&&(c.date.setDayOfWeek(b,a.weekStart,-1),b.setDate(b.getDate()+7*j),l(b,e),i=!0)):"monthly"===h?(n=b.getFullYear()-d.getFullYear(),n=b.getMonth()-d.getMonth()+12*n,j=F(n,g),0!==j&&(m=a._hasRuleValue?1:b.getDate(),b.setFullYear(b.getFullYear(),b.getMonth()+j,m),l(b,e),i=!0)):"yearly"===h&&(n=b.getFullYear()-d.getFullYear(),j=F(n,g),a.months||(k=b.getMonth()),a.yearDays||a.monthDays||a.weekDays||(m=b.getDate()),0!==j&&(b.setFullYear(b.getFullYear()+j,k,m),l(b,e),i=!0)),i},_hour:function(a,b,c){var d=b._startTime,e=d.getHours();c&&(e+=c),a.setHours(e),e%=24,d.setHours(e),l(a,e)},_date:function(a,b,c){var d=a.getHours();a.setDate(a.getDate()+c),l(a,d)||this._hour(a,b)}}),y=x.extend({next:function(a,b){x.fn.next(a,b)||this._hour(a,b,1)},normalize:function(a){var b=a.rule;4===a.idx&&(b._startTime.setHours(0),this._hour(a.date,b))}}),z=x.extend({next:function(a,b){x.fn.next(a,b)||this[b.hours?"_hour":"_date"](a,b,1)}}),A=z.extend({setup:function(a,b){a.weekDays||(a.weekDays=[{day:b.getDay(),offset:0}])}}),B=x.extend({next:function(a,b){var c,d;if(!x.fn.next(a,b))if(b.hours)this._hour(a,b,1);else if(b.monthDays||b.weekDays||b.yearDays||b.weeks)this._date(a,b,1);else{for(c=a.getDate(),d=a.getHours(),a.setMonth(a.getMonth()+1),l(a,d);a.getDate()!==c;)a.setDate(c),l(a,d);this._hour(a,b)}},normalize:function(a){var b=a.rule,c=a.date,d=c.getHours();0!==a.idx||b.monthDays||b.weekDays?x.fn.normalize(a):(c.setDate(a.day),l(c,d))},setup:function(a,b,c){a.monthDays||a.weekDays||c.setDate(b.getDate())}}),C=B.extend({next:function(a,b){var c,d=a.getHours();if(!x.fn.next(a,b))if(b.hours)this._hour(a,b,1);else if(b.monthDays||b.weekDays||b.yearDays||b.weeks)this._date(a,b,1);else if(b.months){for(c=a.getDate(),a.setMonth(a.getMonth()+1),l(a,d);a.getDate()!==c;)a.setDate(c),l(a,d);this._hour(a,b)}else a.setFullYear(a.getFullYear()+1),l(a,d),this._hour(a,b)},setup:function(){}}),D={hourly:new y,daily:new z,weekly:new A,monthly:new B,yearly:new C},E="click";c.recurrence={rule:{parse:bb,serialize:db},expand:$,dayInYear:G,weekInYear:H,weekInMonth:I,numberOfWeeks:K,isException:W};var eb=function(a){for(var b=c.culture().calendar.days.namesShort,d=b.length,e="",f=0,g=[];d>f;f++)g.push(f);for(b=b.slice(a).concat(b.slice(0,a)),g=g.slice(a).concat(g.slice(0,a)),f=0;d>f;f++)e+='<label class="k-check"><input class="k-recur-weekday-checkbox" type="checkbox" value="'+g[f]+'" /> '+b[f]+"</label>";return e},fb=c.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-month-radio" type="radio" name="month" value="monthday" />#:messages.day#</label><input class="k-recur-monthday" /></li><li><input class="k-recur-month-radio" type="radio" name="month" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" /></li></ul></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><input class="k-recur-year-radio" type="radio" name="year" value="monthday" /><input class="k-recur-month" /><input class="k-recur-monthday" /></li><li><input class="k-recur-year-radio" type="radio" name="year" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" />#:messages.of#<input class="k-recur-month" /></li></ul></div># } ## if (frequency !== "never") { #<div class="k-edit-label"><label>#:end.label#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-end-never" type="radio" name="end" value="never" />#:end.never#</label></li><li><label><input class="k-recur-end-count" type="radio" name="end" value="count" />#:end.after#</label><input class="k-recur-count" />#:end.occurrence#</li><li><label><input class="k-recur-end-until" type="radio" name="end" value="until" />#:end.on#</label><input class="k-recur-until" /></li></ul></div># } #'),gb=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}],hb=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}],ib=[{day:0,offset:0},{day:6,offset:0}],jb=g.extend({init:function(a,b){var d,e=this,f=b&&b.frequencies;g.fn.init.call(e,a,b),e.wrapper=e.element,b=e.options,b.start=d=b.start||i.today(),f&&(b.frequencies=f),"string"==typeof d&&(b.start=c.parseDate(d,"yyyyMMddTHHmmss")),null===b.firstWeekDay&&(b.firstWeekDay=c.culture().calendar.firstDay),e._namespace="."+b.name},options:{value:"",start:"",timezone:"",spinners:!0,firstWeekDay:null,frequencies:["never","daily","weekly","monthly","yearly"],mobile:!1,messages:{frequencies:{never:"Never",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"},daily:{repeatEvery:"Repeat every: ",interval:" day(s)"},weekly:{interval:" week(s)",repeatEvery:"Repeat every: ",repeatOn:"Repeat on: "},monthly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" month(s)",day:"Day "},yearly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" year(s)",of:" of "},end:{label:"End:",never:"Never",after:"After ",occurrence:" occurrence(s)",on:"On "},offsetPositions:{first:"first",second:"second",third:"third",fourth:"fourth",last:"last"},weekdays:{day:"day",weekday:"weekday",weekend:"weekend day"}}},events:["change"],_initInterval:function(){var a=this,b=a._value;a._container.find(".k-recur-interval").kendoNumericTextBox({spinners:a.options.spinners,value:b.interval||1,decimals:0,format:"#",min:1,change:function(){b.interval=this.value(),a._trigger()}})},_weekDayRule:function(a){var b=this,c=b._weekDay.value(),d=Number(b._weekDayOffset.value()),e=null,f=null;a||("day"===c?(e=gb,f=d):"weekday"===c?(e=hb,f=d):"weekend"===c?(e=ib,f=d):e=[{offset:d,day:Number(c)}]),b._value.weekDays=e,b._value.positions=f},_weekDayView:function(){var e,f,g,h,a=this,b=a._value.weekDays,c=a._value.positions,d=a._weekDayOffset;b&&(g=b.length,c&&(7===g?(f="day",e=c):5===g?(f="weekday",e=c):2===g&&(f="weekend",e=c)),f||(b=b[0],f=b.day,e=b.offset||""),h=d.value?"value":"val",d[h](e),a._weekDay[h](f))},_initWeekDay:function(){var d,b=this,e=b.options.messages.weekdays,f=b.options.messages.offsetPositions,g=b._container.find(".k-recur-weekday"),i=function(){b._weekDayRule(),b._trigger()};g[0]&&(b._weekDayOffset=new h(b._container.find(".k-recur-weekday-offset"),{change:i,dataTextField:"text",dataValueField:"value",dataSource:[{text:f.first,value:"1"},{text:f.second,value:"2"},{text:f.third,value:"3"},{text:f.fourth,value:"4"},{text:f.last,value:"-1"}]}),d=[{text:e.day,value:"day"},{text:e.weekday,value:"weekday"},{text:e.weekend,value:"weekend"}],b._weekDay=new h(g,{value:b.options.start.getDay(),change:i,dataTextField:"text",dataValueField:"value",dataSource:d.concat(a.map(c.culture().calendar.days.names,function(a,b){return{text:a,value:b}}))}),b._weekDayView())},_initWeekDays:function(){var b=this,c=b._value,d=b._container.find(".k-recur-weekday-checkbox");if(d[0]&&(d.on(E+b._namespace,function(){c.weekDays=a.map(d.filter(":checked"),function(a){return{day:Number(a.value),offset:0}}),b.options.mobile||b._trigger()}),c.weekDays))for(var e,f,g=0,h=d.length,i=c.weekDays.length;h>g;g++)for(f=d[g],e=0;i>e;e++)f.value==c.weekDays[e].day&&(f.checked=!0)},_initMonthDay:function(){var a=this,b=a._value,d=a._container.find(".k-recur-monthday");d[0]&&(a._monthDay=new c.ui.NumericTextBox(d,{spinners:a.options.spinners,min:1,max:31,decimals:0,format:"#",value:b.monthDays?b.monthDays[0]:a.options.start.getDate(),change:function(){var c=this.value();b.monthDays=c?[c]:c,a._trigger()}}))},_initCount:function(){var a=this,b=a._container.find(".k-recur-count"),c=a._value;a._count=b.kendoNumericTextBox({spinners:a.options.spinners,value:c.count||1,decimals:0,format:"#",min:1,change:function(){c.count=this.value(),a._trigger()}}).data("kendoNumericTextBox")},_initUntil:function(){var a=this,b=a._container.find(".k-recur-until"),c=a.options.start,d=a._value,e=d.until;a._until=b.kendoDatePicker({min:e&&c>e?e:c,value:e||c,change:function(){d.until=this.value(),a._trigger()}}).data("kendoDatePicker")},_trigger:function(){this.options.mobile||this.trigger("change")}}),kb=jb.extend({init:function(a,b){var c=this;jb.fn.init.call(c,a,b),c._initFrequency(),c._initContainer(),c.value(c.options.value)},options:{name:"RecurrenceEditor"},events:["change"],destroy:function(){var a=this;a._frequency.destroy(),a._container.find("input[type=radio],input[type=checkbox]").off(E+a._namespace),c.destroy(a._container),g.fn.destroy.call(a)},value:function(a){var c=this,d=c.options.timezone;return a===b?c._value.freq?db(c._value,d):"":(c._value=bb(a,d)||{},c._frequency.value(c._value.freq||""),c._initView(c._frequency.value()),void 0)},_initContainer:function(){var b=this.element,c=a('<div class="k-recur-view" />'),d=b.parent(".k-edit-field");d[0]?c.insertAfter(d):b.append(c),this._container=c},_initFrequency:function(){var g,b=this,c=b.options,d=c.frequencies,e=c.messages.frequencies,f=a("<input />");d=a.map(d,function(a){return{text:e[a],value:a}}),g=d[0],g&&"never"===g.value&&(g.value=""),b.element.append(f),b._frequency=new h(f,{dataTextField:"text",dataValueField:"value",dataSource:d,change:function(){b._value={},b._initView(b._frequency.value()),b.trigger("change")}})},_initView:function(a){var b=this,c=b._value,d=b.options,e={frequency:a||"never",weekDayCheckBoxes:eb,firstWeekDay:d.firstWeekDay,messages:d.messages[a],end:d.messages.end};return b._container.html(fb(e)),a?(c.freq=a,"weekly"!==a||c.weekDays||(c.weekDays=[{day:d.start.getDay(),offset:0}]),b._initInterval(),b._initWeekDays(),b._initMonthDay(),b._initWeekDay(),b._initMonth(),b._initCount(),b._initUntil(),b._period(),b._end(),void 0):(b._value={},void 0)},_initMonth:function(){var g,b=this,d=b._value,e=d.months||[b.options.start.getMonth()+1],f=b._container.find(".k-recur-month");f[0]&&(g={change:function(){d.months=[Number(this.value())],b.trigger("change")},dataTextField:"text",dataValueField:"value",dataSource:a.map(c.culture().calendar.months.names,function(a,b){return{text:a,value:b+1}})},b._month1=new h(f[0],g),b._month2=new h(f[1],g),e&&(e=e[0],b._month1.value(e),b._month2.value(e)))},_end:function(){var f,a=this,b=a._value,c=a._container,d=a._namespace,e=function(b){a._toggleEnd(b.currentTarget.value),a.trigger("change")};a._buttonNever=c.find(".k-recur-end-never").on(E+d,e),a._buttonCount=c.find(".k-recur-end-count").on(E+d,e),a._buttonUntil=c.find(".k-recur-end-until").on(E+d,e),b.count?f="count":b.until&&(f="until"),a._toggleEnd(f)},_period:function(){var a=this,b=a._value,c="monthly"===b.freq,d=c?a._toggleMonthDay:a._toggleYear,e=".k-recur-"+(c?"month":"year")+"-radio",f=a._container.find(e);(c||"yearly"===b.freq)&&(f.on(E+a._namespace,function(b){d.call(a,b.currentTarget.value),a.trigger("change")}),a._buttonMonthDay=f.eq(0),a._buttonWeekDay=f.eq(1),d.call(a,b.weekDays?"weekday":"monthday"))},_toggleEnd:function(a){var c,d,e,f,b=this;"count"===a?(b._buttonCount.prop("checked",!0),e=!0,f=!1,c=b._count.value(),d=null):"until"===a?(b._buttonUntil.prop("checked",!0),e=!1,f=!0,c=null,d=b._until.value()):(b._buttonNever.prop("checked",!0),e=f=!1,c=d=null),b._count.enable(e),b._until.enable(f),b._value.count=c,b._value.until=d},_toggleMonthDay:function(a){var f,b=this,c=!1,d=!0,e=!1;"monthday"===a?(b._buttonMonthDay.prop("checked",!0),f=[b._monthDay.value()],c=!0,d=!1,e=!0):(b._buttonWeekDay.prop("checked",!0),f=null),b._weekDay.enable(d),b._weekDayOffset.enable(d),b._monthDay.enable(c),b._value.monthDays=f,b._weekDayRule(e)},_toggleYear:function(a){var e,b=this,c=!1,d=!0;"monthday"===a?(c=!0,d=!1,e=b._month1.value()):e=b._month2.value(),b._month1.enable(c),b._month2.enable(d),b._value.months=[e],b._toggleMonthDay(a)}});f.plugin(kb);var lb=c.template('<div class="k-edit-label"><label>#:headerTitle#</label></div><div class="k-edit-field k-recur-pattern k-scheduler-toolbar"></div><div class="k-recur-view"></div>'),mb=c.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval" pattern="\\\\d*"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div><div class="k-edit-label"><label>#:messages.month#</label></div><div class="k-edit-field"><select class="k-recur-month"></select></div># } #'),nb=c.template('# if (endPattern === "count") { #<div class="k-edit-label"><label>#:messages.after#</label></div><div class="k-edit-field"><input class="k-recur-count" pattern="\\\\d*" /></div># } else if (endPattern === "until") { #<div class="k-edit-label"><label>#:messages.on#</label></div><div class="k-edit-field"><input type="date" class="k-recur-until" /></div># } #'),ob=c.template('<ul class="k-reset k-header k-toolbar k-scheduler-navigation">#for (var i = 0, length = dataSource.length; i < length; i++) {#<li class="k-state-default #= value === dataSource[i].value ? "k-state-selected" : "" #"><a role="button" href="\\#" class="k-link" data-#=ns#value="#=dataSource[i].value#">#:dataSource[i].text#</a></li>#}#</ul>'),pb=jb.extend({init:function(a,b){var d=this;jb.fn.init.call(d,a,b),b=d.options,d._optionTemplate=c.template('<option value="#:value#">#:text#</option>'),d.value(b.value),d._pane=b.pane,d._initRepeatButton(),d._initRepeatEnd(),d._defaultValue=d._value},options:{name:"MobileRecurrenceEditor",animations:{left:"slide",right:"slide:right"},mobile:!0,messages:{cancel:"Cancel",update:"Save",endTitle:"Repeat ends",repeatTitle:"Repeat pattern",headerTitle:"Repeat event",end:{patterns:{never:"Never",after:"After...",on:"On..."},never:"Never",after:"End repeat after",on:"End repeat on"},daily:{interval:""},weekly:{interval:""},monthly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every",every:"Every",day:"Day "},yearly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every: ",every:"Every",month:"Month",day:"Day"}}},events:["change"],value:function(a){var c=this,d=c.options.timezone;return a===b?c._value.freq?db(c._value,d):"":(c._value=bb(a,d)||{},void 0)},destroy:function(){this._destroyView(),c.destroy(this._endFields),this._repeatButton.off(E+this._namespace)},_initRepeatButton:function(){var b=this,c=b.options.messages.frequencies[this._value.freq||"never"];b._repeatButton=a('<a href="#" class="k-button k-scheduler-recur">'+c+"</a>").on(E+b._namespace,function(a){a.preventDefault(),b._createView("repeat"),b._pane.navigate("recurrence",b.options.animations.left)}),b.element.append(b._repeatButton)},_initRepeatEnd:function(){var b=this,c=a('<div class="k-edit-label"><label>Ends</label></div>').insertAfter(b.element.parent(".k-edit-field")),d=a('<div class="k-edit-field"><a href="#" class="k-button k-scheduler-recur-end"></a></div>').on(E+b._namespace,function(a){a.preventDefault(),b._value.freq&&(b._createView("end"),b._pane.navigate("recurrence",b.options.animations.left))}).insertAfter(c);b._endFields=c.add(d).toggleClass("k-state-disabled",!b._value.freq),b._endButton=d.find(".k-scheduler-recur-end").text(b._endText())},_endText:function(){var a=this._value,b=this.options.messages.end,d=b.never;return a.count?d=c.format("{0} {1}",b.after,a.count):a.until&&(d=c.format("{0} {1:d}",b.on,a.until)),d},_initFrequency:function(){var b=this,d=b.options.messages.frequencies,e=ob({dataSource:a.map(this.options.frequencies,function(a){return{text:d[a],value:"never"!==a?a:""}}),value:b._value.freq||"",ns:c.ns});b._view.element.find(".k-recur-pattern").append(e).on(E+b._namespace,".k-scheduler-navigation li",function(d){var e=a(this);d.preventDefault(),e.addClass("k-state-selected").siblings().removeClass("k-state-selected"),b._value={freq:e.children("a").attr(c.attr("value"))},b._initRepeatView()})},_initEndNavigation:function(){var b=this,d=b.options.messages.end.patterns,e=b._value,f="";e.count?f="count":e.until&&(f="until");var g=ob({dataSource:[{text:d.never,value:""},{text:d.after,value:"count"},{text:d.on,value:"until"}],value:f,ns:c.ns});b._view.element.find(".k-recur-pattern").append(g).on(E+b._namespace,".k-scheduler-navigation li",function(d){var f=a(this),g=null,h=null;d.preventDefault(),f.addClass("k-state-selected").siblings().removeClass("k-state-selected"),b._initEndView(f.children("a").attr(c.attr("value"))),b._count?(g=b._count.value(),h=null):b._until&&(g=null,h=b._until.val?c.parseDate(b._until.val(),"yyyy-MM-dd"):b._until.value()),e.count=g,e.until=h})},_createView:function(b){var c=this,d=c.options,e=d.messages,f=e["repeat"===b?"repeatTitle":"endTitle"],g='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="recurrence"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+e.cancel+"</a>"+e.headerTitle+'<a href="#" class="k-button k-scheduler-update">'+e.update+"</a>"+"</div>",h=c._pane.view().id;c._view=c._pane.append(g+lb({headerTitle:f})),c._view.element.on(E+c._namespace,"a.k-scheduler-cancel, a.k-scheduler-update",function(b){b.preventDefault(),b.stopPropagation(),a(this).hasClass("k-scheduler-update")?(c.trigger("change"),c._defaultValue=a.extend({},c._value)):c._value=c._defaultValue;var d=c._value.freq;c._endButton.text(c._endText()),c._endFields.toggleClass("k-state-disabled",!d),c._repeatButton.text(e.frequencies[d||"never"]),c._destroyView(),c._pane.navigate(h,c.options.animations.right)}),c._container=c._view.element.find(".k-recur-view"),"repeat"===b?(c._initFrequency(),c._initRepeatView()):(c._initEndNavigation(),c._initEndView())},_destroyView:function(){this._view&&(this._view.destroy(),this._view.element.remove()),this._view=null},_initRepeatView:function(){var a=this,b=a._value.freq||"never",d={frequency:b,weekDayCheckBoxes:eb,firstWeekDay:a.options.firstWeekDay,messages:a.options.messages[b]},e=mb(d),f=a._container,g=a._value;return c.destroy(f),f.html(e),e?("weekly"!==b||g.weekDays||(g.weekDays=[{day:a.options.start.getDay(),offset:0}]),a._initInterval(),a._initMonthDay(),a._initWeekDays(),a._initWeekDay(),a._initMonth(),a._period(),void 0):(a._value={},void 0)},_initEndView:function(a){var d=this,e=d._value;a===b&&(e.count?a="count":e.until&&(a="until"));var f={endPattern:a,messages:d.options.messages.end};c.destroy(d._container),d._container.html(nb(f)),d._initCount(),d._initUntil()},_initWeekDay:function(){var d,b=this,e=b.options.messages.weekdays,f=b.options.messages.offsetPositions,g=b._container.find(".k-recur-weekday"),h=function(){b._weekDayRule(),b.trigger("change")};g[0]&&(b._weekDayOffset=b._container.find(".k-recur-weekday-offset").html(b._options([{text:f.first,value:"1"},{text:f.second,value:"2"},{text:f.third,value:"3"},{text:f.fourth,value:"4"},{text:f.last,value:"-1"}])).change(h),d=[{text:e.day,value:"day"},{text:e.weekday,value:"weekday"},{text:e.weekend,value:"weekend"}],d=d.concat(a.map(c.culture().calendar.days.names,function(a,b){return{text:a,value:b}})),b._weekDay=g.html(b._options(d)).change(h).val(b.options.start.getDay()),b._weekDayView())},_initMonth:function(){var b=this,d=b._value,e=b.options.start,f=d.months||[e.getMonth()+1],g=b._container.find(".k-recur-month"),h=c.culture().calendar.months.names;if(g[0]){var i=a.map(h,function(a,b){return{text:a,value:b+1}});g.html(b._options(i)).change(function(){d.months=[Number(this.value)]}),b._monthSelect=g,f&&g.val(f[0])}},_period:function(){var b=this,d=b._value,e=b._container,f=b.options.messages[d.freq],g=e.find(".k-repeat-rule"),h=e.find(".k-weekday-view"),i=e.find(".k-monthday-view");if(g[0]){var j=d.weekDays?"weekday":"monthday",k=ob({value:j,dataSource:[{text:f.dayOfMonth,value:"monthday"},{text:f.dayOfWeek,value:"weekday"}],ns:c.ns}),l=function(a){var c=b._weekDay.val(),e=b._weekDayOffset.val(),f=b._monthDay.value(),g=b._monthSelect?b._monthSelect.val():null;"monthday"===a?(d.weekDays=null,d.monthDays=f?[f]:f,d.months=g?[Number(g)]:g,h.hide(),i.show()):(d.monthDays=null,d.months=g?[Number(g)]:g,d.weekDays=[{offset:Number(e),day:Number(c)}],h.show(),i.hide())};g.append(k).on(E+b._namespace,".k-scheduler-navigation li",function(b){var d=a(this).addClass("k-state-selected");b.preventDefault(),d.siblings().removeClass("k-state-selected");var e=d.children("a").attr(c.attr("value"));l(e)}),l(j)}},_initUntil:function(){var a=this,b=a._container.find(".k-recur-until"),d=a.options.start,e=a._value,f=e.until,g=f&&d>f?f:d;a._until=c.support.input.date?b.attr("min",c.toString(g,"yyyy-MM-dd")).val(c.toString(f||d,"yyyy-MM-dd")).on("change",function(){e.until=c.parseDate(this.value,"yyyy-MM-dd")}):b.kendoDatePicker({min:g,value:f||d,change:function(){e.until=this.value()}}).data("kendoDatePicker")},_options:function(a,b){var c=0,d="",e=a.length,f=this._optionTemplate;for(b&&(d+=f({value:"",text:b}));e>c;c++)d+=f(a[c]);return d}});f.plugin(pb)}(window.kendo.jQuery),kendo_module({id:"scheduler",name:"Scheduler",category:"web",description:"The Scheduler is an event calendar.",depends:["dropdownlist","editable","multiselect","window","datepicker","scheduler.recurrence","scheduler.view"],features:[{id:"scheduler-dayview",name:"Scheduler Day View",description:"Scheduler Day View",depends:["scheduler.dayview"]},{id:"scheduler-agendaview",name:"Scheduler Agenda View",description:"Scheduler Agenda View",depends:["scheduler.agendaview"]},{id:"scheduler-monthview",name:"Scheduler Month View",description:"Scheduler Month View",depends:["scheduler.monthview"]},{id:"scheduler-mobile",name:"Scheduler adaptive rendering",description:"Support for adaptive rendering",depends:["mobile.actionsheet","mobile.pane"]}]}),function(a,b){function U(a,b){return b=b||"",a.startTimezone&&(b=a.startTimezone,a.endTimezone&&(b+=" | "+a.endTimezone)),b}function V(a,b){var d=b.timezone;d&&(a[c.attr("timezone")]=d)}function W(a,b){var d=b.model.fields[b.field].validation;if(d){var e=d.dateCompare;e&&q(e)&&e.message&&(a[c.attr("dateCompare-msg")]=e.message)}}function X(a,b){return function(c){return c=a(c),Z(c,"apply",b),c||[]}}function Y(a,b){return function(d){return d&&("[object Array]"===t.call(d)||d instanceof c.data.ObservableArray||(d=[d])),Z(d,"remove",b,!0),d=a(d),d||[]}}function Z(a,b,d,e){var f,g,h;for(a=a||[],g=0,h=a.length;h>g;g++)f=a[g],e?f.startTimezone||f.endTimezone?d?(f.start=c.timezone.convert(f.start,f.startTimezone||f.endTimezone,d),f.end=c.timezone.convert(f.end,f.endTimezone||f.startTimezone,d),f.start=c.timezone[b](f.start,d),f.end=c.timezone[b](f.end,d)):(f.start=c.timezone[b](f.start,f.startTimezone||f.endTimezone),f.end=c.timezone[b](f.end,f.endTimezone||f.startTimezone)):d&&(f.start=c.timezone[b](f.start,d),f.end=c.timezone[b](f.end,d)):f.startTimezone||f.endTimezone?(f.start=c.timezone[b](f.start,f.startTimezone||f.endTimezone),f.end=c.timezone[b](f.end,f.endTimezone||f.startTimezone),d&&(f.start=c.timezone.convert(f.start,f.startTimezone||f.endTimezone,d),f.end=c.timezone.convert(f.end,f.endTimezone||f.startTimezone,d))):d&&(f.start=c.timezone[b](f.start,d),f.end=c.timezone[b](f.end,d)),e&&delete f.uid;return a}function $(a,b){for(var e,c=a.length,d=0;c>d;d++)if(e=a[d],e.uid===b)return e}function _(a){var b=new Date(1980,0,1);return b.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),b}function bb(a){if(a.filter("[name=end]").length){var b=a.closest(".k-scheduler-edit-form"),d=b.find("[name=start]:visible"),e=b.find("[name=end]:visible");if(e[0]&&d[0]){var f,g,h=c.widgetInstance(d,c.ui),i=c.widgetInstance(e,c.ui),j=b.data("kendoEditable"),k=j?j.options.model:null;if(h&&i?(f=h.value(),g=i.value()):(f=c.parseDate(d.val()),g=c.parseDate(e.val())),f&&g){if(k){var l=d.attr(c.attr("timezone")),m=k.startTimezone,n=k.endTimezone;
m=m||n,n=n||m,m&&(l?(f=c.timezone.convert(k.start,m,l),g=c.timezone.convert(k.end,n,l)):(f=c.timezone.remove(k.start,m),g=c.timezone.remove(k.end,n)))}return g>=f}}}return!0}function eb(a,b,c,d){for(var e=a.length,f=[],g=0;e>g;g++)f=f.concat(a[g].expand(b,c,d));return f}function gb(a){return delete a.name,delete a.prefix,delete a.remove,delete a.edit,delete a.add,delete a.navigate,a}function hb(b){return function(d){a(c.format('<select data-{0}bind="value:{1}">',c.ns,b.field)).appendTo(d).kendoDropDownList({dataTextField:b.dataTextField,dataValueField:b.dataValueField,dataSource:b.dataSource,valuePrimitive:b.valuePrimitive,optionLabel:"None",template:c.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',b.dataColorField,b.dataTextField)})}}function ib(b){return function(d){for(var e="",f=b.dataSource.view(),g=0,h=f.length;h>g;g++)e+=c.format('<option value="{0}">{1}</option>',c.getter(b.dataValueField)(f[g]),c.getter(b.dataTextField)(f[g]));a(c.format('<select data-{0}bind="value:{1}">{2}</select>',c.ns,b.field,e)).appendTo(d)}}function jb(b){return function(d){a(c.format('<select data-{0}bind="value:{1}">',c.ns,b.field)).appendTo(d).kendoMultiSelect({dataTextField:b.dataTextField,dataValueField:b.dataValueField,dataSource:b.dataSource,valuePrimitive:b.valuePrimitive,itemTemplate:c.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',b.dataColorField,b.dataTextField),tagTemplate:c.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',b.dataColorField,b.dataTextField)})}}function kb(b){return function(d){for(var e="",f=b.dataSource.view(),g=0,h=f.length;h>g;g++)e+=c.format('<option value="{0}">{1}</option>',c.getter(b.dataValueField)(f[g]),c.getter(b.dataTextField)(f[g]));a(c.format('<select data-{0}bind="value:{1}" multiple="multiple" data-{0}value-primitive="{3}">{2}</select>',c.ns,b.field,e,b.valuePrimitive)).appendTo(d)}}function lb(a,b){var d=a.end.getTime()-a.start.getTime(),e=new Date(a.start.getTime());c.date.setTime(e,b);var f=new Date(e.getTime());return c.date.setTime(f,d),{start:e,end:f}}var c=window.kendo,d=c.date,e=c.support.input,f=d.MS_PER_DAY,g=d.getDate,h=c.date.getMilliseconds,i=c.recurrence,j=c.keys,k=c.ui,l=k.Widget,m="string",n=k.Popup,o=k.Calendar,p=c.data.DataSource,q=a.isPlainObject,r=a.extend,s=a.proxy,t=Object.prototype.toString,u=a.isArray,v=".kendoScheduler",w="click",x="change",y="cancel",z="remove",A="save",B="add",C="edit",D=g(new Date),E="recurrenceException",F="yyyyMMddTHHmmssZ",G="Are you sure you want to delete this event?",H="Do you want to delete only this event occurrence or the whole series?",I="Do you want to edit only this event occurrence or the whole series?",J='<a class="k-button #=className#" #=attr# href="\\#">#=text#</a>',K=c.template('<div class="k-floatwrap k-header k-scheduler-toolbar k-secondary"><ul class="k-reset k-header k-toolbar k-scheduler-navigation"><li class="k-state-default k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li><li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li><li class="k-state-default k-nav-current"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-calendar"></span><span data-#=ns#bind="text: formattedDate"></span></a></li></ul><ul class="k-reset k-header k-toolbar k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#=view#" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul></div>'),L=c.template('<div class="k-floatwrap k-header k-scheduler-toolbar k-secondary"><ul class="k-reset k-header k-toolbar k-scheduler-navigation"><li class="k-state-default k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li></ul><ul class="k-reset k-header k-toolbar k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#=view#" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul></div><div class="k-floatwrap k-header k-scheduler-toolbar k-secondary"><ul class="k-reset k-header k-toolbar k-scheduler-navigation"><li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-nav-current"><span data-#=ns#bind="text: formattedDate"></span></li><li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li></ul></div>'),M=function(b,d){var f={name:d.field},g=e.date?"":c.attr("role")+'="datepicker" ',h=e.datetimelocal?"":c.attr("role")+'="datetimepicker" ';V(f,d),W(f,d),a('<input type="datetime-local" required '+c.attr("type")+'="date" '+h+c.attr("bind")+'="value:'+d.field+',invisible:isAllDay" />').attr(f).appendTo(b),a('<input type="date" required '+c.attr("type")+'="date" '+g+c.attr("bind")+'="value:'+d.field+',visible:isAllDay" />').attr(f).appendTo(b),a("<span "+c.attr("for")+'="'+d.field+'" class="k-invalid-msg"/>').hide().appendTo(b)},N=function(b,d){var e={name:d.field};V(e,d),W(e,d),a('<input type="text" required '+c.attr("type")+'="date"'+" "+c.attr("role")+'="datetimepicker" '+c.attr("bind")+'="value:'+d.field+',invisible:isAllDay" />').attr(e).appendTo(b),a('<input type="text" required '+c.attr("type")+'="date"'+" "+c.attr("role")+'="datepicker" '+c.attr("bind")+'="value:'+d.field+',visible:isAllDay" />').attr(e).appendTo(b),a("<span "+c.attr("bind")+'="text: '+d.field+'Timezone"></span>').appendTo(b),"end"===d.field&&a("<span "+c.attr("bind")+'="text: startTimezone, invisible: endTimezone"></span>').appendTo(b),a("<span "+c.attr("for")+'="'+d.field+'" class="k-invalid-msg"/>').hide().appendTo(b)},O=function(b,d){a("<div "+c.attr("bind")+'="value:'+d.field+'" />').attr({name:d.field}).appendTo(b).kendoRecurrenceEditor({start:d.model.start,timezone:d.timezone,messages:d.messages})},P=function(b,d){a("<div "+c.attr("bind")+'="value:'+d.field+'" />').attr({name:d.field}).appendTo(b).kendoMobileRecurrenceEditor({start:d.model.start,timezone:d.timezone,messages:d.messages,pane:d.pane,value:d.model[d.field]})},Q=function(b,c){var d=U(c.model,c.messages.noTimezone);a('<a href="#" class="k-button k-timezone-button">'+d+"</a>").click(c.click).appendTo(b)},R=function(b,c){a('<a href="#" class="k-button">'+c.messages.timezoneEditorButton+"</a>").click(c.click).appendTo(b)},S=function(b,d){a("<div "+c.attr("bind")+'="value:'+d.field+'" />').attr({name:d.field}).toggle(d.visible).appendTo(b).kendoMobileTimezoneEditor()},T=function(b,d){a("<div "+c.attr("bind")+'="value:'+d.field+'" />').attr({name:d.field}).toggle(d.visible).appendTo(b).kendoTimezoneEditor()},ab=c.Class.extend({init:function(b,c){var d=b.timezone;this.reader=c,c.model&&(this.model=c.model),this.timezone=d,this.data=X(a.proxy(this.data,this),d),this.serialize=Y(a.proxy(this.serialize,this),d)},errors:function(a){return this.reader.errors(a)},parse:function(a){return this.reader.parse(a)},data:function(a){return this.reader.data(a)},total:function(a){return this.reader.total(a)},groups:function(a){return this.reader.groups(a)},aggregates:function(a){return this.reader.aggregates(a)},serialize:function(a){return this.reader.serialize(a)}}),cb=c.data.Model.define({init:function(a){var b=this;c.data.Model.fn.init.call(b,a)},clone:function(b,c){var d=this.uid,e=new this.constructor(a.extend({},this.toJSON(),b));return c||(e.uid=d),e},duration:function(){var a=this.end,b=this.start,d=(a.getTimezoneOffset()-b.getTimezoneOffset())*c.date.MS_PER_MINUTE;return a-b-d},expand:function(a,b,c){return i?i.expand(this,a,b,c):[this]},update:function(a){for(var b in a)this.set(b,a[b]);this.startTime&&this.set("startTime",_(this.start)),this.endTime&&this.set("endTime",_(this.end))},isMultiDay:function(){return this.isAllDay||this.duration()>=c.date.MS_PER_DAY},isException:function(){return this.id&&this.recurrenceId},isOccurrence:function(){return this.isNew()&&this.recurrenceId},isRecurring:function(){return!(!this.recurrenceRule&&!this.recurrenceId)},isRecurrenceHead:function(){return!(!this.id||!this.recurrenceRule)},toOccurrence:function(b){return b=a.extend(b,{recurrenceException:null,recurrenceRule:null,recurrenceId:this.id||this.recurrenceId,id:this.defaults.id}),b[this.idField]=this.defaults.id,this.clone(b,!0)},toJSON:function(){var a=c.data.Model.fn.toJSON.call(this);return a.uid=this.uid,delete a.startTime,delete a.endTime,a},set:function(a,b){var d=this.isAllDay||!1;if(c.data.Model.fn.set.call(this,a,b),"isAllDay"==a&&b!=d){var e=c.date.getDate(this.start),g=new Date(this.end),h=c.date.getMilliseconds(g);0===h&&b&&(h=f),this.set("start",e),b===!0?(c.date.setTime(g,-h),e>g&&(g=e)):c.date.setTime(g,f-h),this.set("end",g)}},id:"id",fields:{id:{type:"number"},title:{defaultValue:"",type:"string"},start:{type:"date",validation:{required:!0}},startTimezone:{type:"string"},end:{type:"date",validation:{required:!0,dateCompare:{value:bb,message:"End date should be greater than or equal to the start date"}}},endTimezone:{type:"string"},recurrenceRule:{defaultValue:"",type:"string"},recurrenceException:{defaultValue:"",type:"string"},isAllDay:{type:"boolean",defaultValue:!1},description:{type:"string"}}}),db=p.extend({init:function(a){p.fn.init.call(this,r(!0,{},{schema:{modelBase:cb,model:cb}},a)),this.reader=new ab(this.options.schema,this.reader)},expand:function(a,b){var d=this.view(),e={};return a&&b&&(b=new Date(b.getTime()+f-1),e={logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:a},{field:"end",operator:"gte",value:a},{field:"start",operator:"lte",value:b}]},{logic:"and",filters:[{field:"start",operator:"lte",value:new Date(a.getTime()+f-1)},{field:"end",operator:"gte",value:a}]}]},d=new c.data.Query(eb(d,a,b,this.reader.timezone)).filter(e).toArray()),d},cancelChanges:function(a){a&&a.isOccurrence()&&this._removeExceptionDate(a),p.fn.cancelChanges.call(this,a)},insert:function(a,b){if(b){if(!(b instanceof cb)){var c=b;b=this._createNewModel(),b.accept(c)}return(b.isRecurrenceHead()||b.recurrenceId)&&(b=b.recurrenceId?b:b.toOccurrence(),this._addExceptionDate(b)),p.fn.insert.call(this,a,b)}},remove:function(a){return a.isRecurrenceHead()?this._removeExceptions(a):a.isRecurring()&&this._addExceptionDate(a),p.fn.remove.call(this,a)},_removeExceptions:function(a){for(var b=this.data().slice(0),c=b.shift(),d=a.id;c;)c.recurrenceId===d&&p.fn.remove.call(this,c),c=b.shift();a.set(E,"")},_removeExceptionDate:function(a){if(a.recurrenceId){var b=this.get(a.recurrenceId);if(b){var d=a.start;d=c.timezone.convert(d,this.reader.timezone||d.getTimezoneOffset(),"Etc/UTC");var e=c.toString(d,F)+";";b.set(E,b.recurrenceException.replace(e,""))}}},_addExceptionDate:function(a){var b=a.start,d=this.reader.timezone,e=this.get(a.recurrenceId),f=e.recurrenceException||"";i.isException(f,b,d)||(b=c.timezone.convert(b,d||b.getTimezoneOffset(),"Etc/UTC"),f+=c.toString(b,F)+";",e.set(E,f))}});db.create=function(a){a=a&&a.push?{data:a}:a;var b=a||{},d=b.data;if(b.data=d,!(b instanceof db)&&b instanceof c.data.DataSource)throw new Error("Incorrect DataSource type. Only SchedulerDataSource instances are supported");return b instanceof db?b:new db(b)},r(!0,c.data,{SchedulerDataSource:db,SchedulerDataReader:ab,SchedulerEvent:cb});var fb={update:{text:"Save",className:"k-scheduler-update"},canceledit:{text:"Cancel",className:"k-scheduler-cancel"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-scheduler-delete",iconClass:"k-icon"}},mb={mobile:{dateRange:M,timezonePopUp:Q,timezone:S,recurrence:P,description:'<textarea name="description" class="k-textbox"/>',multipleResources:kb,resources:ib},desktop:{dateRange:N,timezonePopUp:R,timezone:T,recurrence:O,description:'<textarea name="description" class="k-textbox"/>',multipleResources:jb,resources:hb}},nb=c.Observable.extend({init:function(a,b){c.Observable.fn.init.call(this),this.element=a,this.options=r(!0,{},this.options,b),this.createButton=this.options.createButton},fields:function(a,b){var d=this,e=d.options.messages,f=d.options.timezone,g=function(a){a.preventDefault(),d._initTimezoneEditor(b,this)},h=[{field:"title",title:e.editor.title},{field:"start",title:e.editor.start,editor:a.dateRange,timezone:f},{field:"end",title:e.editor.end,editor:a.dateRange,timezone:f},{field:"isAllDay",title:e.editor.allDayEvent}];c.timezone.windows_zones&&!b.isAllDay&&(h.push({field:"timezone",title:e.editor.timezone,editor:a.timezonePopUp,click:g,messages:e.editor,model:b}),h.push({field:"startTimezone",title:e.editor.startTimezone,editor:a.timezone}),h.push({field:"endTimezone",title:e.editor.endTimezone,editor:a.timezone})),b.recurrenceId||h.push({field:"recurrenceRule",title:e.editor.repeat,editor:a.recurrence,timezone:f,messages:e.recurrenceEditor,pane:this.pane}),"description"in b&&h.push({field:"description",title:e.editor.description,editor:a.description});for(var i=0;i<this.options.resources.length;i++){var j=this.options.resources[i];h.push({field:j.field,title:j.title,editor:j.multiple?a.multipleResources(j):a.resources(j)})}return h},end:function(){return this.editable.end()},_buildEditTemplate:function(a,b,d){var e=this.options.messages,f=r({},c.Template,this.options.templateSettings),g=f.paramName,h=this.options.editable.template,i="";if(h)typeof h===m&&(h=window.unescape(h)),i+=c.template(h,f)(a);else for(var j=0,k=b.length;k>j;j++){var l=b[j];if("startTimezone"===l.field&&(i+='<div class="k-popup-edit-form k-scheduler-edit-form k-scheduler-timezones" style="display:none">',i+='<div class="k-edit-form-container">',i+='<div class="k-edit-label"></div>',i+='<div class="k-edit-field"><label class="k-check"><input class="k-timezone-toggle" type="checkbox" />'+e.editor.separateTimezones+"</label></div>"),i+='<div class="k-edit-label"><label for="'+l.field+'">'+(l.title||l.field||"")+"</label></div>",!a.editable||a.editable(l.field))d.push(l),i+="<div "+c.attr("container-for")+'="'+l.field+'" class="k-edit-field"></div>';else{var n="#:";l.field?(l=c.expr(l.field,g),n+=l+"==null?'':"+l):n+="''",n+="#",n=c.template(n,f),i+='<div class="k-edit-field">'+n(a)+"</div>"}"endTimezone"===l.field&&(i+=this._createEndTimezoneButton())}return i},_createEndTimezoneButton:function(){return"</div></div>"},_revertTimezones:function(a){a.set("startTimezone",this._startTimezone),a.set("endTimezone",this._endTimezone),delete this._startTimezone,delete this._endTimezone}}),ob=nb.extend({init:function(){nb.fn.init.apply(this,arguments),this.pane=c.mobile.ui.Pane.wrap(this.element),this.pane.element.parent().css("height",this.options.height),this.view=this.pane.view(),this._actionSheetButtonTemplate=c.template('<li><a #=attr# class="k-button #=className#" href="\\#">#:text#</a></li>'),this._actionSheetPopupOptions=a(document.documentElement).hasClass("km-root")?{modal:!1}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"}},options:{animations:{left:"slide",right:"slide:right"}},destroy:function(){this.close(),this.unbind(),this.pane.destroy()},_initTimezoneEditor:function(b){var c=this,d=c.pane,e=c.options.messages,f=c.timezoneView,g=c.container.find(".k-scheduler-timezones"),h=g.find(".k-timezone-toggle"),i=g.find(".k-edit-label:last").add(g.find(".k-edit-field:last")),j=function(a){if("startTimezone"===a.field){var c=b.startTimezone;h.prop("disabled",!c),c||(i.hide(),b.set("endTimezone",""),h.prop("checked",!1))}};if(c._startTimezone=b.startTimezone||"",c._endTimezone=b.endTimezone||"",!f){var k='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+e.cancel+"</a>"+e.editor.timezoneTitle+'<a href="#" class="k-button k-scheduler-update">'+e.save+"</a></div></div>";this.timezoneView=f=d.append(k),f.contentElement().append(g.show()),f.element.on(w+v,".k-scheduler-cancel, .k-scheduler-update",function(f){f.preventDefault(),f.stopPropagation(),a(this).hasClass("k-scheduler-cancel")&&c._revertTimezones(b),b.unbind("change",j);var g=d.element.find("#edit").data("kendoMobileView"),h=U(b,e.editor.noTimezone);g.contentElement().find(".k-timezone-button").text(h),d.navigate(g,c.options.animations.right)}),h.click(function(){i.toggle(h.prop("checked")),b.set("endTimezone","")}),b.bind("change",j)}h.prop("checked",b.endTimezone).prop("disabled",!b.startTimezone),b.endTimezone?i.show():i.hide(),d.navigate(f,c.options.animations.left)},_createActionSheetButton:function(a){return a.template=this._actionSheetButtonTemplate,this.createButton(a)},showDialog:function(b){var d="",e='<ul><li class="km-actionsheet-title">'+b.title+"</li>",f=this.element.find(".k-event["+c.attr("uid")+"='"+b.model.uid+"']");this.container&&(f=this.container.find(".k-scheduler-delete"),f[0]&&(d="phone"));for(var g=0;g<b.buttons.length;g++)e+=this._createActionSheetButton(b.buttons[g]);e+="</ul>";var h=a(e).appendTo(this.pane.view().element).kendoMobileActionSheet({type:d,cancel:this.options.messages.cancel,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(c){var d=h.element.find("li:not(.km-actionsheet-cancel) > .k-button").index(a(c.currentTarget));d>-1&&(h.close(),b.buttons[d].click())},popup:this._actionSheetPopupOptions}).data("kendoMobileActionSheet");h.open(f)},editEvent:function(b){var d=this.pane,e="",f=this.options.messages,g=f.save,h=f.destroy,i=f.cancel,j=f.editor.editorTitle;e+='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="edit" '+c.attr("uid")+'="'+b.uid+'">'+'<div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+i+"</a>"+j+'<a href="#" class="k-button k-scheduler-update">'+g+"</a></div>";var k=this.fields(mb.mobile,b),l=this,m=[];e+=this._buildEditTemplate(b,k,m),b.isNew()||(e+='<div class="k-edit-buttons"><a href="#" class="k-scheduler-delete k-button">'+h+"</a></div>"),e+="</div>";var n=d.append(e),o=this.container=n.element;return this.editable=o.kendoEditable({fields:m,model:b,clearContainer:!1,validateOnBlur:!0}).data("kendoEditable"),o.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){a(this).next().children("input").click()}),this.trigger("edit",{container:o,model:b})?this.trigger("cancel",{container:o,model:b}):(o.on(w+v,"a.k-scheduler-edit, a.k-scheduler-cancel, a.k-scheduler-update, a.k-scheduler-delete",function(c){c.preventDefault(),c.stopPropagation();var e=a(this);if(e.hasClass("k-scheduler-edit"))d.navigate("#edit",l.options.animations.right);else{var f="cancel";e.hasClass("k-scheduler-update")?f="save":e.hasClass("k-scheduler-delete")&&(f="remove"),l.trigger(f,{container:o,model:b})}}),d.navigate(n,l.options.animations.left)),this.editable},_views:function(){return this.pane.element.find(c.roleSelector("view")).not(this.view.element)},close:function(){if(this.container){this.pane.navigate("",this.options.animations.right);for(var b,a=this._views(),c=0,d=a.length;d>c;c++)b=a.eq(c).data("kendoMobileView"),b&&b.purge();a.remove(),this.container=null,this.editable&&(this.editable.destroy(),this.editable=null),this.timezoneView=null}}}),pb=nb.extend({destroy:function(){this.close(),this.unbind()},editEvent:function(a){return this.editable=this._createPopupEditor(a)},close:function(){var a=this,b=function(){a.editable&&(a.editable.destroy(),a.editable=null,a.container=null)};a.editable&&(a._timezonePopup&&a._timezonePopup.data("kendoWindow")&&(a._timezonePopup.data("kendoWindow").destroy(),a._timezonePopup=null),a.container.data("kendoWindow").bind("deactivate",b).close())},_createEndTimezoneButton:function(){var a=this.options.messages,b="";return b+='<div class="k-edit-buttons k-state-default">',b+=this.createButton({name:"savetimezone",text:a.save})+this.createButton({name:"canceltimezone",text:a.cancel}),b+="</div></div></div>"},showDialog:function(b){var d=c.format("<div class='k-popup-edit-form'><div class='k-edit-form-container'><p class='k-popup-message'>{0}</p>",b.text);d+='<div class="k-edit-buttons k-state-default">';for(var e=0;e<b.buttons.length;e++)d+=this.createButton(b.buttons[e]);d+="</div></div></div>";var f=this.element,g=a(d).appendTo(f).eq(0).on("click",".k-button",function(c){c.preventDefault(),g.close();var d=a(c.currentTarget).index();b.buttons[d].click()}).kendoWindow({modal:!0,resizable:!1,draggable:!1,title:b.title,visible:!1,close:function(){this.destroy(),f.focus()}}).getKendoWindow();g.center().open()},_createPopupEditor:function(b){var d=this,e=d.options.editable,f="<div "+c.attr("uid")+'="'+b.uid+'" class="k-popup-edit-form k-scheduler-edit-form"><div class="k-edit-form-container">',g=d.options.messages,h=g.save,i=g.cancel,j=g.destroy,k=this.fields(mb.desktop,b),l=[];f+=this._buildEditTemplate(b,k,l);var m,n=q(e)?e.window:{};f+='<div class="k-edit-buttons k-state-default">',f+=this.createButton({name:"update",text:h,attr:m})+this.createButton({name:"canceledit",text:i,attr:m}),b.isNew()||(f+=this.createButton({name:"delete",text:j,attr:m})),f+="</div></div></div>";var o=this.container=a(f).appendTo(d.element).eq(0).kendoWindow(r({modal:!0,resizable:!1,draggable:!0,title:g.editor.editorTitle,visible:!1,close:function(a){a.userTriggered&&d.trigger(y,{container:o,model:b})&&a.preventDefault()}},n)),p=o.kendoEditable({fields:l,model:b,clearContainer:!1,validateOnBlur:!0}).data("kendoEditable");return d.trigger(C,{container:o,model:b})?d.trigger(y,{container:o,model:b}):(o.data("kendoWindow").center().open(),o.on(w+v,"a.k-scheduler-cancel",function(a){a.preventDefault(),a.stopPropagation(),d.trigger(y,{container:o,model:b})}),o.on(w+v,"a.k-scheduler-update",function(a){a.preventDefault(),a.stopPropagation(),d.trigger("save",{container:o,model:b})}),o.on(w+v,"a.k-scheduler-delete",function(a){a.preventDefault(),a.stopPropagation(),d.trigger(z,{container:o,model:b})})),p},_initTimezoneEditor:function(a,b){var k,c=this,d=c.container.find(".k-scheduler-timezones"),e=d.find(".k-timezone-toggle"),f=d.find(".k-edit-label:last").add(d.find(".k-edit-field:last")),g=d.find(".k-scheduler-savetimezone"),h=d.find(".k-scheduler-canceltimezone"),i=c._timezonePopup,j=function(b){if("startTimezone"===b.field){var c=a.startTimezone;e.prop("disabled",!c),c||(f.hide(),a.set("endTimezone",""),e.prop("checked",!1))}};c._startTimezone=a.startTimezone,c._endTimezone=a.endTimezone,i||(c._timezonePopup=i=d.kendoWindow({modal:!0,resizable:!1,draggable:!0,title:c.options.messages.editor.timezoneEditorTitle,visible:!1,close:function(d){a.unbind("change",j),d.userTriggered&&c._revertTimezones(a),b&&b.focus()}}),e.click(function(){f.toggle(e.prop("checked")),a.set("endTimezone","")}),g.click(function(a){a.preventDefault(),k.close()}),h.click(function(b){b.preventDefault(),c._revertTimezones(a),k.close()}),a.bind("change",j)),e.prop("checked",a.endTimezone).prop("disabled",!a.startTimezone),a.endTimezone?f.show():f.hide(),k=i.data("kendoWindow"),k.center().open()}}),qb=l.extend({init:function(b,d){var e=this;l.fn.init.call(e,b,d),e.options.views&&e.options.views.length||(e.options.views=["day","week"]),e.resources=[],e._initModel(),e._wrapper(),e._views(),e._toolbar(),e._dataSource(),e._resources(),e._resizeHandler=s(e.resize,e),e.wrapper.on("mousedown"+v+" selectstart"+v,function(a){a.preventDefault()}),e.options.editable&&e.options.editable.resize!==!1&&e._resizable(),e._movable(),a(window).on("resize"+v,e._resizeHandler),e.options.messages&&e.options.messages.recurrence&&(i.options=e.options.messages.recurrence),e._selectable(),e._ariaId=c.guid(),e._createEditor()},_isMobile:function(){var a=this.options;return a.mobile===!0&&c.support.mobileOS||"phone"===a.mobile||"tablet"===a.mobile},_isMobilePhoneView:function(){var a=this.options;return a.mobile===!0&&c.support.mobileOS&&!c.support.mobileOS.tablet||"phone"===a.mobile},_selectable:function(){var b=this,d=b.wrapper,e=c.support.mobileOS?"touchend":"mousedown";if(b.options.selectable){b._tabindex(),d.on(e,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",function(a){b._createSelection(a.currentTarget),d.focus()});var f=a.proxy(b._mouseMove,b);d.on("mousedown"+v,".k-scheduler-header-all-day td, .k-scheduler-content td",function(){d.on("mousemove"+v,".k-scheduler-header-all-day td, .k-scheduler-content td",f)}),d.on("mouseup"+v+" mouseleave"+v,function(){d.off("mousemove"+v,".k-scheduler-header-all-day td, .k-scheduler-content td",f)}),d.on("focus"+v,function(){b._selection||b._createSelection(a(".k-scheduler-content").find("td:first")),b._select()}),d.on("focusout"+v,function(){b.view().clearSelection(),b._ctrlKey=b._shiftKey=!1}),d.on("keydown"+v,s(b._keydown,b)),d.on("keyup"+v,function(a){b._ctrlKey=a.ctrlKey,b._shiftKey=a.shiftKey})}},_select:function(){var a=this.view(),b=this.wrapper,d=a.current(),e=this._selection;if(d&&(d.removeAttribute("id"),d.removeAttribute("aria-label"),b.removeAttr("aria-activedescendant")),a.select(e),d=a.current()){var f,g=e,h=this._selectedEvents(),i=a._selectedSlots;h[0]?(g=h[0]||e,f=c.format(this.options.messages.ariaEventLabel,g.title,g.start,g.start)):f=c.format(this.options.messages.ariaSlotLabel,g.start,g.end),d.setAttribute("id",this._ariaId),d.setAttribute("aria-label",f),b.attr("aria-activedescendant",this._ariaId),this.trigger("change",{start:e.start,end:e.end,events:h,slots:i,resources:a._resourceBySlot(e)})}},_selectedEvents:function(){for(var d,a=this._selection.events,b=a.length,c=0,e=[];b>c;c++)d=this.occurrenceByUid(a[c]),d&&e.push(d);return e},_mouseMove:function(b){var c=this;clearTimeout(c._moveTimer),c._moveTimer=setTimeout(function(){var d=c.view(),e=c._selection;if(e){var f=d.selectionByElement(a(b.currentTarget));if(f&&e.groupIndex===f.groupIndex){var g=f.startDate(),h=f.endDate();g>=e.end?e.backward=!1:h<=e.start&&(e.backward=!0),e.backward?e.start=g:e.end=h,c._select()}}},5)},_viewByIndex:function(a){var b,c=this.views;for(b in c){if(!a)return b;a--}},_keydown:function(b){var d=this,e=b.keyCode,f=d.view(),g=f.options.editable,h=d._selection,i=b.shiftKey;d._ctrlKey=b.ctrlKey,d._shiftKey=b.shiftKey,e===j.TAB?f.moveToEvent(h,i)&&(d._select(),b.preventDefault()):g&&e===j.ENTER?h.events.length?g.update!==!1&&d.editEvent(h.events[0]):g.create!==!1&&(h.isAllDay&&(h=a.extend({},h,{end:c.date.addDays(h.end,-1)})),d.addEvent(h)):e===j.DELETE?d.removeEvent(h.events[0]):e>=49&&57>=e?d.view(d._viewByIndex(e-49)):f.move(h,e,i)&&(f.inRange(h)?d._select():d.date(h.start),b.preventDefault()),d._adjustSelectedDate()},_createSelection:function(b){var d,e,f;this._selection&&(this._ctrlKey||this._shiftKey)||(this._selection={events:[],groupIndex:0}),b=a(b),f=this._selection,d=b.attr(c.attr("uid")),e=this.view().selectionByElement(b),e&&(f.groupIndex=e.groupIndex||0),d&&(e=$(this._data,d)),e&&e.uid&&(d=[e.uid]),this._updateSelection(e,d),this._adjustSelectedDate()},_updateSelection:function(a,b){var d=this._selection;if(a&&d){if(this._shiftKey&&d.start&&d.end){var e=a.end<d.end,f=this.view();d.end=a.endDate?a.endDate():a.end,e&&f._timeSlotInterval&&c.date.setTime(d.end,-f._timeSlotInterval())}else d.start=a.startDate?a.startDate():a.start,d.end=a.endDate?a.endDate():a.end;d.isAllDay="isDaySlot"in a?a.isDaySlot:a.isAllDay,d.index=a.index,d.events=this._ctrlKey?d.events.concat(b||[]):b||[]}},options:{name:"Scheduler",date:D,editable:!0,autoBind:!0,snap:!0,mobile:!1,timezone:"",min:new Date(1900,0,1),max:new Date(2099,11,31),messages:{today:"Today",save:"Save",cancel:"Cancel",destroy:"Delete",deleteWindowTitle:"Delete event",ariaSlotLabel:"Selected from {0:t} to {1:t}",ariaEventLabel:"{0} on {1:D} at {2:t}",views:{day:"Day",week:"Week",workWeek:"Work Week",agenda:"Agenda",month:"Month"},recurrenceMessages:{deleteWindowTitle:"Delete Recurring Item",deleteWindowOccurrence:"Delete current occurrence",deleteWindowSeries:"Delete the series",editWindowTitle:"Edit Recurring Item",editWindowOccurrence:"Edit current occurrence",editWindowSeries:"Edit the series"},editor:{title:"Title",start:"Start",end:"End",allDayEvent:"All day event",description:"Description",repeat:"Repeat",timezone:" ",startTimezone:"Start timezone",endTimezone:"End timezone",separateTimezones:"Use separate start and end time zones",timezoneEditorTitle:"Timezones",timezoneEditorButton:"Time zone",timezoneTitle:"Time zones",noTimezone:"No timezone",editorTitle:"Event"}},height:null,width:null,resources:[],group:{resources:[],direction:"horizontal"},views:[],selectable:!1},events:[z,C,y,A,"add","dataBinding","dataBound","moveStart","move","moveEnd","resizeStart","resize","resizeEnd","navigate","change"],destroy:function(){var d,b=this;l.fn.destroy.call(b),b.dataSource&&b.dataSource.unbind(x,b._refreshHandler),b.calendar&&(b.calendar.destroy(),b.popup.destroy()),b.view()&&b.view().destroy(),b._editor&&b._editor.destroy(),d=b.element.add(b.wrapper).add(b.toolbar).add(b.popup),d.off(v),a(window).off("resize"+v,b._resizeHandler),c.destroy(b.wrapper)},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this.options.autoBind&&a.fetch()},items:function(){return this.wrapper.children(".k-event, .k-task")},_movable:function(){var b,d,e,f,g,h=this,i=h._isMobile(),j=h.options.editable&&h.options.editable.move!==!1,k=h.options.editable&&h.options.editable.resize!==!1;(j||k&&i)&&(h._moveDraggable=new c.ui.Draggable(h.element,{distance:0,filter:".k-event",holdToDrag:i}),j&&h._moveDraggable.bind("dragstart",function(a){var f=h.view(),j=a.currentTarget;return i&&!j.hasClass("k-event-active")?(h.element.find(".k-event-active").removeClass("k-event-active"),a.preventDefault(),void 0):(g=h.occurrenceByUid(j.attr(c.attr("uid"))),b=f._slotByPosition(a.x.location,a.y.location),e=b.startOffset(a.x.location,a.y.location,h.options.snap),d=b,(!b||h.trigger("moveStart",{event:g}))&&a.preventDefault(),void 0)}).bind("drag",function(a){var b=h.view(),c=b._slotByPosition(a.x.location,a.y.location);if(c){f=c.startOffset(a.x.location,a.y.location,h.options.snap);var i=f-e;b._updateMoveHint(g,c.groupIndex,i);var j=lb(g,i);h.trigger("move",{event:g,slot:{element:c.element,start:c.startDate(),end:c.endDate()},resources:b._resourceBySlot(c),start:j.start,end:j.end})?b._updateMoveHint(g,c.groupIndex,i):d=c}}).bind("dragend",function(i){h.view()._removeMoveHint();var j=f-e,k=lb(g,j),l=k.start,m=k.end,n=h.view()._resourceBySlot(d),o=h.view()._resourceBySlot(b),p=h.trigger("moveEnd",{event:g,slot:{element:d.element,start:d.startDate(),end:d.endDate()},start:l,end:m,resources:n});p||g.start.getTime()==l.getTime()&&g.end.getTime()==m.getTime()&&c.stringify(n)==c.stringify(o)||h._updateEvent(null,g,a.extend({start:l,end:m},n)),i.currentTarget.removeClass("k-event-active"),this.cancelHold()}).bind("dragcancel",function(){h.view()._removeMoveHint(),this.cancelHold()}),i&&(h._moveDraggable.bind("hold",function(a){h.element.find(".k-scheduler-monthview").length&&a.preventDefault(),h.element.find(".k-event-active").removeClass("k-event-active"),a.currentTarget.addClass("k-event-active")}),h._moveDraggable.userEvents.bind("press",function(a){a.preventDefault()})))},_resizable:function(){function h(a){var b={"k-resize-e":"east","k-resize-w":"west","k-resize-n":"north","k-resize-s":"south"};for(var c in b)if(a.hasClass(c))return b[c]}var b,d,e,f,g=this;g._resizeDraggable=new c.ui.Draggable(g.element,{distance:0,filter:".k-resize-handle",dragstart:function(h){var i=a(h.currentTarget),j=i.closest(".k-event"),k=j.attr(c.attr("uid"));e=g.occurrenceByUid(k),f=g.view()._slotByPosition(h.x.location,h.y.location),g.trigger("resizeStart",{event:e})&&h.preventDefault(),b=c.date.toUtcTime(e.start),d=c.date.toUtcTime(e.end)
},drag:function(i){if(f){var j=a(i.currentTarget),k=h(j),l=g.view(),m=l._slotByPosition(i.x.location,i.y.location);if(m&&f.groupIndex==m.groupIndex){f=m;var n=b,o=d;"south"==k?!f.isDaySlot&&f.end-c.date.toUtcTime(e.start)>=l._timeSlotInterval()&&(d=e.isAllDay?f.startOffset(i.x.location,i.y.location,g.options.snap):f.endOffset(i.x.location,i.y.location,g.options.snap)):"north"==k?!f.isDaySlot&&c.date.toUtcTime(e.end)-f.start>=l._timeSlotInterval()&&(b=f.startOffset(i.x.location,i.y.location,g.options.snap)):"east"==k?f.isDaySlot&&c.date.toUtcTime(c.date.getDate(f.endDate()))>=c.date.toUtcTime(c.date.getDate(e.start))&&(d=e.isAllDay?f.startOffset(i.x.location,i.y.location,g.options.snap):f.endOffset(i.x.location,i.y.location,g.options.snap)):"west"==k&&f.isDaySlot&&c.date.toUtcTime(c.date.getDate(e.end))>=c.date.toUtcTime(c.date.getDate(f.startDate()))&&(b=f.startOffset(i.x.location,i.y.location,g.options.snap)),g.trigger("resize",{event:e,slot:{element:f.element,start:f.startDate(),end:f.endDate()},start:c.timezone.toLocalDate(b),end:c.timezone.toLocalDate(d),resources:l._resourceBySlot(f)})?(b=n,d=o):l._updateResizeHint(e,f.groupIndex,b,d)}}},dragend:function(i){var j=a(i.currentTarget),k=new Date(e.start.getTime()),l=new Date(e.end.getTime()),m=h(j);g.view()._removeResizeHint(),"south"==m?l=c.timezone.toLocalDate(d):"north"==m?k=c.timezone.toLocalDate(b):"east"==m?l=c.date.getDate(c.timezone.toLocalDate(d)):"west"==m&&(k=new Date(c.timezone.toLocalDate(b)),k.setHours(0),k.setMinutes(0));var n=g.trigger("resizeEnd",{event:e,slot:{element:f.element,start:f.startDate(),end:f.endDate()},start:k,end:l,resources:g.view()._resourceBySlot(f)});!n&&l.getTime()>=k.getTime()&&(e.start.getTime()!=k.getTime()||e.end.getTime()!=l.getTime())&&g._updateEvent(m,e,{start:k,end:l})},dragcancel:function(){g.view()._removeResizeHint()}})},_updateEvent:function(a,b,d){var e=this,f=function(a){try{e._preventRefresh=!0,a.update(d)}finally{e._preventRefresh=!1}e.refresh(),e.trigger(A,{event:a})||(e._updateSelection(a),e.dataSource.sync())},g=function(a){return a.recurrenceRule?e.dataSource.getByUid(a.uid):e.dataSource.get(a.recurrenceId)},i=function(){var e=g(b);if("south"==a||"north"==a){if(d.start){var i=c.date.getDate(e.start);c.date.setTime(i,h(d.start)),d.start=i}if(d.end){var j=c.date.getDate(e.end);c.date.setTime(j,h(d.end)),d.end=j}}f(e)},j=function(){var a=g(b).toOccurrence({start:b.start,end:b.end});f(e.dataSource.add(a))},k=e.options.messages.recurrenceMessages;b.recurrenceRule||b.isOccurrence()?e.showDialog({model:b,title:k.editWindowTitle,text:k.editRecurring?k.editRecurring:I,buttons:[{text:k.editWindowOccurrence,click:j},{text:k.editWindowSeries,click:i}]}):f(e.dataSource.getByUid(b.uid))},_modelForContainer:function(b){return b=a(b).closest("["+c.attr("uid")+"]"),this.dataSource.getByUid(b.attr(c.attr("uid")))},showDialog:function(a){this._editor.showDialog(a)},focus:function(){this.wrapper.focus()},_confirmation:function(a,b){var d=this.options.editable;if(d===!0||d.confirmation!==!1){var e=this.options.messages,f=typeof d.confirmation===m?d.confirmation:G,g=[{name:"destroy",text:e.destroy,click:function(){a()}}];this._isMobile()&&c.mobile.ui.Pane||g.push({name:"canceledit",text:e.cancel,click:function(){a(!0)}}),this.showDialog({model:b,text:f,title:e.deleteWindowTitle,buttons:g})}else a()},addEvent:function(a){var d,b=this._editor.editable,c=this.dataSource;a=a||{};var e=this.trigger("add",{event:a});!e&&(b&&b.end()||!b)&&(this.cancelEvent(),a&&a.toJSON&&(a=a.toJSON()),d=c.add(a),d&&(this.cancelEvent(),this._editEvent(d)))},saveEvent:function(){var a=this._editor;if(a){var b=a.editable,c=a.container,d=this._modelForContainer(c);c&&b&&b.end()&&!this.trigger(A,{container:c,event:d})&&(d.dirty||this._convertDates(d,"remove"),d.isRecurrenceHead()&&this.dataSource._removeExceptions(d),this.dataSource.sync())}},cancelEvent:function(){var c,a=this._editor,b=a.container;b&&(c=this._modelForContainer(b),this.dataSource.cancelChanges(c),a.close())},editEvent:function(a){var b="string"==typeof a?this.occurrenceByUid(a):a;b&&(this.cancelEvent(),b.isRecurring()?this._editRecurringDialog(b):this._editEvent(b))},_editEvent:function(a){this._createPopupEditor(a)},_editRecurringDialog:function(a){var b=this,c=function(){a.isException()?b._editEvent(a):b.addEvent(a)},d=function(){a.recurrenceId&&(a=b.dataSource.get(a.recurrenceId)),b._editEvent(a)},e=b.options.messages.recurrenceMessages;b.showDialog({model:a,title:e.editWindowTitle,text:e.editRecurring?e.editRecurring:I,buttons:[{text:e.editWindowOccurrence,click:c},{text:e.editWindowSeries,click:d}]})},_createButton:function(a){var b=a.template||J,d=typeof a===m?a:a.name||a.text,e={className:"k-scheduler-"+(d||"").replace(/\s/g,""),text:d,attr:""};if(!(d||q(a)&&a.template))throw new Error("Custom commands should have name specified");return q(a)?(a.className&&(a.className+=" "+e.className),"edit"===d&&q(a.text)&&(a=r(!0,{},a),a.text=a.text.edit),e=r(!0,e,fb[d],a)):e=r(!0,e,fb[d]),c.template(b)(e)},_convertDates:function(a,b){var d=this.dataSource.reader.timezone,e=a.startTimezone,f=a.endTimezone,g=a.start,h=a.start;b=b||"apply",e=e||f,f=f||e,e&&(d?"apply"===b?(g=c.timezone.convert(a.start,d,e),h=c.timezone.convert(a.end,d,f)):(g=c.timezone.convert(a.start,e,d),h=c.timezone.convert(a.end,f,d)):(g=c.timezone[b](a.start,e),h=c.timezone[b](a.end,f)),a._set("start",g),a._set("end",h))},_createEditor:function(){var b,a=this;b=a._editor=this._isMobile()&&c.mobile.ui.Pane?new ob(this.wrapper,r({},this.options,{timezone:a.dataSource.reader.timezone,resources:a.resources,createButton:s(this._createButton,this)})):new pb(this.wrapper,r({},this.options,{createButton:s(this._createButton,this),timezone:a.dataSource.reader.timezone,resources:a.resources})),b.bind("cancel",function(b){return a.trigger("cancel",{container:b.container,event:b.model})?(b.preventDefault(),void 0):(a.cancelEvent(),a.focus(),void 0)}),b.bind("edit",function(b){a.trigger(C,{container:b.container,event:b.model})&&b.preventDefault()}),b.bind("save",function(){a.saveEvent()}),b.bind("remove",function(b){a.removeEvent(b.model)})},_createPopupEditor:function(a){var b=this._editor;a.isNew()||this._convertDates(a),this.editable=b.editEvent(a)},removeEvent:function(a){var b=this,c="string"==typeof a?b.occurrenceByUid(a):a;c&&(c.isRecurring()?b._deleteRecurringDialog(c):b._confirmation(function(a){a||b._removeEvent(c)},c))},occurrenceByUid:function(a){var b=this.dataSource.getByUid(a);return b||(b=$(this._data,a)),b},occurrencesInRange:function(a,b){return new c.data.Query(this._data).filter({logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:a},{field:"end",operator:"gte",value:a},{field:"start",operator:"lt",value:b}]},{logic:"and",filters:[{field:"start",operator:"lte",value:a},{field:"end",operator:"gt",value:a}]}]}).toArray()},_removeEvent:function(a){this.trigger(z,{event:a})||this.dataSource.remove(a)&&this.dataSource.sync()},_deleteRecurringDialog:function(a){var b=this,c=a,d=function(){var a=c.recurrenceId?c:c.toOccurrence();b._removeEvent(a)},e=function(){c.recurrenceId&&(c=b.dataSource.get(c.recurrenceId)),b._removeEvent(c)},f=b.options.messages.recurrenceMessages;b.showDialog({model:a,title:f.deleteWindowTitle,text:f.deleteRecurring?f.deleteRecurring:H,buttons:[{text:f.deleteWindowOccurrence,click:d},{text:f.deleteWindowSeries,click:e}]})},_unbindView:function(a){a.destroy()},_bindView:function(a){var b=this;b.options.editable&&(b._viewRemoveHandler&&a.unbind(z,b._viewRemoveHandler),b._viewRemoveHandler=function(a){b.removeEvent(a.uid)},a.bind(z,b._viewRemoveHandler),b._viewAddHandler&&a.unbind(B,b._viewAddHandler),b._viewAddHandler=function(a){b.addEvent(a.eventInfo)},a.bind(B,this._viewAddHandler),b._viewEditHandler&&a.unbind(C,b._viewEditHandler),b._viewEditHandler=function(a){b.editEvent(a.uid)},a.bind(C,this._viewEditHandler)),b._viewNavigateHandler&&a.unbind("navigate",b._viewNavigateHandler),b._viewNavigateHandler=function(a){if(a.view){var c="isWorkDay"in a,d=c?"changeWorkDay":"changeView";b.trigger("navigate",{view:a.view,isWorkDay:a.isWorkDay,action:d,date:a.date})||(c&&(b._workDayMode=a.isWorkDay),b._selectView(a.view),b.date(a.date))}},a.bind("navigate",b._viewNavigateHandler),b._viewActivateHandler&&a.unbind("activate",b._viewActivateHandler),b._viewActivateHandler=function(){var a=this;b._selection&&(a.constrainSelection(b._selection),b._select(),b._adjustSelectedDate())},a.bind("activate",b._viewActivateHandler)},_selectView:function(a){var b=this;a&&b.views[a]&&(b._selectedView&&b._unbindView(b._selectedView),b._selectedView=b._renderView(a),b._selectedViewName=a,b.toolbar.find(".k-scheduler-views li").removeClass("k-state-selected").end().find(".k-view-"+a).addClass("k-state-selected"))},view:function(a){var b=this;return a?(b._selectView(a),b.rebind(),void 0):b._selectedView},_renderView:function(a){var b=this._initializeView(a);return this._bindView(b),this._model.set("formattedDate",b.dateForTitle()),b},resize:function(a){var b=this.getSize(),c=this._size;(a||!c||b.width!==c.width||b.height!==c.height)&&(this.refresh({action:"resize"}),this._size=b)},_adjustSelectedDate:function(){var a=this._model.selectedDate,b=this._selection,d=b.start;d&&!c.date.isInDateRange(a,g(d),g(b.end))&&a.setFullYear(d.getFullYear(),d.getMonth(),d.getDate())},_initializeView:function(a){var b=this.views[a];if(b){var d=q(b),e=b.type;if(typeof e===m&&(e=c.getter(b.type)(window)),!e)throw new Error("There is no such view");b=new e(this.wrapper,gb(r(!0,{},this.options,d?b:{},{resources:this.resources,date:this.date(),showWorkHours:this._workDayMode})))}return b},_views:function(){var b,c,d,e,f,g,h,i,a=this.options.views;for(this.views={},h=0,i=a.length;i>h;h++){var j=!1;b=a[h],e=q(b),e?(g=f=b.type?b.type:b,typeof g!==m&&(f=b.title,j=!0)):g=f=b,c=rb[f],c&&!j&&(b.type=c.type,c.title=this.options.messages.views[f],"day"===c.type?c.messages={allDay:this.options.messages.allDay}:"agenda"===c.type&&(c.messages={event:this.options.messages.event,date:this.options.messages.date,time:this.options.messages.time})),b=r({title:f},c,e?b:{}),f&&(this.views[f]=b,(!d||b.selected)&&(d=f))}d&&(this._selectedViewName=d)},rebind:function(){this.dataSource.fetch()},_dataSource:function(){var a=this,b=a.options,d=b.dataSource;d=u(d)?{data:d}:d,!b.timezone||d instanceof db||(d=r(!0,d,{schema:{timezone:b.timezone}})),a.dataSource&&a._refreshHandler?a.dataSource.unbind(x,a._refreshHandler).unbind("progress",a._progressHandler).unbind("error",a._errorHandler):(a._refreshHandler=s(a.refresh,a),a._progressHandler=s(a._requestStart,a),a._errorHandler=s(a._error,a)),a.dataSource=c.data.SchedulerDataSource.create(d).bind(x,a._refreshHandler).bind("progress",a._progressHandler).bind("error",a._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_progress:function(a){var b=this.element.find(".k-scheduler-content");c.ui.progress(b,a)},_resources:function(){for(var b=this,d=b.options.resources,e=0;e<d.length;e++){var f=d[e],g=f.field,h=f.dataSource;if(!g||!h)throw new Error('The "field" and "dataSource" options of the scheduler resource are mandatory.');b.resources.push({field:g,name:f.name||g,title:f.title||g,dataTextField:f.dataTextField||"text",dataValueField:f.dataValueField||"value",dataColorField:f.dataColorField||"color",valuePrimitive:null!=f.valuePrimitive?f.valuePrimitive:!0,multiple:f.multiple||!1,dataSource:c.data.DataSource.create(h)})}var i=a.map(b.resources,function(a){return a.dataSource.fetch()});a.when.apply(null,i).then(function(){b.options.autoBind?b.view(b._selectedViewName):b._selectView(b._selectedViewName)})},_initModel:function(){var a=this;a._model=c.observable({selectedDate:this.options.date,formattedDate:""}),a._model.bind("change",function(b){"selectedDate"===b.field&&a.view(a._selectedViewName)})},_wrapper:function(){var a=this.options.height;this.wrapper=this.element.addClass("k-widget k-scheduler k-floatwrap").attr("role","grid").attr("aria-multiselectable",!0),this._isMobile()&&this.wrapper.addClass("k-scheduler-mobile"),this._isMobilePhoneView()&&this.wrapper.addClass("k-scheduler-phone"),a&&this.wrapper.css("height",a)},date:function(a){return null!=a&&g(a)>=g(this.options.min)&&g(a)<=g(this.options.max)&&this._model.set("selectedDate",a),g(this._model.get("selectedDate"))},_toolbar:function(){var b=this,d=b.options,e=this._isMobilePhoneView()?L:K,f=a(e({messages:d.messages,ns:c.ns,views:b.views}));b.wrapper.append(f),b.toolbar=f,c.bind(b.toolbar,b._model),f.on(w+v,".k-scheduler-navigation li",function(c){var d=a(this),e=new Date(b.date()),f="";if(c.preventDefault(),d.hasClass("k-nav-today"))f="today",e=new Date;else if(d.hasClass("k-nav-next"))f="next",e=b.view().nextDate();else if(d.hasClass("k-nav-prev"))f="previous",e=b.view().previousDate();else if(d.hasClass("k-nav-current")&&!b._isMobilePhoneView())return b._showCalendar(),void 0;b.trigger("navigate",{view:b._selectedViewName,action:f,date:e})||b.date(e)}),f.on(w+v,".k-scheduler-views li",function(d){d.preventDefault();var e=a(this).attr(c.attr("name"));b.trigger("navigate",{view:e,action:"changeView",date:b.date()})||b.view(e)}),f.find("li").hover(function(){a(this).addClass("k-state-hover")},function(){a(this).removeClass("k-state-hover")})},_showCalendar:function(){var b=this,c=b.toolbar.find(".k-nav-current"),d=a('<div class="k-calendar-container"><div class="k-scheduler-calendar"/></div>');b.popup||(b.popup=new n(d,{anchor:c,activate:function(){b.calendar||(b.calendar=new o(this.element.find(".k-scheduler-calendar"),{change:function(){var a=this.value();b.trigger("navigate",{view:b._selectedViewName,action:"changeDate",date:a})||(b.date(a),b.popup.close())},min:b.options.min,max:b.options.max})),b.calendar.value(b.date())},copyAnchorStyles:!1})),b.popup.open()},refresh:function(a){var b=this.view();this._progress(!1),a=a||{},b&&(a&&"itemchange"===a.action&&(this._editor.editable||this._preventRefresh)||this.trigger("dataBinding",{action:a.action||"rebind",index:a.index,items:a.items})||(a&&"resize"===a.action||!this._editor||this._editor.close(),this._data=this.dataSource.expand(b.startDate(),b.endDate()),b.render(this._data),this.trigger("dataBound")))},slotByPosition:function(a,b){var c=this.view();if(!c._slotByPosition)return null;var d=c._slotByPosition(a,b);return d?{startDate:d.startDate(),endDate:d.endDate(),element:d.element,isDaySlot:d.isDaySlot}:null},slotByElement:function(b){var c=a(b).offset();return this.slotByPosition(c.left,c.top)}}),rb={day:{type:"kendo.ui.DayView"},week:{type:"kendo.ui.WeekView"},workWeek:{type:"kendo.ui.WorkWeekView"},agenda:{type:"kendo.ui.AgendaView"},month:{type:"kendo.ui.MonthView"}};k.plugin(qb);var sb=l.extend({init:function(a,b){var d=this,e=c.timezone.windows_zones;if(!e||!c.timezone.zones_titles)throw new Error("kendo.timezones.min.js is not included.");l.fn.init.call(d,a,b),d.wrapper=d.element,d._zonesQuery=new c.data.Query(e),d._zoneTitleId=c.guid(),d._zoneTitlePicker(),d._zonePicker(),d.value(d.options.value)},options:{name:"TimezoneEditor",value:"",optionLabel:"No timezone"},events:["change"],_zoneTitlePicker:function(){var b=this,d=a('<input id="'+b._zoneTitleId+'"/>').appendTo(b.wrapper);b._zoneTitle=new c.ui.DropDownList(d,{dataSource:c.timezone.zones_titles,dataValueField:"other_zone",dataTextField:"name",optionLabel:b.options.optionLabel,cascade:function(){this.value()||b._zone.wrapper.hide()}})},_zonePicker:function(){var b=this,d=a("<input />").appendTo(this.wrapper);b._zone=new c.ui.DropDownList(d,{dataValueField:"zone",dataTextField:"territory",dataSource:b._zonesQuery.data,cascadeFrom:b._zoneTitleId,cascade:function(){b._value=this.value(),b.trigger("change")},dataBound:function(){b._value=this.value(),this.wrapper.toggle(this.dataSource.view().length>1)}}),b._zone.wrapper.hide()},destroy:function(){l.fn.destroy.call(this),this._moveDraggable&&this._moveDraggable.destroy(),this._resizeDraggable&&this._resizeDraggable.destroy(),c.destroy(this.wrapper)},value:function(a){var d,c=this;return a===b?c._value:(d=c._zonesQuery.filter({field:"zone",operator:"eq",value:a}).data[0],d?(c._zoneTitle.value(d.other_zone),c._zone.value(d.zone)):c._zoneTitle.value(""),void 0)}});k.plugin(sb);var tb=c.template('<option value="#=other_zone#">#=name#</option>'),ub=c.template('<option value="#=zone#">#=territory#</option>'),vb=l.extend({init:function(a,b){var d=this,e=c.timezone.windows_zones;if(!e||!c.timezone.zones_titles)throw new Error("kendo.timezones.min.js is not included.");l.fn.init.call(d,a,b),d.wrapper=d.element,d._zonesQuery=new c.data.Query(e),d._zoneTitlePicker(),d._zonePicker(),d.value(d.options.value)},options:{name:"MobileTimezoneEditor",optionLabel:"No timezone",value:""},events:["change"],_bindZones:function(a){var b=a?this._filter(a):[];this._zone.html(this._options(b,ub))},_filter:function(a){return this._zonesQuery.filter({field:"other_zone",operator:"eq",value:a}).data},_options:function(a,b,c){var d=0,e="",f=a.length;for(c&&(e+=b({other_zone:"",name:this.options.optionLabel}));f>d;d++)e+=b(a[d]);return e},_zoneTitlePicker:function(){var b=this,d=b._options(c.timezone.zones_titles,tb,b.options.optionLabel);b._zoneTitle=a("<select>"+d+"</select>").appendTo(b.wrapper).change(function(){var a=this.value,c=b._zone;b._bindZones(a),a&&c[0].children.length>1?c.show():c.hide(),b._value=c[0].value,b.trigger("change")})},_zonePicker:function(){var b=this;b._zone=a('<select style="display:none"></select>').appendTo(this.wrapper).change(function(){b._value=this.value,b.trigger("change")}),b._bindZones(b._zoneTitle.val()),b._value=b._zone[0].value},destroy:function(){l.fn.destroy.call(this),c.destroy(this.wrapper)},value:function(a){var g,c=this,d=c._zone,e="",f="";return a===b?c._value:(g=c._zonesQuery.filter({field:"zone",operator:"eq",value:a}).data[0],g&&(f=g.zone,e=g.other_zone),c._zoneTitle.val(e),c._bindZones(e),d.val(f),f=d[0].value,f&&d[0].children.length>1?d.show():d.hide(),c._value=f,void 0)}});k.plugin(vb)}(window.kendo.jQuery);